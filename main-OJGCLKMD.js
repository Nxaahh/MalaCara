var hk=Object.defineProperty,mk=Object.defineProperties;var gk=Object.getOwnPropertyDescriptors;var aw=Object.getOwnPropertySymbols,bk=Object.getPrototypeOf,vk=Object.prototype.hasOwnProperty,yk=Object.prototype.propertyIsEnumerable,wk=Reflect.get;var lw=(t,e,n)=>e in t?hk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,y=(t,e)=>{for(var n in e||={})vk.call(e,n)&&lw(t,n,e[n]);if(aw)for(var n of aw(e))yk.call(e,n)&&lw(t,n,e[n]);return t},M=(t,e)=>mk(t,gk(e));var Hr=(t,e,n)=>wk(bk(t),n,e);var h=(t,e,n)=>new Promise((r,o)=>{var i=l=>{try{a(n.next(l))}catch(c){o(c)}},s=l=>{try{a(n.throw(l))}catch(c){o(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(i,s);a((n=n.apply(t,e)).next())});var gp;function Wl(){return gp}function en(t){let e=gp;return gp=t,e}var cw=Symbol("NotFound");function Jo(t){return t===cw||t?.name==="\u0275NotFound"}function Zl(t,e){return Object.is(t,e)}var Ie=null,Gl=!1,bp=1,_k=null,Ve=Symbol("SIGNAL");function j(t){let e=Ie;return Ie=t,e}function Ql(){return Ie}var $r={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Xo(t){if(Gl)throw new Error("");if(Ie===null)return;Ie.consumerOnSignalRead(t);let e=Ie.nextProducerIndex++;if(tc(Ie),e<Ie.producerNode.length&&Ie.producerNode[e]!==t&&Ts(Ie)){let n=Ie.producerNode[e];ec(n,Ie.producerIndexOfThis[e])}Ie.producerNode[e]!==t&&(Ie.producerNode[e]=t,Ie.producerIndexOfThis[e]=Ts(Ie)?uw(t,Ie,e):0),Ie.producerLastReadVersion[e]=t.version}function dw(){bp++}function Jl(t){if(!(Ts(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===bp)){if(!t.producerMustRecompute(t)&&!Ss(t)){Kl(t);return}t.producerRecomputeValue(t),Kl(t)}}function vp(t){if(t.liveConsumerNode===void 0)return;let e=Gl;Gl=!0;try{for(let n of t.liveConsumerNode)n.dirty||Ek(n)}finally{Gl=e}}function yp(){return Ie?.consumerAllowSignalWrites!==!1}function Ek(t){t.dirty=!0,vp(t),t.consumerMarkedDirty?.(t)}function Kl(t){t.dirty=!1,t.lastCleanEpoch=bp}function zr(t){return t&&(t.nextProducerIndex=0),j(t)}function ei(t,e){if(j(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Ts(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)ec(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Ss(t){tc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Jl(n),r!==n.version))return!0}return!1}function Xl(t){if(tc(t),Ts(t))for(let e=0;e<t.producerNode.length;e++)ec(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function uw(t,e,n){if(fw(t),t.liveConsumerNode.length===0&&pw(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=uw(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function ec(t,e){if(fw(t),t.liveConsumerNode.length===1&&pw(t))for(let r=0;r<t.producerNode.length;r++)ec(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],o=t.liveConsumerNode[e];tc(o),o.producerIndexOfThis[r]=e}}function Ts(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function tc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function fw(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function pw(t){return t.producerNode!==void 0}function nc(t){_k?.(t)}function rc(t,e){let n=Object.create(Ik);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(Jl(n),Xo(n),n.value===Ds)throw n.error;return n.value};return r[Ve]=n,nc(n),r}var ql=Symbol("UNSET"),Yl=Symbol("COMPUTING"),Ds=Symbol("ERRORED"),Ik=M(y({},$r),{value:ql,dirty:!0,error:null,equal:Zl,kind:"computed",producerMustRecompute(t){return t.value===ql||t.value===Yl},producerRecomputeValue(t){if(t.value===Yl)throw new Error("");let e=t.value;t.value=Yl;let n=zr(t),r,o=!1;try{r=t.computation(),j(null),o=e!==ql&&e!==Ds&&r!==Ds&&t.equal(e,r)}catch(i){r=Ds,t.error=i}finally{ei(t,n)}if(o){t.value=e;return}t.value=r,t.version++}});function Ck(){throw new Error}var hw=Ck;function mw(t){hw(t)}function wp(t){hw=t}var xk=null;function _p(t,e){let n=Object.create(oc);n.value=t,e!==void 0&&(n.equal=e);let r=()=>gw(n);return r[Ve]=n,nc(n),[r,s=>ti(n,s),s=>Ep(n,s)]}function gw(t){return Xo(t),t.value}function ti(t,e){yp()||mw(t),t.equal(t.value,e)||(t.value=e,Dk(t))}function Ep(t,e){yp()||mw(t),ti(t,e(t.value))}var oc=M(y({},$r),{equal:Zl,value:void 0,kind:"signal"});function Dk(t){t.version++,dw(),vp(t),xk?.(t)}function O(t){return typeof t=="function"}function ni(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ic=ni(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Wr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ce=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let i of n)i.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(O(r))try{r()}catch(i){e=i instanceof ic?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{bw(i)}catch(s){e=e??[],s instanceof ic?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ic(e)}}add(e){var n;if(e&&e!==this)if(this.closed)bw(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Wr(n,e)}remove(e){let{_finalizers:n}=this;n&&Wr(n,e),e instanceof t&&e._removeParent(this)}};ce.EMPTY=(()=>{let t=new ce;return t.closed=!0,t})();var Ip=ce.EMPTY;function sc(t){return t instanceof ce||t&&"closed"in t&&O(t.remove)&&O(t.add)&&O(t.unsubscribe)}function bw(t){O(t)?t():t.unsubscribe()}var Ot={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ri={setTimeout(t,e,...n){let{delegate:r}=ri;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ri;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ac(t){ri.setTimeout(()=>{let{onUnhandledError:e}=Ot;if(e)e(t);else throw t})}function ks(){}var vw=Cp("C",void 0,void 0);function yw(t){return Cp("E",void 0,t)}function ww(t){return Cp("N",t,void 0)}function Cp(t,e,n){return{kind:t,value:e,error:n}}var Gr=null;function oi(t){if(Ot.useDeprecatedSynchronousErrorHandling){let e=!Gr;if(e&&(Gr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Gr;if(Gr=null,n)throw r}}else t()}function _w(t){Ot.useDeprecatedSynchronousErrorHandling&&Gr&&(Gr.errorThrown=!0,Gr.error=t)}var qr=class extends ce{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,sc(e)&&e.add(this)):this.destination=kk}static create(e,n,r){return new ii(e,n,r)}next(e){this.isStopped?Dp(ww(e),this):this._next(e)}error(e){this.isStopped?Dp(yw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Dp(vw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Tk=Function.prototype.bind;function xp(t,e){return Tk.call(t,e)}var Tp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){lc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){lc(r)}else lc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){lc(n)}}},ii=class extends qr{constructor(e,n,r){super();let o;if(O(e)||!e)o={next:e??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&Ot.useDeprecatedNextContext?(i=Object.create(e),i.unsubscribe=()=>this.unsubscribe(),o={next:e.next&&xp(e.next,i),error:e.error&&xp(e.error,i),complete:e.complete&&xp(e.complete,i)}):o=e}this.destination=new Tp(o)}};function lc(t){Ot.useDeprecatedSynchronousErrorHandling?_w(t):ac(t)}function Sk(t){throw t}function Dp(t,e){let{onStoppedNotification:n}=Ot;n&&ri.setTimeout(()=>n(t,e))}var kk={closed:!0,next:ks,error:Sk,complete:ks};var si=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ut(t){return t}function Sp(...t){return kp(t)}function kp(t){return t.length===0?ut:t.length===1?t[0]:function(n){return t.reduce((r,o)=>o(r),n)}}var P=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,o){let i=Rk(n)?n:new ii(n,r,o);return oi(()=>{let{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Ew(r),new r((o,i)=>{let s=new ii({next:a=>{try{n(a)}catch(l){i(l),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[si](){return this}pipe(...n){return kp(n)(this)}toPromise(n){return n=Ew(n),new n((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return t.create=e=>new t(e),t})();function Ew(t){var e;return(e=t??Ot.Promise)!==null&&e!==void 0?e:Promise}function Ak(t){return t&&O(t.next)&&O(t.error)&&O(t.complete)}function Rk(t){return t&&t instanceof qr||Ak(t)&&sc(t)}function Ap(t){return O(t?.lift)}function G(t){return e=>{if(Ap(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function W(t,e,n,r,o){return new Rp(t,e,n,r,o)}var Rp=class extends qr{constructor(e,n,r,o,i,s){super(e),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=o?function(a){try{o(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ai(){return G((t,e)=>{let n=null;t._refCount++;let r=W(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let o=t._connection,i=n;n=null,o&&(!i||o===i)&&o.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var li=class extends P{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Ap(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ce;let n=this.getSubject();e.add(this.source.subscribe(W(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ce.EMPTY)}return e}refCount(){return ai()(this)}};var Iw=ni(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ce=(()=>{class t extends P{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new cc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Iw}next(n){oi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){oi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){oi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:o,observers:i}=this;return r||o?Ip:(this.currentObservers=null,i.push(n),new ce(()=>{this.currentObservers=null,Wr(i,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:o,isStopped:i}=this;r?n.error(o):i&&n.complete()}asObservable(){let n=new P;return n.source=this,n}}return t.create=(e,n)=>new cc(e,n),t})(),cc=class extends Ce{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Ip}};var xe=class extends Ce{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Np={now(){return(Np.delegate||Date).now()},delegate:void 0};var dc=class extends ce{constructor(e,n){super()}schedule(e,n=0){return this}};var As={setInterval(t,e,...n){let{delegate:r}=As;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=As;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ci=class extends dc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let o=this.id,i=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(i,o,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(i,this.id,n),this}requestAsyncId(e,n,r=0){return As.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&As.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,o;try{this.work(e)}catch(i){r=!0,o=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Wr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var di=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};di.now=Np.now;var ui=class extends di{constructor(e,n=di.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Mp=new ui(ci);var uc=class extends ci{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var fc=class extends ui{};var Op=new fc(uc);var Ze=new P(t=>t.complete());function Cw(t){return t&&O(t.schedule)}function xw(t){return t[t.length-1]}function pc(t){return O(xw(t))?t.pop():void 0}function tr(t){return Cw(xw(t))?t.pop():void 0}function Pp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function Tw(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(d){try{c(r.next(d))}catch(u){s(u)}}function l(d){try{c(r.throw(d))}catch(u){s(u)}}function c(d){d.done?i(d.value):o(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function Dw(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Yr(t){return this instanceof Yr?(this.v=t,this):new Yr(t)}function Sw(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(p){return function(m){return Promise.resolve(m).then(p,u)}}function a(p,m){r[p]&&(o[p]=function(w){return new Promise(function(b,C){i.push([p,w,b,C])>1||l(p,w)})},m&&(o[p]=m(o[p])))}function l(p,m){try{c(r[p](m))}catch(w){f(i[0][3],w)}}function c(p){p.value instanceof Yr?Promise.resolve(p.value.v).then(d,u):f(i[0][2],p)}function d(p){l("next",p)}function u(p){l("throw",p)}function f(p,m){p(m),i.shift(),i.length&&l(i[0][0],i[0][1])}}function kw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Dw=="function"?Dw(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(s){return new Promise(function(a,l){s=t[i](s),o(a,l,s.done,s.value)})}}function o(i,s,a,l){Promise.resolve(l).then(function(c){i({value:c,done:a})},s)}}var hc=t=>t&&typeof t.length=="number"&&typeof t!="function";function mc(t){return O(t?.then)}function gc(t){return O(t[si])}function bc(t){return Symbol.asyncIterator&&O(t?.[Symbol.asyncIterator])}function vc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Nk(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var yc=Nk();function wc(t){return O(t?.[yc])}function _c(t){return Sw(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:o}=yield Yr(n.read());if(o)return yield Yr(void 0);yield yield Yr(r)}}finally{n.releaseLock()}})}function Ec(t){return O(t?.getReader)}function ye(t){if(t instanceof P)return t;if(t!=null){if(gc(t))return Mk(t);if(hc(t))return Ok(t);if(mc(t))return Pk(t);if(bc(t))return Aw(t);if(wc(t))return Fk(t);if(Ec(t))return Lk(t)}throw vc(t)}function Mk(t){return new P(e=>{let n=t[si]();if(O(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Ok(t){return new P(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Pk(t){return new P(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ac)})}function Fk(t){return new P(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Aw(t){return new P(e=>{jk(t,e).catch(n=>e.error(n))})}function Lk(t){return Aw(_c(t))}function jk(t,e){var n,r,o,i;return Tw(this,void 0,void 0,function*(){try{for(n=kw(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(o)throw o.error}}e.complete()})}function Qe(t,e,n,r=0,o=!1){let i=e.schedule(function(){n(),o?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(i),!o)return i}function nr(t,e=0){return G((n,r)=>{n.subscribe(W(r,o=>Qe(r,t,()=>r.next(o),e),()=>Qe(r,t,()=>r.complete(),e),o=>Qe(r,t,()=>r.error(o),e)))})}function rr(t,e=0){return G((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Rw(t,e){return ye(t).pipe(rr(e),nr(e))}function Nw(t,e){return ye(t).pipe(rr(e),nr(e))}function Mw(t,e){return new P(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Ow(t,e){return new P(n=>{let r;return Qe(n,e,()=>{r=t[yc](),Qe(n,e,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){n.error(s);return}i?n.complete():n.next(o)},0,!0)}),()=>O(r?.return)&&r.return()})}function Ic(t,e){if(!t)throw new Error("Iterable cannot be null");return new P(n=>{Qe(n,e,()=>{let r=t[Symbol.asyncIterator]();Qe(n,e,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function Pw(t,e){return Ic(_c(t),e)}function Fw(t,e){if(t!=null){if(gc(t))return Rw(t,e);if(hc(t))return Mw(t,e);if(mc(t))return Nw(t,e);if(bc(t))return Ic(t,e);if(wc(t))return Ow(t,e);if(Ec(t))return Pw(t,e)}throw vc(t)}function de(t,e){return e?Fw(t,e):ye(t)}function R(...t){let e=tr(t);return de(t,e)}function fi(t,e){let n=O(t)?t:()=>t,r=o=>o.error(n());return new P(e?o=>e.schedule(r,0,o):r)}function Fp(t){return!!t&&(t instanceof P||O(t.lift)&&O(t.subscribe))}var Dn=ni(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function V(t,e){return G((n,r)=>{let o=0;n.subscribe(W(r,i=>{r.next(t.call(e,i,o++))}))})}var{isArray:Vk}=Array;function Uk(t,e){return Vk(e)?t(...e):t(e)}function Cc(t){return V(e=>Uk(t,e))}var{isArray:Bk}=Array,{getPrototypeOf:Hk,prototype:$k,keys:zk}=Object;function xc(t){if(t.length===1){let e=t[0];if(Bk(e))return{args:e,keys:null};if(Wk(e)){let n=zk(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function Wk(t){return t&&typeof t=="object"&&Hk(t)===$k}function Dc(t,e){return t.reduce((n,r,o)=>(n[r]=e[o],n),{})}function Tc(...t){let e=tr(t),n=pc(t),{args:r,keys:o}=xc(t);if(r.length===0)return de([],e);let i=new P(Gk(r,e,o?s=>Dc(o,s):ut));return n?i.pipe(Cc(n)):i}function Gk(t,e,n=ut){return r=>{Lw(e,()=>{let{length:o}=t,i=new Array(o),s=o,a=o;for(let l=0;l<o;l++)Lw(e,()=>{let c=de(t[l],e),d=!1;c.subscribe(W(r,u=>{i[l]=u,d||(d=!0,a--),a||r.next(n(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Lw(t,e,n){t?Qe(n,t,e):e()}function jw(t,e,n,r,o,i,s,a){let l=[],c=0,d=0,u=!1,f=()=>{u&&!l.length&&!c&&e.complete()},p=w=>c<r?m(w):l.push(w),m=w=>{i&&e.next(w),c++;let b=!1;ye(n(w,d++)).subscribe(W(e,C=>{o?.(C),i?p(C):e.next(C)},()=>{b=!0},void 0,()=>{if(b)try{for(c--;l.length&&c<r;){let C=l.shift();s?Qe(e,s,()=>m(C)):m(C)}f()}catch(C){e.error(C)}}))};return t.subscribe(W(e,p,()=>{u=!0,f()})),()=>{a?.()}}function De(t,e,n=1/0){return O(e)?De((r,o)=>V((i,s)=>e(r,i,o,s))(ye(t(r,o))),n):(typeof e=="number"&&(n=e),G((r,o)=>jw(r,o,t,n)))}function Vw(t=1/0){return De(ut,t)}function Uw(){return Vw(1)}function pi(...t){return Uw()(de(t,tr(t)))}function Rs(t){return new P(e=>{ye(t()).subscribe(e)})}function Lp(...t){let e=pc(t),{args:n,keys:r}=xc(t),o=new P(i=>{let{length:s}=n;if(!s){i.complete();return}let a=new Array(s),l=s,c=s;for(let d=0;d<s;d++){let u=!1;ye(n[d]).subscribe(W(i,f=>{u||(u=!0,c--),a[d]=f},()=>l--,void 0,()=>{(!l||!u)&&(c||i.next(r?Dc(r,a):a),i.complete())}))}});return e?o.pipe(Cc(e)):o}function Je(t,e){return G((n,r)=>{let o=0;n.subscribe(W(r,i=>t.call(e,i,o++)&&r.next(i)))})}function or(t){return G((e,n)=>{let r=null,o=!1,i;r=e.subscribe(W(n,void 0,void 0,s=>{i=ye(t(s,or(t)(e))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function Bw(t,e,n,r,o){return(i,s)=>{let a=n,l=e,c=0;i.subscribe(W(s,d=>{let u=c++;l=a?t(l,d,u):(a=!0,d),r&&s.next(l)},o&&(()=>{a&&s.next(l),s.complete()})))}}function ir(t,e){return O(e)?De(t,e,1):De(t,1)}function sr(t){return G((e,n)=>{let r=!1;e.subscribe(W(n,o=>{r=!0,n.next(o)},()=>{r||n.next(t),n.complete()}))})}function Tn(t){return t<=0?()=>Ze:G((e,n)=>{let r=0;e.subscribe(W(n,o=>{++r<=t&&(n.next(o),t<=r&&n.complete())}))})}function Sc(t=qk){return G((e,n)=>{let r=!1;e.subscribe(W(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(t())))})}function qk(){return new Dn}function ar(t){return G((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Sn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Je((o,i)=>t(o,i,r)):ut,Tn(1),n?sr(e):Sc(()=>new Dn))}function hi(t){return t<=0?()=>Ze:G((e,n)=>{let r=[];e.subscribe(W(n,o=>{r.push(o),t<r.length&&r.shift()},()=>{for(let o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function jp(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Je((o,i)=>t(o,i,r)):ut,hi(1),n?sr(e):Sc(()=>new Dn))}function Vp(t,e){return G(Bw(t,e,arguments.length>=2,!0))}function Up(...t){let e=tr(t);return G((n,r)=>{(e?pi(t,n,e):pi(t,n)).subscribe(r)})}function Xe(t,e){return G((n,r)=>{let o=null,i=0,s=!1,a=()=>s&&!o&&r.complete();n.subscribe(W(r,l=>{o?.unsubscribe();let c=0,d=i++;ye(t(l,d)).subscribe(o=W(r,u=>r.next(e?e(l,u,d,c++):u),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function kc(t){return G((e,n)=>{ye(t).subscribe(W(n,()=>n.complete(),ks)),!n.closed&&e.subscribe(n)})}function Re(t,e,n){let r=O(t)||e||n?{next:t,error:e,complete:n}:t;return r?G((o,i)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;o.subscribe(W(i,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),i.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),i.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),i.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):ut}function Hw(t){let e=j(null);try{return t()}finally{j(e)}}var Oc="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",E=class extends Error{code;constructor(e,n){super(Xr(e,n)),this.code=e}};function Yk(t){return`NG0${Math.abs(t)}`}function Xr(t,e){return`${Yk(t)}${e?": "+e:""}`}var Nn=globalThis;function Q(t){for(let e in t)if(t[e]===Q)return e;throw Error("")}function Ww(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function An(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(An).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Xp(t,e){return t?e?`${t} ${e}`:t:e||""}var Kk=Q({__forward_ref__:Q});function pt(t){return t.__forward_ref__=pt,t.toString=function(){return An(this())},t}function Pe(t){return eh(t)?t():t}function eh(t){return typeof t=="function"&&t.hasOwnProperty(Kk)&&t.__forward_ref__===pt}function Gw(t,e){t==null&&th(e,t,null,"!=")}function th(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(r==null?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function D(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function _t(t){return{providers:t.providers||[],imports:t.imports||[]}}function Fs(t){return Zk(t,Pc)}function nh(t){return Fs(t)!==null}function Zk(t,e){return t.hasOwnProperty(e)&&t[e]||null}function Qk(t){let e=t?.[Pc]??null;return e||null}function Hp(t){return t&&t.hasOwnProperty(Rc)?t[Rc]:null}var Pc=Q({\u0275prov:Q}),Rc=Q({\u0275inj:Q}),x=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=D({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function rh(t){return t&&!!t.\u0275providers}var oh=Q({\u0275cmp:Q}),ih=Q({\u0275dir:Q}),sh=Q({\u0275pipe:Q}),ah=Q({\u0275mod:Q}),Os=Q({\u0275fac:Q}),eo=Q({__NG_ELEMENT_ID__:Q}),$w=Q({__NG_ENV_ID__:Q});function dr(t){return typeof t=="string"?t:t==null?"":String(t)}function Nc(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():dr(t)}var lh=Q({ngErrorCode:Q}),qw=Q({ngErrorMessage:Q}),Ms=Q({ngTokenPath:Q});function ch(t,e){return Yw("",-200,e)}function Fc(t,e){throw new E(-201,!1)}function Jk(t,e){t[Ms]??=[];let n=t[Ms],r;typeof e=="object"&&"multi"in e&&e?.multi===!0?(Gw(e.provide,"Token with multi: true should have a provide property"),r=Nc(e.provide)):r=Nc(e),n[0]!==r&&t[Ms].unshift(r)}function Xk(t,e){let n=t[Ms],r=t[lh],o=t[qw]||t.message;return t.message=tA(o,r,n,e),t}function Yw(t,e,n){let r=new E(e,t);return r[lh]=e,r[qw]=t,n&&(r[Ms]=n),r}function eA(t){return t[lh]}function tA(t,e,n=[],r=null){let o="";n&&n.length>1&&(o=` Path: ${n.join(" -> ")}.`);let i=r?` Source: ${r}.`:"";return Xr(e,`${t}${i}${o}`)}var $p;function Kw(){return $p}function Ge(t){let e=$p;return $p=t,e}function dh(t,e,n){let r=Fs(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;Fc(t,"Injector")}var nA={},Kr=nA,zp="__NG_DI_FLAG__",Wp=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=Zr(n)||0;try{return this.injector.get(e,r&8?null:Kr,r)}catch(o){if(Jo(o))return o;throw o}}};function rA(t,e=0){let n=Wl();if(n===void 0)throw new E(-203,!1);if(n===null)return dh(t,void 0,e);{let r=oA(e),o=n.retrieve(t,r);if(Jo(o)){if(r.optional)return null;throw o}return o}}function S(t,e=0){return(Kw()||rA)(Pe(t),e)}function g(t,e){return S(t,Zr(e))}function Zr(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function oA(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function Gp(t){let e=[];for(let n=0;n<t.length;n++){let r=Pe(t[n]);if(Array.isArray(r)){if(r.length===0)throw new E(900,!1);let o,i=0;for(let s=0;s<r.length;s++){let a=r[s],l=iA(a);typeof l=="number"?l===-1?o=a.token:i|=l:o=a}e.push(S(o,i))}else e.push(S(r))}return e}function uh(t,e){return t[zp]=e,t.prototype[zp]=e,t}function iA(t){return t[zp]}function lr(t,e){let n=t.hasOwnProperty(Os);return n?t[Os]:null}function Lc(t,e){t.forEach(n=>Array.isArray(n)?Lc(n,e):e(n))}function fh(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ls(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Zw(t,e,n,r){let o=t.length;if(o==e)t.push(n,r);else if(o===1)t.push(r,t[0]),t[0]=n;else{for(o--,t.push(t[o-1],t[o]);o>e;){let i=o-2;t[o]=t[i],o--}t[e]=n,t[e+1]=r}}function Qw(t,e,n){let r=gi(t,e);return r>=0?t[r|1]=n:(r=~r,Zw(t,r,e,n)),r}function jc(t,e){let n=gi(t,e);if(n>=0)return t[n|1]}function gi(t,e){return sA(t,e,1)}function sA(t,e,n){let r=0,o=t.length>>n;for(;o!==r;){let i=r+(o-r>>1),s=t[i<<n];if(e===s)return i<<n;s>e?o=i:r=i+1}return~(o<<n)}var ur={},ft=[],fr=new x(""),ph=new x("",-1),hh=new x(""),Ps=class{get(e,n=Kr){if(n===Kr){let o=Yw("",-201);throw o.name="\u0275NotFound",o}return n}};function mh(t){return t[ah]||null}function pr(t){return t[oh]||null}function gh(t){return t[ih]||null}function Jw(t){return t[sh]||null}function tn(t){return{\u0275providers:t}}function Vc(...t){return{\u0275providers:bh(!0,t),\u0275fromNgModule:!0}}function bh(t,...e){let n=[],r=new Set,o,i=s=>{n.push(s)};return Lc(e,s=>{let a=s;Mc(a,i,[],r)&&(o||=[],o.push(a))}),o!==void 0&&Xw(o,i),n}function Xw(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:o}=t[n];vh(o,i=>{e(i,r)})}}function Mc(t,e,n,r){if(t=Pe(t),!t)return!1;let o=null,i=Hp(t),s=!i&&pr(t);if(!i&&!s){let l=t.ngModule;if(i=Hp(l),i)o=l;else return!1}else{if(s&&!s.standalone)return!1;o=t}let a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)Mc(c,e,n,r)}}else if(i){if(i.imports!=null&&!a){r.add(o);let c;try{Lc(i.imports,d=>{Mc(d,e,n,r)&&(c||=[],c.push(d))})}finally{}c!==void 0&&Xw(c,e)}if(!a){let c=lr(o)||(()=>new o);e({provide:o,useFactory:c,deps:ft},o),e({provide:hh,useValue:o,multi:!0},o),e({provide:fr,useValue:()=>S(o),multi:!0},o)}let l=i.providers;if(l!=null&&!a){let c=t;vh(l,d=>{e(d,c)})}}else return!1;return o!==t&&t.providers!==void 0}function vh(t,e){for(let n of t)rh(n)&&(n=n.\u0275providers),Array.isArray(n)?vh(n,e):e(n)}var aA=Q({provide:String,useValue:Q});function e_(t){return t!==null&&typeof t=="object"&&aA in t}function lA(t){return!!(t&&t.useExisting)}function cA(t){return!!(t&&t.useFactory)}function Qr(t){return typeof t=="function"}function t_(t){return!!t.useClass}var js=new x(""),Ac={},zw={},Bp;function Vs(){return Bp===void 0&&(Bp=new Ps),Bp}var he=class{},Jr=class extends he{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,Yp(e,s=>this.processProvider(s)),this.records.set(ph,mi(void 0,this)),o.has("environment")&&this.records.set(he,mi(void 0,this));let i=this.records.get(js);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(hh,ft,{self:!0}))}retrieve(e,n){let r=Zr(n)||0;try{return this.get(e,Kr,r)}catch(o){if(Jo(o))return o;throw o}}destroy(){Ns(this),this._destroyed=!0;let e=j(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),j(e)}}onDestroy(e){return Ns(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Ns(this);let n=en(this),r=Ge(void 0),o;try{return e()}finally{en(n),Ge(r)}}get(e,n=Kr,r){if(Ns(this),e.hasOwnProperty($w))return e[$w](this);let o=Zr(r),i,s=en(this),a=Ge(void 0);try{if(!(o&4)){let c=this.records.get(e);if(c===void 0){let d=hA(e)&&Fs(e);d&&this.injectableDefInScope(d)?c=mi(qp(e),Ac):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c,o)}let l=o&2?Vs():this.parent;return n=o&8&&n===Kr?null:n,l.get(e,n)}catch(l){let c=eA(l);throw c===-200||c===-201?new E(c,null):l}finally{Ge(a),en(s)}}resolveInjectorInitializers(){let e=j(null),n=en(this),r=Ge(void 0),o;try{let i=this.get(fr,ft,{self:!0});for(let s of i)s()}finally{en(n),Ge(r),j(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(An(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Pe(e);let n=Qr(e)?e:Pe(e&&e.provide),r=uA(e);if(!Qr(e)&&e.multi===!0){let o=this.records.get(n);o||(o=mi(void 0,Ac,!0),o.factory=()=>Gp(o.multi),this.records.set(n,o)),n=e,o.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let o=j(null);try{if(n.value===zw)throw ch(An(e));return n.value===Ac&&(n.value=zw,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&pA(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{j(o)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Pe(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function qp(t){let e=Fs(t),n=e!==null?e.factory:lr(t);if(n!==null)return n;if(t instanceof x)throw new E(204,!1);if(t instanceof Function)return dA(t);throw new E(204,!1)}function dA(t){if(t.length>0)throw new E(204,!1);let n=Qk(t);return n!==null?()=>n.factory(t):()=>new t}function uA(t){if(e_(t))return mi(void 0,t.useValue);{let e=yh(t);return mi(e,Ac)}}function yh(t,e,n){let r;if(Qr(t)){let o=Pe(t);return lr(o)||qp(o)}else if(e_(t))r=()=>Pe(t.useValue);else if(cA(t))r=()=>t.useFactory(...Gp(t.deps||[]));else if(lA(t))r=(o,i)=>S(Pe(t.useExisting),i!==void 0&&i&8?8:void 0);else{let o=Pe(t&&(t.useClass||t.provide));if(fA(t))r=()=>new o(...Gp(t.deps));else return lr(o)||qp(o)}return r}function Ns(t){if(t.destroyed)throw new E(205,!1)}function mi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function fA(t){return!!t.deps}function pA(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function hA(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function Yp(t,e){for(let n of t)Array.isArray(n)?Yp(n,e):n&&rh(n)?Yp(n.\u0275providers,e):e(n)}function me(t,e){let n;t instanceof Jr?(Ns(t),n=t):n=new Wp(t);let r,o=en(n),i=Ge(void 0);try{return e()}finally{en(o),Ge(i)}}function n_(){return Kw()!==void 0||Wl()!=null}var Ft=0,F=1,N=2,Fe=3,Et=4,It=5,Us=6,bi=7,Ue=8,to=9,nn=10,ue=11,vi=12,wh=13,no=14,Ct=15,ro=16,oo=17,io=18,Bs=19,_h=20,kn=21,Uc=22,Hs=23,ht=24,so=25,Be=26,r_=1;var hr=7,$s=8,zs=9,et=10;function rn(t){return Array.isArray(t)&&typeof t[r_]=="object"}function Lt(t){return Array.isArray(t)&&t[r_]===!0}function Eh(t){return(t.flags&4)!==0}function mr(t){return t.componentOffset>-1}function Ws(t){return(t.flags&1)===1}function on(t){return!!t.template}function yi(t){return(t[N]&512)!==0}function ao(t){return(t[N]&256)===256}var o_="svg",i_="math";function xt(t){for(;Array.isArray(t);)t=t[Ft];return t}function Ih(t,e){return xt(e[t])}function jt(t,e){return xt(e[t.index])}function Bc(t,e){return t.data[e]}function Ch(t,e){return t[e]}function xh(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function Dt(t,e){let n=e[t];return rn(n)?n:n[Ft]}function Hc(t){return(t[N]&128)===128}function s_(t){return Lt(t[Fe])}function Gs(t,e){return e==null?null:t[e]}function Dh(t){t[oo]=0}function Th(t){t[N]&1024||(t[N]|=1024,Hc(t)&&wi(t))}function a_(t,e){for(;t>0;)e=e[no],t--;return e}function qs(t){return!!(t[N]&9216||t[ht]?.dirty)}function $c(t){t[nn].changeDetectionScheduler?.notify(8),t[N]&64&&(t[N]|=1024),qs(t)&&wi(t)}function wi(t){t[nn].changeDetectionScheduler?.notify(0);let e=cr(t);for(;e!==null&&!(e[N]&8192||(e[N]|=8192,!Hc(e)));)e=cr(e)}function Sh(t,e){if(ao(t))throw new E(911,!1);t[kn]===null&&(t[kn]=[]),t[kn].push(e)}function l_(t,e){if(t[kn]===null)return;let n=t[kn].indexOf(e);n!==-1&&t[kn].splice(n,1)}function cr(t){let e=t[Fe];return Lt(e)?e[Fe]:e}function c_(t){return t[bi]??=[]}function d_(t){return t.cleanup??=[]}var B={lFrame:S_(null),bindingsEnabled:!0,skipHydrationRootTNode:null},Ys=function(t){return t[t.Off=0]="Off",t[t.Exhaustive=1]="Exhaustive",t[t.OnlyDirtyViews=2]="OnlyDirtyViews",t}(Ys||{}),mA=0,Kp=!1;function u_(){return B.lFrame.elementDepthCount}function f_(){B.lFrame.elementDepthCount++}function p_(){B.lFrame.elementDepthCount--}function kh(){return B.bindingsEnabled}function h_(){return B.skipHydrationRootTNode!==null}function m_(t){return B.skipHydrationRootTNode===t}function g_(){B.skipHydrationRootTNode=null}function Y(){return B.lFrame.lView}function tt(){return B.lFrame.tView}function Te(t){return B.lFrame.contextLView=t,t[Ue]}function Se(t){return B.lFrame.contextLView=null,t}function qe(){let t=Ah();for(;t!==null&&t.type===64;)t=t.parent;return t}function Ah(){return B.lFrame.currentTNode}function b_(){let t=B.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function _i(t,e){let n=B.lFrame;n.currentTNode=t,n.isParent=e}function Rh(){return B.lFrame.isParent}function v_(){B.lFrame.isParent=!1}function y_(){return B.lFrame.contextLView}function Nh(t){th("Must never be called in production mode"),mA=t}function Mh(){return Kp}function Oh(t){let e=Kp;return Kp=t,e}function w_(){let t=B.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function __(){return B.lFrame.bindingIndex}function E_(t){return B.lFrame.bindingIndex=t}function Ei(){return B.lFrame.bindingIndex++}function Ph(t){let e=B.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function I_(){return B.lFrame.inI18n}function C_(t,e){let n=B.lFrame;n.bindingIndex=n.bindingRootIndex=t,zc(e)}function x_(){return B.lFrame.currentDirectiveIndex}function zc(t){B.lFrame.currentDirectiveIndex=t}function D_(t){let e=B.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Fh(t){B.lFrame.currentQueryIndex=t}function gA(t){let e=t[F];return e.type===2?e.declTNode:e.type===1?t[It]:null}function Lh(t,e,n){if(n&4){let o=e,i=t;for(;o=o.parent,o===null&&!(n&1);)if(o=gA(i),o===null||(i=i[no],o.type&10))break;if(o===null)return!1;e=o,t=i}let r=B.lFrame=T_();return r.currentTNode=e,r.lView=t,!0}function Wc(t){let e=T_(),n=t[F];B.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function T_(){let t=B.lFrame,e=t===null?null:t.child;return e===null?S_(t):e}function S_(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function k_(){let t=B.lFrame;return B.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var jh=k_;function Gc(){let t=k_();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function A_(t){return(B.lFrame.contextLView=a_(t,B.lFrame.contextLView))[Ue]}function gr(){return B.lFrame.selectedIndex}function br(t){B.lFrame.selectedIndex=t}function qc(){let t=B.lFrame;return Bc(t.tView,t.selectedIndex)}function R_(){return B.lFrame.currentNamespace}var N_=!0;function Yc(){return N_}function Kc(t){N_=t}function Zp(t,e=null,n=null,r){let o=Vh(t,e,n,r);return o.resolveInjectorInitializers(),o}function Vh(t,e=null,n=null,r,o=new Set){let i=[n||ft,Vc(t)];return r=r||(typeof t=="object"?void 0:An(t)),new Jr(i,e||Vs(),r||null,o)}var we=class t{static THROW_IF_NOT_FOUND=Kr;static NULL=new Ps;static create(e,n){if(Array.isArray(e))return Zp({name:""},n,e,"");{let r=e.name??"";return Zp({name:r},e.parent,e.providers,r)}}static \u0275prov=D({token:t,providedIn:"any",factory:()=>S(ph)});static __NG_ELEMENT_ID__=-1},_e=new x(""),Tt=(()=>{class t{static __NG_ELEMENT_ID__=bA;static __NG_ENV_ID__=n=>n}return t})(),Qp=class extends Tt{_lView;constructor(e){super(),this._lView=e}get destroyed(){return ao(this._lView)}onDestroy(e){let n=this._lView;return Sh(n,e),()=>l_(n,e)}};function bA(){return new Qp(Y())}var Pt=class{_console=console;handleError(e){this._console.error("ERROR",e)}},mt=new x("",{providedIn:"root",factory:()=>{let t=g(he),e;return n=>{t.destroyed&&!e?setTimeout(()=>{throw n}):(e??=t.get(Pt),e.handleError(n))}}}),M_={provide:fr,useValue:()=>void g(Pt),multi:!0};function Uh(t){return typeof t=="function"&&t[Ve]!==void 0}function St(t,e){let[n,r,o]=_p(t,e?.equal),i=n,s=i[Ve];return i.set=r,i.update=o,i.asReadonly=O_.bind(i),i}function O_(){let t=this[Ve];if(t.readonlyFn===void 0){let e=()=>this();e[Ve]=t,t.readonlyFn=e}return t.readonlyFn}function Bh(t){return Uh(t)&&typeof t.set=="function"}var Rn=class{},Zc=new x("",{providedIn:"root",factory:()=>!1});var Hh=new x(""),$h=new x("");var Qc=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=vA}return t})();function vA(){return new Qc(Y(),qe())}var sn=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new xe(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new P(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=D({token:t,providedIn:"root",factory:()=>new t})}return t})(),Mn=(()=>{class t{internalPendingTasks=g(sn);scheduler=g(Rn);errorHandler=g(mt);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=D({token:t,providedIn:"root",factory:()=>new t})}return t})();function Ks(...t){}var zh=(()=>{class t{static \u0275prov=D({token:t,providedIn:"root",factory:()=>new Jp})}return t})(),Jp=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};function Si(t){return{toString:t}.toString()}var Jc="__parameters__";function DA(t){return function(...n){if(t){let r=t(...n);for(let o in r)this[o]=r[o]}}}function u0(t,e,n){return Si(()=>{let r=DA(e);function o(...i){if(this instanceof o)return r.apply(this,i),this;let s=new o(...i);return a.annotation=s,a;function a(l,c,d){let u=l.hasOwnProperty(Jc)?l[Jc]:Object.defineProperty(l,Jc,{value:[]})[Jc];for(;u.length<=d;)u.push(null);return(u[d]=u[d]||[]).push(s),l}}return o.prototype.ngMetadataName=t,o.annotationCls=o,o})}var cn=uh(u0("Optional"),8);var f0=uh(u0("SkipSelf"),4);function TA(t){return typeof t=="function"}var od=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function p0(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var Ut=(()=>{let t=()=>h0;return t.ngInherit=!0,t})();function h0(t){return t.type.prototype.ngOnChanges&&(t.setInput=kA),SA}function SA(){let t=g0(this),e=t?.current;if(e){let n=t.previous;if(n===ur)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function kA(t,e,n,r,o){let i=this.declaredInputs[r],s=g0(t)||AA(t,{previous:ur,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[i];a[i]=new od(c&&c.currentValue,n,l===ur),p0(t,e,o,n)}var m0="__ngSimpleChanges__";function g0(t){return t[m0]||null}function AA(t,e){return t[m0]=e}var P_=[];var X=function(t,e=null,n){for(let r=0;r<P_.length;r++){let o=P_[r];o(t,e,n)}};function RA(t,e,n){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=e.type.prototype;if(r){let s=h0(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}o&&(n.preOrderHooks??=[]).push(0-t,o),i&&((n.preOrderHooks??=[]).push(t,i),(n.preOrderCheckHooks??=[]).push(t,i))}function b0(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let i=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=i;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),d!=null&&(t.destroyHooks??=[]).push(n,d)}}function td(t,e,n){v0(t,e,3,n)}function nd(t,e,n,r){(t[N]&3)===n&&v0(t,e,n,r)}function Wh(t,e){let n=t[N];(n&3)===e&&(n&=16383,n+=1,t[N]=n)}function v0(t,e,n,r){let o=r!==void 0?t[oo]&65535:0,i=r??-1,s=e.length-1,a=0;for(let l=o;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(t[oo]+=65536),(a<i||i==-1)&&(NA(t,n,e,l),t[oo]=(t[oo]&4294901760)+l+2),l++}function F_(t,e){X(4,t,e);let n=j(null);try{e.call(t)}finally{j(n),X(5,t,e)}}function NA(t,e,n,r){let o=n[r]<0,i=n[r+1],s=o?-n[r]:n[r],a=t[s];o?t[N]>>14<t[oo]>>16&&(t[N]&3)===e&&(t[N]+=16384,F_(a,i)):F_(a,i)}var Ci=-1,uo=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,o){this.factory=e,this.name=o,this.canSeeViewProviders=n,this.injectImpl=r}};function MA(t){return(t.flags&8)!==0}function OA(t){return(t.flags&16)!==0}function PA(t,e,n){let r=0;for(;r<n.length;){let o=n[r];if(typeof o=="number"){if(o!==0)break;r++;let i=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,i)}else{let i=o,s=n[++r];LA(i)?t.setProperty(e,i,s):t.setAttribute(e,i,s),r++}}return r}function FA(t){return t===3||t===4||t===6}function LA(t){return t.charCodeAt(0)===64}function Js(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let o=e[r];typeof o=="number"?n=o:n===0||(n===-1||n===2?L_(t,n,o,null,e[++r]):L_(t,n,o,null,null))}}return t}function L_(t,e,n,r,o){let i=0,s=t.length;if(e===-1)s=-1;else for(;i<t.length;){let a=t[i++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=i-1;break}}}for(;i<t.length;){let a=t[i];if(typeof a=="number")break;if(a===n){o!==null&&(t[i+1]=o);return}i++,o!==null&&i++}s!==-1&&(t.splice(s,0,e),i=s+1),t.splice(i++,0,n),o!==null&&t.splice(i++,0,o)}function y0(t){return t!==Ci}function id(t){return t&32767}function jA(t){return t>>16}function sd(t,e){let n=jA(t),r=e;for(;n>0;)r=r[no],n--;return r}var nm=!0;function ad(t){let e=nm;return nm=t,e}var VA=256,w0=VA-1,_0=5,UA=0,an={};function BA(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(eo)&&(r=n[eo]),r==null&&(r=n[eo]=UA++);let o=r&w0,i=1<<o;e.data[t+(o>>_0)]|=i}function ld(t,e){let n=E0(t,e);if(n!==-1)return n;let r=e[F];r.firstCreatePass&&(t.injectorIndex=e.length,Gh(r.data,t),Gh(e,null),Gh(r.blueprint,null));let o=_m(t,e),i=t.injectorIndex;if(y0(o)){let s=id(o),a=sd(o,e),l=a[F].data;for(let c=0;c<8;c++)e[i+c]=a[s+c]|l[s+c]}return e[i+8]=o,i}function Gh(t,e){t.push(0,0,0,0,0,0,0,0,e)}function E0(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function _m(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,o=e;for(;o!==null;){if(r=T0(o),r===null)return Ci;if(n++,o=o[no],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ci}function rm(t,e,n){BA(t,e,n)}function I0(t,e,n){if(n&8||t!==void 0)return t;Fc(e,"NodeInjector")}function C0(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let o=t[to],i=Ge(void 0);try{return o?o.get(e,r,n&8):dh(e,r,n&8)}finally{Ge(i)}}return I0(r,e,n)}function x0(t,e,n,r=0,o){if(t!==null){if(e[N]&2048&&!(r&2)){let s=GA(t,e,n,r,an);if(s!==an)return s}let i=D0(t,e,n,r,an);if(i!==an)return i}return C0(e,n,r,o)}function D0(t,e,n,r,o){let i=zA(n);if(typeof i=="function"){if(!Lh(e,t,r))return r&1?I0(o,n,r):C0(e,n,r,o);try{let s;if(s=i(r),s==null&&!(r&8))Fc(n);else return s}finally{jh()}}else if(typeof i=="number"){let s=null,a=E0(t,e),l=Ci,c=r&1?e[Ct][It]:null;for((a===-1||r&4)&&(l=a===-1?_m(t,e):e[a+8],l===Ci||!V_(r,!1)?a=-1:(s=e[F],a=id(l),e=sd(l,e)));a!==-1;){let d=e[F];if(j_(i,a,d.data)){let u=HA(a,e,n,s,r,c);if(u!==an)return u}l=e[a+8],l!==Ci&&V_(r,e[F].data[a+8]===c)&&j_(i,a,e)?(s=d,a=id(l),e=sd(l,e)):a=-1}}return o}function HA(t,e,n,r,o,i){let s=e[F],a=s.data[t+8],l=r==null?mr(a)&&nm:r!=s&&(a.type&3)!==0,c=o&1&&i===a,d=$A(a,s,n,l,c);return d!==null?cd(e,s,d,a,o):an}function $A(t,e,n,r,o){let i=t.providerIndexes,s=e.data,a=i&1048575,l=t.directiveStart,c=t.directiveEnd,d=i>>20,u=r?a:a+d,f=o?a+d:c;for(let p=u;p<f;p++){let m=s[p];if(p<l&&n===m||p>=l&&m.type===n)return p}if(o){let p=s[l];if(p&&on(p)&&p.type===n)return l}return null}function cd(t,e,n,r,o){let i=t[n],s=e.data;if(i instanceof uo){let a=i;if(a.resolving){let p=Nc(s[n]);throw ch(p)}let l=ad(a.canSeeViewProviders);a.resolving=!0;let c=s[n].type||s[n],d,u=a.injectImpl?Ge(a.injectImpl):null,f=Lh(t,r,0);try{i=t[n]=a.factory(void 0,o,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&RA(n,s[n],e)}finally{u!==null&&Ge(u),ad(l),a.resolving=!1,jh()}}return i}function zA(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(eo)?t[eo]:void 0;return typeof e=="number"?e>=0?e&w0:WA:e}function j_(t,e,n){let r=1<<t;return!!(n[e+(t>>_0)]&r)}function V_(t,e){return!(t&2)&&!(t&1&&e)}var co=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return x0(this._tNode,this._lView,e,Zr(r),n)}};function WA(){return new co(qe(),Y())}function Pn(t){return Si(()=>{let e=t.prototype.constructor,n=e[Os]||om(e),r=Object.prototype,o=Object.getPrototypeOf(t.prototype).constructor;for(;o&&o!==r;){let i=o[Os]||om(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function om(t){return eh(t)?()=>{let e=om(Pe(t));return e&&e()}:lr(t)}function GA(t,e,n,r,o){let i=t,s=e;for(;i!==null&&s!==null&&s[N]&2048&&!yi(s);){let a=D0(i,s,n,r|2,an);if(a!==an)return a;let l=i.parent;if(!l){let c=s[_h];if(c){let d=c.get(n,an,r);if(d!==an)return d}l=T0(s),s=s[no]}i=l}return o}function T0(t){let e=t[F],n=e.type;return n===2?e.declTNode:n===1?t[It]:null}function qA(){return _d(qe(),Y())}function _d(t,e){return new dn(jt(t,e))}var dn=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=qA}return t})();function S0(t){return(t.flags&128)===128}var Em=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Em||{}),k0=new Map,YA=0;function KA(){return YA++}function ZA(t){k0.set(t[Bs],t)}function im(t){k0.delete(t[Bs])}var U_="__ngContext__";function xi(t,e){rn(e)?(t[U_]=e[Bs],ZA(e)):t[U_]=e}function A0(t){return N0(t[vi])}function R0(t){return N0(t[Et])}function N0(t){for(;t!==null&&!Lt(t);)t=t[Et];return t}var sm;function Im(t){sm=t}function M0(){if(sm!==void 0)return sm;if(typeof document<"u")return document;throw new E(210,!1)}var Ed=new x("",{providedIn:"root",factory:()=>QA}),QA="ng",Id=new x(""),wr=new x("",{providedIn:"platform",factory:()=>"unknown"});var Cd=new x("",{providedIn:"root",factory:()=>M0().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),xd={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840],placeholderResolution:30,disableImageSizeWarning:!1,disableImageLazyLoadWarning:!1},Dd=new x("",{providedIn:"root",factory:()=>xd});var JA="h",XA="b";var O0=!1,P0=new x("",{providedIn:"root",factory:()=>O0});var e1=(t,e,n,r)=>{};function t1(t,e,n,r){e1(t,e,n,r)}function Cm(t){return(t.flags&32)===32}var n1=()=>null;function F0(t,e,n=!1){return n1(t,e,n)}function L0(t,e){let n=t.contentQueries;if(n!==null){let r=j(null);try{for(let o=0;o<n.length;o+=2){let i=n[o],s=n[o+1];if(s!==-1){let a=t.data[s];Fh(i),a.contentQueries(2,e[s],s)}}}finally{j(r)}}}function am(t,e,n){Fh(0);let r=j(null);try{e(t,n)}finally{j(r)}}function j0(t,e,n){if(Eh(e)){let r=j(null);try{let o=e.directiveStart,i=e.directiveEnd;for(let s=o;s<i;s++){let a=t.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{j(r)}}}var On=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(On||{}),Xc;function r1(){if(Xc===void 0&&(Xc=null,Nn.trustedTypes))try{Xc=Nn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Xc}function o1(t){return r1()?.createScriptURL(t)||t}var dd=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Oc})`}};function na(t){return t instanceof dd?t.changingThisBreaksApplicationSecurity:t}function V0(t,e){let n=U0(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Oc})`)}return n===e}function U0(t){return t instanceof dd&&t.getTypeName()||null}var i1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function B0(t){return t=String(t),t.match(i1)?t:"unsafe:"+t}var xm=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(xm||{});function Dm(t){let e=s1();return e?e.sanitize(xm.URL,t)||"":V0(t,"URL")?na(t):B0(dr(t))}function Tm(t){return o1(t[0])}function s1(){let t=Y();return t&&t[nn].sanitizer}function H0(t){return t instanceof Function?t():t}function a1(t,e,n){let r=t.length;for(;;){let o=t.indexOf(e,n);if(o===-1)return o;if(o===0||t.charCodeAt(o-1)<=32){let i=e.length;if(o+i===r||t.charCodeAt(o+i)<=32)return o}n=o+1}}var $0="ng-template";function l1(t,e,n,r){let o=0;if(r){for(;o<e.length&&typeof e[o]=="string";o+=2)if(e[o]==="class"&&a1(e[o+1].toLowerCase(),n,0)!==-1)return!0}else if(Sm(t))return!1;if(o=e.indexOf(1,o),o>-1){let i;for(;++o<e.length&&typeof(i=e[o])=="string";)if(i.toLowerCase()===n)return!0}return!1}function Sm(t){return t.type===4&&t.value!==$0}function c1(t,e,n){let r=t.type===4&&!n?$0:t.value;return e===r}function d1(t,e,n){let r=4,o=t.attrs,i=o!==null?p1(o):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!Vt(r)&&!Vt(l))return!1;if(s&&Vt(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!c1(t,l,n)||l===""&&e.length===1){if(Vt(r))return!1;s=!0}}else if(r&8){if(o===null||!l1(t,o,l,n)){if(Vt(r))return!1;s=!0}}else{let c=e[++a],d=u1(l,o,Sm(t),n);if(d===-1){if(Vt(r))return!1;s=!0;continue}if(c!==""){let u;if(d>i?u="":u=o[d+1].toLowerCase(),r&2&&c!==u){if(Vt(r))return!1;s=!0}}}}return Vt(r)||s}function Vt(t){return(t&1)===0}function u1(t,e,n,r){if(e===null)return-1;let o=0;if(r||!n){let i=!1;for(;o<e.length;){let s=e[o];if(s===t)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let a=e[++o];for(;typeof a=="string";)a=e[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return h1(e,t)}function f1(t,e,n=!1){for(let r=0;r<e.length;r++)if(d1(t,e[r],n))return!0;return!1}function p1(t){for(let e=0;e<t.length;e++){let n=t[e];if(FA(n))return e}return t.length}function h1(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function B_(t,e){return t?":not("+e.trim()+")":e}function m1(t){let e=t[0],n=1,r=2,o="",i=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!Vt(s)&&(e+=B_(i,o),o=""),r=s,i=i||!Vt(r);n++}return o!==""&&(e+=B_(i,o)),e}function g1(t){return t.map(m1).join(",")}function b1(t){let e=[],n=[],r=1,o=2;for(;r<t.length;){let i=t[r];if(typeof i=="string")o===2?i!==""&&e.push(i,t[++r]):o===8&&n.push(i);else{if(!Vt(o))break;o=i}r++}return n.length&&e.push(1,...n),e}var kt={};function v1(t,e){return t.createText(e)}function y1(t,e,n){t.setValue(e,n)}function z0(t,e,n){return t.createElement(e,n)}function ud(t,e,n,r,o){t.insertBefore(e,n,r,o)}function W0(t,e,n){t.appendChild(e,n)}function H_(t,e,n,r,o){r!==null?ud(t,e,n,r,o):W0(t,e,n)}function w1(t,e,n){t.removeChild(null,e,n)}function _1(t,e,n){t.setAttribute(e,"style",n)}function E1(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function G0(t,e,n){let{mergedAttrs:r,classes:o,styles:i}=n;r!==null&&PA(t,e,r),o!==null&&E1(t,e,o),i!==null&&_1(t,e,i)}function km(t,e,n,r,o,i,s,a,l,c,d){let u=Be+r,f=u+o,p=I1(u,f),m=typeof c=="function"?c():c;return p[F]={type:t,blueprint:p,template:n,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:m,incompleteFirstPass:!1,ssrId:d}}function I1(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:kt);return n}function C1(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=km(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Am(t,e,n,r,o,i,s,a,l,c,d){let u=e.blueprint.slice();return u[Ft]=o,u[N]=r|4|128|8|64|1024,(c!==null||t&&t[N]&2048)&&(u[N]|=2048),Dh(u),u[Fe]=u[no]=t,u[Ue]=n,u[nn]=s||t&&t[nn],u[ue]=a||t&&t[ue],u[to]=l||t&&t[to]||null,u[It]=i,u[Bs]=KA(),u[Us]=d,u[_h]=c,u[Ct]=e.type==2?t[Ct]:u,u}function x1(t,e,n){let r=jt(e,t),o=C1(n),i=t[nn].rendererFactory,s=Rm(t,Am(t,o,null,q0(n),r,e,null,i.createRenderer(r,n),null,null,null));return t[e.index]=s}function q0(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function Y0(t,e,n,r){if(n===0)return-1;let o=e.length;for(let i=0;i<n;i++)e.push(r),t.blueprint.push(r),t.data.push(null);return o}function Rm(t,e){return t[vi]?t[wh][Et]=e:t[vi]=e,t[wh]=e,e}function q(t=1){K0(tt(),Y(),gr()+t,!1)}function K0(t,e,n,r){if(!r)if((e[N]&3)===3){let i=t.preOrderCheckHooks;i!==null&&td(e,i,n)}else{let i=t.preOrderHooks;i!==null&&nd(e,i,0,n)}br(n)}var Td=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Td||{});function lm(t,e,n,r){let o=j(null);try{let[i,s,a]=t.inputs[n],l=null;(s&Td.SignalBased)!==0&&(l=e[i][Ve]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,l,r,n,i):p0(e,l,i,r)}finally{j(o)}}var ln=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ln||{}),D1;function Nm(t,e){return D1(t,e)}function Ii(t,e,n,r,o){if(r!=null){let i,s=!1;Lt(r)?i=r:rn(r)&&(s=!0,r=r[Ft]);let a=xt(r);t===0&&n!==null?o==null?W0(e,n,a):ud(e,n,a,o||null,!0):t===1&&n!==null?ud(e,n,a,o||null,!0):t===2?w1(e,a,s):t===3&&e.destroyNode(a),i!=null&&j1(e,t,i,n,o)}}function T1(t,e){Z0(t,e),e[Ft]=null,e[It]=null}function S1(t,e,n,r,o,i){r[Ft]=o,r[It]=e,Sd(t,r,n,1,o,i)}function Z0(t,e){e[nn].changeDetectionScheduler?.notify(9),Sd(t,e,e[ue],2,null,null)}function k1(t){let e=t[vi];if(!e)return qh(t[F],t);for(;e;){let n=null;if(rn(e))n=e[vi];else{let r=e[et];r&&(n=r)}if(!n){for(;e&&!e[Et]&&e!==t;)rn(e)&&qh(e[F],e),e=e[Fe];e===null&&(e=t),rn(e)&&qh(e[F],e),n=e&&e[Et]}e=n}}function Mm(t,e){let n=t[zs],r=n.indexOf(e);n.splice(r,1)}function Q0(t,e){if(ao(e))return;let n=e[ue];n.destroyNode&&Sd(t,e,n,3,null,null),k1(e)}function qh(t,e){if(ao(e))return;let n=j(null);try{e[N]&=-129,e[N]|=256,e[ht]&&Xl(e[ht]),R1(t,e),A1(t,e),e[F].type===1&&e[ue].destroy();let r=e[ro];if(r!==null&&Lt(e[Fe])){r!==e[Fe]&&Mm(r,e);let o=e[io];o!==null&&o.detachView(t)}im(e)}finally{j(n)}}function A1(t,e){let n=t.cleanup,r=e[bi];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[bi]=null);let o=e[kn];if(o!==null){e[kn]=null;for(let s=0;s<o.length;s++){let a=o[s];a()}}let i=e[Hs];if(i!==null){e[Hs]=null;for(let s of i)s.destroy()}}function R1(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let o=e[n[r]];if(!(o instanceof uo)){let i=n[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let a=o[i[s]],l=i[s+1];X(4,a,l);try{l.call(a)}finally{X(5,a,l)}}else{X(4,o,i);try{i.call(o)}finally{X(5,o,i)}}}}}function N1(t,e,n){return M1(t,e.parent,n)}function M1(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Ft];if(mr(r)){let{encapsulation:o}=t.data[r.directiveStart+r.componentOffset];if(o===On.None||o===On.Emulated)return null}return jt(r,n)}function O1(t,e,n){return F1(t,e,n)}function P1(t,e,n){return t.type&40?jt(t,n):null}var F1=P1,$_;function Om(t,e,n,r){let o=N1(t,r,e),i=e[ue],s=r.parent||e[It],a=O1(s,r,e);if(o!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)H_(i,o,n[l],a,!1);else H_(i,o,n,a,!1);$_!==void 0&&$_(i,r,e,n,o)}function Zs(t,e){if(e!==null){let n=e.type;if(n&3)return jt(e,t);if(n&4)return cm(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Zs(t,r);{let o=t[e.index];return Lt(o)?cm(-1,o):xt(o)}}else{if(n&128)return Zs(t,e.next);if(n&32)return Nm(e,t)()||xt(t[e.index]);{let r=J0(t,e);if(r!==null){if(Array.isArray(r))return r[0];let o=cr(t[Ct]);return Zs(o,r)}else return Zs(t,e.next)}}}return null}function J0(t,e){if(e!==null){let r=t[Ct][It],o=e.projection;return r.projection[o]}return null}function cm(t,e){let n=et+t+1;if(n<e.length){let r=e[n],o=r[F].firstChild;if(o!==null)return Zs(r,o)}return e[hr]}function Pm(t,e,n,r,o,i,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],l=n.type;if(s&&e===0&&(a&&xi(xt(a),r),n.flags|=2),!Cm(n))if(l&8)Pm(t,e,n.child,r,o,i,!1),Ii(e,t,o,a,i);else if(l&32){let c=Nm(n,r),d;for(;d=c();)Ii(e,t,o,d,i);Ii(e,t,o,a,i)}else l&16?L1(t,e,r,n,o,i):Ii(e,t,o,a,i);n=s?n.projectionNext:n.next}}function Sd(t,e,n,r,o,i){Pm(n,r,t.firstChild,e,o,i,!1)}function L1(t,e,n,r,o,i){let s=n[Ct],l=s[It].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let d=l[c];Ii(e,t,o,d,i)}else{let c=l,d=s[Fe];S0(r)&&(c.flags|=128),Pm(t,e,c,d,o,i,!0)}}function j1(t,e,n,r,o){let i=n[hr],s=xt(n);i!==s&&Ii(e,t,r,i,o);for(let a=et;a<n.length;a++){let l=n[a];Sd(l[F],l,t,e,r,i)}}function V1(t,e,n,r,o){if(e)o?t.addClass(n,r):t.removeClass(n,r);else{let i=r.indexOf("-")===-1?void 0:ln.DashCase;o==null?t.removeStyle(n,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=ln.Important),t.setStyle(n,r,o,i))}}function X0(t,e,n,r,o){let i=gr(),s=r&2;try{br(-1),s&&e.length>Be&&K0(t,e,Be,!1),X(s?2:0,o,n),n(r,o)}finally{br(i),X(s?3:1,o,n)}}function Fm(t,e,n){G1(t,e,n),(n.flags&64)===64&&q1(t,e,n)}function eE(t,e,n=jt){let r=e.localNames;if(r!==null){let o=e.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],a=s===-1?n(e,t):t[s];t[o++]=a}}}function U1(t,e,n,r){let i=r.get(P0,O0)||n===On.ShadowDom,s=t.selectRootElement(e,i);return B1(s),s}function B1(t){H1(t)}var H1=()=>null;function $1(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function tE(t,e,n,r,o,i){let s=e[F];if(Lm(t,s,e,n,r)){mr(t)&&W1(e,t.index);return}t.type&3&&(n=$1(n)),z1(t,e,n,r,o,i)}function z1(t,e,n,r,o,i){if(t.type&3){let s=jt(t,e);r=i!=null?i(r,t.value||"",n):r,o.setProperty(s,n,r)}else t.type&12}function W1(t,e){let n=Dt(e,t);n[N]&16||(n[N]|=64)}function G1(t,e,n){let r=n.directiveStart,o=n.directiveEnd;mr(n)&&x1(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||ld(n,e);let i=n.initialInputs;for(let s=r;s<o;s++){let a=t.data[s],l=cd(e,t,s,n);if(xi(l,e),i!==null&&Q1(e,s-r,l,a,n,i),on(a)){let c=Dt(n.index,e);c[Ue]=cd(e,t,s,n)}}}function q1(t,e,n){let r=n.directiveStart,o=n.directiveEnd,i=n.index,s=x_();try{br(i);for(let a=r;a<o;a++){let l=t.data[a],c=e[a];zc(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&Y1(l,c)}}finally{br(-1),zc(s)}}function Y1(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function nE(t,e){let n=t.directiveRegistry,r=null;if(n)for(let o=0;o<n.length;o++){let i=n[o];f1(e,i.selectors,!1)&&(r??=[],on(i)?r.unshift(i):r.push(i))}return r}function K1(t,e,n,r,o,i){let s=jt(t,e);Z1(e[ue],s,i,t.value,n,r,o)}function Z1(t,e,n,r,o,i,s){if(i==null)t.removeAttribute(e,o,n);else{let a=s==null?dr(i):s(i,r||"",o);t.setAttribute(e,o,a,n)}}function Q1(t,e,n,r,o,i){let s=i[e];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];lm(r,n,l,c)}}function J1(t,e,n,r,o){let i=Be+n,s=e[F],a=o(s,e,t,r,n);e[i]=a,_i(t,!0);let l=t.type===2;return l?(G0(e[ue],a,t),(u_()===0||Ws(t))&&xi(a,e),f_()):xi(a,e),Yc()&&(!l||!Cm(t))&&Om(s,e,a,t),t}function X1(t){let e=t;return Rh()?v_():(e=e.parent,_i(e,!1)),e}function eR(t,e){let n=t[to];if(!n)return;n.get(mt,null)?.(e)}function Lm(t,e,n,r,o){let i=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let c=s[l],d=s[l+1],u=e.data[c];lm(u,n[c],d,o),a=!0}if(i)for(let l of i){let c=n[l],d=e.data[l];lm(d,c,r,o),a=!0}return a}function tR(t,e){let n=Dt(e,t),r=n[F];nR(r,n);let o=n[Ft];o!==null&&n[Us]===null&&(n[Us]=F0(o,n[to])),X(18),jm(r,n,n[Ue]),X(19,n[Ue])}function nR(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function jm(t,e,n){Wc(e);try{let r=t.viewQuery;r!==null&&am(1,r,n);let o=t.template;o!==null&&X0(t,e,o,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[io]?.finishViewCreation(t),t.staticContentQueries&&L0(t,e),t.staticViewQueries&&am(2,t.viewQuery,n);let i=t.components;i!==null&&rR(e,i)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[N]&=-5,Gc()}}function rR(t,e){for(let n=0;n<e.length;n++)tR(t,e[n])}function oR(t,e,n,r){let o=j(null);try{let i=e.tView,a=t[N]&4096?4096:16,l=Am(t,i,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=t[e.index];l[ro]=c;let d=t[io];return d!==null&&(l[io]=d.createEmbeddedView(i)),jm(i,l,n),l}finally{j(o)}}function z_(t,e){return!e||e.firstChild===null||S0(t)}var W_=!1,iR=new x("");function Xs(t,e,n,r,o=!1){for(;n!==null;){if(n.type===128){n=o?n.projectionNext:n.next;continue}let i=e[n.index];i!==null&&r.push(xt(i)),Lt(i)&&rE(i,r);let s=n.type;if(s&8)Xs(t,e,n.child,r);else if(s&32){let a=Nm(n,e),l;for(;l=a();)r.push(l)}else if(s&16){let a=J0(e,n);if(Array.isArray(a))r.push(...a);else{let l=cr(e[Ct]);Xs(l[F],l,a,r,!0)}}n=o?n.projectionNext:n.next}return r}function rE(t,e){for(let n=et;n<t.length;n++){let r=t[n],o=r[F].firstChild;o!==null&&Xs(r[F],r,o,e)}t[hr]!==t[Ft]&&e.push(t[hr])}function oE(t){if(t[so]!==null){for(let e of t[so])e.impl.addSequence(e);t[so].length=0}}var iE=[];function sR(t){return t[ht]??aR(t)}function aR(t){let e=iE.pop()??Object.create(cR);return e.lView=t,e}function lR(t){t.lView[ht]!==t&&(t.lView=null,iE.push(t))}var cR=M(y({},$r),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{wi(t.lView)},consumerOnSignalRead(){this.lView[ht]=this}});function dR(t){let e=t[ht]??Object.create(uR);return e.lView=t,e}var uR=M(y({},$r),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=cr(t.lView);for(;e&&!sE(e[F]);)e=cr(e);e&&Th(e)},consumerOnSignalRead(){this.lView[ht]=this}});function sE(t){return t.type!==2}function aE(t){if(t[Hs]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[Hs])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[N]&8192)}}var fR=100;function Vm(t,e=0){let r=t[nn].rendererFactory,o=!1;o||r.begin?.();try{pR(t,e)}finally{o||r.end?.()}}function pR(t,e){let n=Mh();try{Oh(!0),dm(t,e);let r=0;for(;qs(t);){if(r===fR)throw new E(103,!1);r++,dm(t,1)}}finally{Oh(n)}}function lE(t,e){Nh(e?Ys.Exhaustive:Ys.OnlyDirtyViews);try{Vm(t)}finally{Nh(Ys.Off)}}function hR(t,e,n,r){if(ao(e))return;let o=e[N],i=!1,s=!1;Wc(e);let a=!0,l=null,c=null;i||(sE(t)?(c=sR(e),l=zr(c)):Ql()===null?(a=!1,c=dR(e),l=zr(c)):e[ht]&&(Xl(e[ht]),e[ht]=null));try{Dh(e),E_(t.bindingStartIndex),n!==null&&X0(t,e,n,2,r);let d=(o&3)===3;if(!i)if(d){let p=t.preOrderCheckHooks;p!==null&&td(e,p,null)}else{let p=t.preOrderHooks;p!==null&&nd(e,p,0,null),Wh(e,0)}if(s||mR(e),aE(e),cE(e,0),t.contentQueries!==null&&L0(t,e),!i)if(d){let p=t.contentCheckHooks;p!==null&&td(e,p)}else{let p=t.contentHooks;p!==null&&nd(e,p,1),Wh(e,1)}bR(t,e);let u=t.components;u!==null&&uE(e,u,0);let f=t.viewQuery;if(f!==null&&am(2,f,r),!i)if(d){let p=t.viewCheckHooks;p!==null&&td(e,p)}else{let p=t.viewHooks;p!==null&&nd(e,p,2),Wh(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Uc]){for(let p of e[Uc])p();e[Uc]=null}i||(oE(e),e[N]&=-73)}catch(d){throw i||wi(e),d}finally{c!==null&&(ei(c,l),a&&lR(c)),Gc()}}function cE(t,e){for(let n=A0(t);n!==null;n=R0(n))for(let r=et;r<n.length;r++){let o=n[r];dE(o,e)}}function mR(t){for(let e=A0(t);e!==null;e=R0(e)){if(!(e[N]&2))continue;let n=e[zs];for(let r=0;r<n.length;r++){let o=n[r];Th(o)}}}function gR(t,e,n){X(18);let r=Dt(e,t);dE(r,n),X(19,r[Ue])}function dE(t,e){Hc(t)&&dm(t,e)}function dm(t,e){let r=t[F],o=t[N],i=t[ht],s=!!(e===0&&o&16);if(s||=!!(o&64&&e===0),s||=!!(o&1024),s||=!!(i?.dirty&&Ss(i)),s||=!1,i&&(i.dirty=!1),t[N]&=-9217,s)hR(r,t,r.template,t[Ue]);else if(o&8192){let a=j(null);try{aE(t),cE(t,1);let l=r.components;l!==null&&uE(t,l,1),oE(t)}finally{j(a)}}}function uE(t,e,n){for(let r=0;r<e.length;r++)gR(t,e[r],n)}function bR(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let o=n[r];if(o<0)br(~o);else{let i=o,s=n[++r],a=n[++r];C_(s,i);let l=e[i];X(24,l),a(2,l),X(25,l)}}}finally{br(-1)}}function Um(t,e){let n=Mh()?64:1088;for(t[nn].changeDetectionScheduler?.notify(e);t;){t[N]|=n;let r=cr(t);if(yi(t)&&!r)return t;t=r}return null}function fE(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function vR(t,e,n,r=!0){let o=e[F];if(yR(o,e,t,n),r){let s=cm(n,t),a=e[ue],l=a.parentNode(t[hr]);l!==null&&S1(o,t[It],a,e,l,s)}let i=e[Us];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function um(t,e){if(t.length<=et)return;let n=et+e,r=t[n];if(r){let o=r[ro];o!==null&&o!==t&&Mm(o,r),e>0&&(t[n-1][Et]=r[Et]);let i=Ls(t,et+e);T1(r[F],r);let s=i[io];s!==null&&s.detachView(i[F]),r[Fe]=null,r[Et]=null,r[N]&=-129}return r}function yR(t,e,n,r){let o=et+r,i=n.length;r>0&&(n[o-1][Et]=e),r<i-et?(e[Et]=n[o],fh(n,et+r,e)):(n.push(e),e[Et]=null),e[Fe]=n;let s=e[ro];s!==null&&n!==s&&pE(s,e);let a=e[io];a!==null&&a.insertView(t),$c(e),e[N]|=128}function pE(t,e){let n=t[zs],r=e[Fe];if(rn(r))t[N]|=2;else{let o=r[Fe][Ct];e[Ct]!==o&&(t[N]|=2)}n===null?t[zs]=[e]:n.push(e)}var vr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[F];return Xs(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[Ue]}set context(e){this._lView[Ue]=e}get destroyed(){return ao(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Fe];if(Lt(e)){let n=e[$s],r=n?n.indexOf(this):-1;r>-1&&(um(e,r),Ls(n,r))}this._attachedToViewContainer=!1}Q0(this._lView[F],this._lView)}onDestroy(e){Sh(this._lView,e)}markForCheck(){Um(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[N]&=-129}reattach(){$c(this._lView),this._lView[N]|=128}detectChanges(){this._lView[N]|=1024,Vm(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[to].get(iR,W_)}catch{this.exhaustive=W_}}attachToViewContainerRef(){if(this._appRef)throw new E(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=yi(this._lView),n=this._lView[ro];n!==null&&!e&&Mm(n,this._lView),Z0(this._lView[F],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new E(902,!1);this._appRef=e;let n=yi(this._lView),r=this._lView[ro];r!==null&&!n&&pE(r,this._lView),$c(this._lView)}};var ra=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=wR;constructor(n,r,o){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,o){let i=oR(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:o});return new vr(i)}}return t})();function wR(){return _R(qe(),Y())}function _R(t,e){return t.type&4?new ra(e,t,_d(t,e)):null}function Bm(t,e,n,r,o){let i=t.data[e];if(i===null)i=ER(t,e,n,r,o),I_()&&(i.flags|=32);else if(i.type&64){i.type=n,i.value=r,i.attrs=o;let s=b_();i.injectorIndex=s===null?-1:s.injectorIndex}return _i(i,!0),i}function ER(t,e,n,r,o){let i=Ah(),s=Rh(),a=s?i:i&&i.parent,l=t.data[e]=CR(t,a,n,e,r,o);return IR(t,l,i,s),l}function IR(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function CR(t,e,n,r,o,i){let s=e?e.injectorIndex:-1,a=0;return h_()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var sG=new RegExp(`^(\\d+)*(${XA}|${JA})*(.*)`);var xR=()=>null;function G_(t,e){return xR(t,e)}var hE=class{},kd=class{},fm=class{resolveComponentFactory(e){throw new E(917,!1)}},oa=class{static NULL=new fm},fo=class{},Fn=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>DR()}return t})();function DR(){let t=Y(),e=qe(),n=Dt(e.index,t);return(rn(n)?n:t)[ue]}var mE=(()=>{class t{static \u0275prov=D({token:t,providedIn:"root",factory:()=>null})}return t})();var rd={},pm=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let o=this.injector.get(e,rd,r);return o!==rd||n===rd?o:this.parentInjector.get(e,n,r)}};function q_(t,e,n){let r=n?t.styles:null,o=n?t.classes:null,i=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")i=a;else if(i==1)o=Xp(o,a);else if(i==2){let l=a,c=e[++s];r=Xp(r,l+": "+c+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=o:t.classesWithoutHost=o}function T(t,e=0){let n=Y();if(n===null)return S(t,e);let r=qe();return x0(r,n,Pe(t),e)}function gE(t,e,n,r,o){let i=r===null?null:{"":-1},s=o(t,n);if(s!==null){let a=s,l=null,c=null;for(let d of s)if(d.resolveHostDirectives!==null){[a,l,c]=d.resolveHostDirectives(s);break}kR(t,e,n,a,i,l,c)}i!==null&&r!==null&&TR(n,r,i)}function TR(t,e,n){let r=t.localNames=[];for(let o=0;o<e.length;o+=2){let i=n[e[o+1]];if(i==null)throw new E(-301,!1);r.push(e[o],i)}}function SR(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function kR(t,e,n,r,o,i,s){let a=r.length,l=!1;for(let f=0;f<a;f++){let p=r[f];!l&&on(p)&&(l=!0,SR(t,n,f)),rm(ld(n,e),t,p.type)}PR(n,t.data.length,a);for(let f=0;f<a;f++){let p=r[f];p.providersResolver&&p.providersResolver(p)}let c=!1,d=!1,u=Y0(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let f=0;f<a;f++){let p=r[f];if(n.mergedAttrs=Js(n.mergedAttrs,p.hostAttrs),RR(t,n,e,u,p),OR(u,p,o),s!==null&&s.has(p)){let[w,b]=s.get(p);n.directiveToIndex.set(p.type,[u,w+n.directiveStart,b+n.directiveStart])}else(i===null||!i.has(p))&&n.directiveToIndex.set(p.type,u);p.contentQueries!==null&&(n.flags|=4),(p.hostBindings!==null||p.hostAttrs!==null||p.hostVars!==0)&&(n.flags|=64);let m=p.type.prototype;!c&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),c=!0),!d&&(m.ngOnChanges||m.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),d=!0),u++}AR(t,n,i)}function AR(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let o=t.data[r];if(n===null||!n.has(o))Y_(0,e,o,r),Y_(1,e,o,r),Z_(e,r,!1);else{let i=n.get(o);K_(0,e,i,r),K_(1,e,i,r),Z_(e,r,!0)}}}function Y_(t,e,n,r){let o=t===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[i]??=[],s[i].push(r),bE(e,i)}}function K_(t,e,n,r){let o=t===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s=o[i],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,i),bE(e,s)}}function bE(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function Z_(t,e,n){let{attrs:r,inputs:o,hostDirectiveInputs:i}=t;if(r===null||!n&&o===null||n&&i===null||Sm(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!n&&o.hasOwnProperty(l)){let c=o[l];for(let d of c)if(d===e){s??=[],s.push(l,r[a+1]);break}}else if(n&&i.hasOwnProperty(l)){let c=i[l];for(let d=0;d<c.length;d+=2)if(c[d]===e){s??=[],s.push(c[d+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function RR(t,e,n,r,o){t.data[r]=o;let i=o.factory||(o.factory=lr(o.type,!0)),s=new uo(i,on(o),T,null);t.blueprint[r]=s,n[r]=s,NR(t,e,r,Y0(t,n,o.hostVars,kt),o)}function NR(t,e,n,r,o){let i=o.hostBindings;if(i){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;MR(s)!=a&&s.push(a),s.push(n,r,i)}}function MR(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function OR(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;on(e)&&(n[""]=t)}}function PR(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function vE(t,e,n,r,o,i,s,a){let l=e[F],c=l.consts,d=Gs(c,s),u=Bm(l,t,n,r,d);return i&&gE(l,e,u,Gs(c,a),o),u.mergedAttrs=Js(u.mergedAttrs,u.attrs),u.attrs!==null&&q_(u,u.attrs,!1),u.mergedAttrs!==null&&q_(u,u.mergedAttrs,!0),l.queries!==null&&l.queries.elementStart(l,u),u}function yE(t,e){b0(t,e),Eh(e)&&t.queries.elementEnd(e)}function Hm(t){return _E(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function wE(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function _E(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function FR(t,e,n){return t[e]=n}function yr(t,e,n){if(n===kt)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function EE(t,e,n,r){let o=yr(t,e,n);return yr(t,e+1,r)||o}function Yh(t,e,n){return function r(o){let i=mr(t)?Dt(t.index,e):e;Um(i,5);let s=e[Ue],a=Q_(e,s,n,o),l=r.__ngNextListenerFn__;for(;l;)a=Q_(e,s,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function Q_(t,e,n,r){let o=j(null);try{return X(6,e,n),n(r)!==!1}catch(i){return eR(t,i),!1}finally{X(7,e,n),j(o)}}function LR(t,e,n,r,o,i,s,a){let l=Ws(t),c=!1,d=null;if(!r&&l&&(d=jR(e,n,i,t.index)),d!==null){let u=d.__ngLastListenerFn__||d;u.__ngNextListenerFn__=s,d.__ngLastListenerFn__=s,c=!0}else{let u=jt(t,n),f=r?r(u):u;t1(n,f,i,a);let p=o.listen(f,i,a),m=r?w=>r(xt(w[t.index])):t.index;IE(m,e,n,i,a,p,!1)}return c}function jR(t,e,n,r){let o=t.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===n&&o[i+1]===r){let a=e[bi],l=o[i+2];return a&&a.length>l?a[l]:null}typeof s=="string"&&(i+=2)}return null}function IE(t,e,n,r,o,i,s){let a=e.firstCreatePass?d_(e):null,l=c_(n),c=l.length;l.push(o,i),a&&a.push(r,t,c,(c+1)*(s?-1:1))}function J_(t,e,n,r,o,i){let s=e[n],a=e[F],c=a.data[n].outputs[r],u=s[c].subscribe(i);IE(t.index,a,e,o,i,u,!0)}var hm=Symbol("BINDING");var fd=class extends oa{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=pr(e);return new Di(n,this.ngModule)}};function VR(t){return Object.keys(t).map(e=>{let[n,r,o]=t[e],i={propName:n,templateName:e,isSignal:(r&Td.SignalBased)!==0};return o&&(i.transform=o),i})}function UR(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function BR(t,e,n){let r=e instanceof he?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new pm(n,r):n}function HR(t){let e=t.get(fo,null);if(e===null)throw new E(407,!1);let n=t.get(mE,null),r=t.get(Rn,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function $R(t,e){let n=(t.selectors[0][0]||"div").toLowerCase();return z0(e,n,n==="svg"?o_:n==="math"?i_:null)}var Di=class extends kd{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=VR(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=UR(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=g1(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,o,i,s){X(22);let a=j(null);try{let l=this.componentDef,c=zR(r,l,s,i),d=BR(l,o||this.ngModule,e),u=HR(d),f=u.rendererFactory.createRenderer(null,l),p=r?U1(f,r,l.encapsulation,d):$R(l,f),m=s?.some(X_)||i?.some(C=>typeof C!="function"&&C.bindings.some(X_)),w=Am(null,c,null,512|q0(l),null,null,u,f,d,null,F0(p,d,!0));w[Be]=p,Wc(w);let b=null;try{let C=vE(Be,w,2,"#host",()=>c.directiveRegistry,!0,0);p&&(G0(f,p,C),xi(p,w)),Fm(c,w,C),j0(c,C,w),yE(c,C),n!==void 0&&GR(C,this.ngContentSelectors,n),b=Dt(C.index,w),w[Ue]=b[Ue],jm(c,w,null)}catch(C){throw b!==null&&im(b),im(w),C}finally{X(23),Gc()}return new pd(this.componentType,w,!!m)}finally{j(a)}}};function zR(t,e,n,r){let o=t?["ng-version","20.1.3"]:b1(e.selectors[0]),i=null,s=null,a=0;if(n)for(let d of n)a+=d[hm].requiredVars,d.create&&(d.targetIdx=0,(i??=[]).push(d)),d.update&&(d.targetIdx=0,(s??=[]).push(d));if(r)for(let d=0;d<r.length;d++){let u=r[d];if(typeof u!="function")for(let f of u.bindings){a+=f[hm].requiredVars;let p=d+1;f.create&&(f.targetIdx=p,(i??=[]).push(f)),f.update&&(f.targetIdx=p,(s??=[]).push(f))}}let l=[e];if(r)for(let d of r){let u=typeof d=="function"?d:d.type,f=gh(u);l.push(f)}return km(0,null,WR(i,s),1,a,l,null,null,null,[o],null)}function WR(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function X_(t){let e=t[hm].kind;return e==="input"||e==="twoWay"}var pd=class extends hE{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Bc(n[F],Be),this.location=_d(this._tNode,n),this.instance=Dt(this._tNode.index,n)[Ue],this.hostView=this.changeDetectorRef=new vr(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView,i=Lm(r,o[F],o,e,n);this.previousInputValues.set(e,n);let s=Dt(r.index,o);Um(s,1)}get injector(){return new co(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function GR(t,e,n){let r=t.projection=[];for(let o=0;o<e.length;o++){let i=n[o];r.push(i!=null&&i.length?Array.from(i):null)}}var mo=(()=>{class t{static __NG_ELEMENT_ID__=qR}return t})();function qR(){let t=qe();return KR(t,Y())}var YR=mo,CE=class extends YR{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return _d(this._hostTNode,this._hostLView)}get injector(){return new co(this._hostTNode,this._hostLView)}get parentInjector(){let e=_m(this._hostTNode,this._hostLView);if(y0(e)){let n=sd(e,this._hostLView),r=id(e),o=n[F].data[r+8];return new co(o,n)}else return new co(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=e0(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-et}createEmbeddedView(e,n,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=G_(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},i,s);return this.insertImpl(a,o,z_(this._hostTNode,s)),a}createComponent(e,n,r,o,i,s,a){let l=e&&!TA(e),c;if(l)c=n;else{let b=n||{};c=b.index,r=b.injector,o=b.projectableNodes,i=b.environmentInjector||b.ngModuleRef,s=b.directives,a=b.bindings}let d=l?e:new Di(pr(e)),u=r||this.parentInjector;if(!i&&d.ngModule==null){let C=(l?u:this.parentInjector).get(he,null);C&&(i=C)}let f=pr(d.componentType??{}),p=G_(this._lContainer,f?.id??null),m=p?.firstChild??null,w=d.create(u,o,m,i,s,a);return this.insertImpl(w.hostView,c,z_(this._hostTNode,p)),w}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let o=e._lView;if(s_(o)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=o[Fe],c=new CE(l,l[It],l[Fe]);c.detach(c.indexOf(e))}}let i=this._adjustIndex(n),s=this._lContainer;return vR(s,o,i,r),e.attachToViewContainerRef(),fh(Kh(s),i,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=e0(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=um(this._lContainer,n);r&&(Ls(Kh(this._lContainer),n),Q0(r[F],r))}detach(e){let n=this._adjustIndex(e,-1),r=um(this._lContainer,n);return r&&Ls(Kh(this._lContainer),n)!=null?new vr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function e0(t){return t[$s]}function Kh(t){return t[$s]||(t[$s]=[])}function KR(t,e){let n,r=e[t.index];return Lt(r)?n=r:(n=fE(r,e,null,t),e[t.index]=n,Rm(e,n)),QR(n,e,t,r),new CE(n,t,e)}function ZR(t,e){let n=t[ue],r=n.createComment(""),o=jt(e,t),i=n.parentNode(o);return ud(n,i,r,n.nextSibling(o),!1),r}var QR=eN,JR=()=>!1;function XR(t,e,n){return JR(t,e,n)}function eN(t,e,n,r){if(t[hr])return;let o;n.type&8?o=xt(r):o=ZR(e,n),t[hr]=o}var t0=new Set;function ki(t){t0.has(t)||(t0.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var po=class{},Ad=class{};var hd=class extends po{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new fd(this);constructor(e,n,r,o=!0){super(),this.ngModuleType=e,this._parent=n;let i=mh(e);this._bootstrapComponents=H0(i.bootstrap),this._r3Injector=Vh(e,n,[{provide:po,useValue:this},{provide:oa,useValue:this.componentFactoryResolver},...r],An(e),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},md=class extends Ad{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new hd(this.moduleType,e,[])}};var ea=class extends po{injector;componentFactoryResolver=new fd(this);instance=null;constructor(e){super();let n=new Jr([...e.providers,{provide:po,useValue:this},{provide:oa,useValue:this.componentFactoryResolver}],e.parent||Vs(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ia(t,e,n=null){return new ea({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var tN=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=bh(!1,n.type),o=r.length>0?ia([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=D({token:t,providedIn:"environment",factory:()=>new t(S(he))})}return t})();function gt(t){return Si(()=>{let e=xE(t),n=M(y({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Em.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?o=>o.get(tN).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||On.Emulated,styles:t.styles||ft,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&ki("NgStandalone"),DE(n);let r=t.dependencies;return n.directiveDefs=n0(r,nN),n.pipeDefs=n0(r,Jw),n.id=iN(n),n})}function nN(t){return pr(t)||gh(t)}function Bt(t){return Si(()=>({type:t.type,bootstrap:t.bootstrap||ft,declarations:t.declarations||ft,imports:t.imports||ft,exports:t.exports||ft,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function rN(t,e){if(t==null)return ur;let n={};for(let r in t)if(t.hasOwnProperty(r)){let o=t[r],i,s,a,l;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i,l=o[3]||null):(i=o,s=o,a=Td.None,l=null),n[i]=[r,a,l],e[i]=s}return n}function oN(t){if(t==null)return ur;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function le(t){return Si(()=>{let e=xE(t);return DE(e),e})}function $m(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function xE(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||ur,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||ft,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:rN(t.inputs,e),outputs:oN(t.outputs),debugInfo:null}}function DE(t){t.features?.forEach(e=>e(t))}function n0(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let o of n){let i=e(o);i!==null&&r.push(i)}return r}:null}function iN(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let i of r.join("|"))e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function sN(t){return Object.getPrototypeOf(t.prototype).constructor}function nt(t){let e=sN(t.type),n=!0,r=[t];for(;e;){let o;if(on(t))o=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new E(903,!1);o=e.\u0275dir}if(o){if(n){r.push(o);let s=t;s.inputs=Zh(t.inputs),s.declaredInputs=Zh(t.declaredInputs),s.outputs=Zh(t.outputs);let a=o.hostBindings;a&&uN(t,a);let l=o.viewQuery,c=o.contentQueries;if(l&&cN(t,l),c&&dN(t,c),aN(t,o),Ww(t.outputs,o.outputs),on(o)&&o.data.animation){let d=t.data;d.animation=(d.animation||[]).concat(o.data.animation)}}let i=o.features;if(i)for(let s=0;s<i.length;s++){let a=i[s];a&&a.ngInherit&&a(t),a===nt&&(n=!1)}}e=Object.getPrototypeOf(e)}lN(r)}function aN(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function lN(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let o=t[r];o.hostVars=e+=o.hostVars,o.hostAttrs=Js(o.hostAttrs,n=Js(n,o.hostAttrs))}}function Zh(t){return t===ur?{}:t===ft?[]:t}function cN(t,e){let n=t.viewQuery;n?t.viewQuery=(r,o)=>{e(r,o),n(r,o)}:t.viewQuery=e}function dN(t,e){let n=t.contentQueries;n?t.contentQueries=(r,o,i)=>{e(r,o,i),n(r,o,i)}:t.contentQueries=e}function uN(t,e){let n=t.hostBindings;n?t.hostBindings=(r,o)=>{e(r,o),n(r,o)}:t.hostBindings=e}function fN(t,e,n,r,o,i,s,a){if(n.firstCreatePass){t.mergedAttrs=Js(t.mergedAttrs,t.attrs);let d=t.tView=km(2,t,o,i,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),d.queries=n.queries.embeddedTView(t))}a&&(t.flags|=a),_i(t,!1);let l=hN(n,e,t,r);Yc()&&Om(n,e,l,t),xi(l,e);let c=fE(l,e,l,t);e[r+Be]=c,Rm(e,c),XR(c,t,e)}function pN(t,e,n,r,o,i,s,a,l,c,d){let u=n+Be,f;return e.firstCreatePass?(f=Bm(e,u,4,s||null,a||null),kh()&&gE(e,t,f,Gs(e.consts,c),nE),b0(e,f)):f=e.data[u],fN(f,t,e,n,r,o,i,l),Ws(f)&&Fm(e,t,f),c!=null&&eE(t,f,d),f}function un(t,e,n,r,o,i,s,a){let l=Y(),c=tt(),d=Gs(c.consts,i);return pN(l,c,t,e,n,r,o,d,void 0,s,a),un}var hN=mN;function mN(t,e,n,r){return Kc(!0),e[ue].createComment("")}var Rd=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(Rd||{}),go=new x(""),TE=!1,mm=class extends Ce{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,n_()&&(this.destroyRef=g(Tt,{optional:!0})??void 0,this.pendingTasks=g(sn,{optional:!0})??void 0)}emit(e){let n=j(null);try{super.next(e)}finally{j(n)}}subscribe(e,n,r){let o=e,i=n||(()=>null),s=r;if(e&&typeof e=="object"){let l=e;o=l.next?.bind(l),i=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:o,error:i,complete:s});return e instanceof ce&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},fe=mm;function SE(t){let e,n;function r(){t=Ks;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function r0(t){return queueMicrotask(()=>t()),()=>{t=Ks}}var zm="isAngularZone",gd=zm+"_ID",gN=0,ne=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new fe(!1);onMicrotaskEmpty=new fe(!1);onStable=new fe(!1);onError=new fe(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=TE}=e;if(typeof Zone>"u")throw new E(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,yN(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(zm)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new E(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new E(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,e,bN,Ks,Ks);try{return i.runTask(s,n,r)}finally{i.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},bN={};function Wm(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function vN(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){SE(()=>{t.callbackScheduled=!1,gm(t),t.isCheckStableRunning=!0,Wm(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),gm(t)}function yN(t){let e=()=>{vN(t)},n=gN++;t._inner=t._inner.fork({name:"angular",properties:{[zm]:!0,[gd]:n,[gd+n]:!0},onInvokeTask:(r,o,i,s,a,l)=>{if(wN(l))return r.invokeTask(i,s,a,l);try{return o0(t),r.invokeTask(i,s,a,l)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),i0(t)}},onInvoke:(r,o,i,s,a,l,c)=>{try{return o0(t),r.invoke(i,s,a,l,c)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!_N(l)&&e(),i0(t)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,gm(t),Wm(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function gm(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function o0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function i0(t){t._nesting--,Wm(t)}var bd=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new fe;onMicrotaskEmpty=new fe;onStable=new fe;onError=new fe;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,o){return e.apply(n,r)}};function wN(t){return kE(t,"__ignore_ng_zone__")}function _N(t){return kE(t,"__scheduler_tick__")}function kE(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Gm=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=D({token:t,providedIn:"root",factory:()=>new t})}return t})(),AE=[0,1,2,3],RE=(()=>{class t{ngZone=g(ne);scheduler=g(Rn);errorHandler=g(Pt,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){g(go,{optional:!0})}execute(){let n=this.sequences.size>0;n&&X(16),this.executing=!0;for(let r of AE)for(let o of this.sequences)if(!(o.erroredOrDestroyed||!o.hooks[r]))try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let i=o.hooks[r];return i(o.pipelinedValue)},o.snapshot))}catch(i){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&X(17)}register(n){let{view:r}=n;r!==void 0?((r[so]??=[]).push(n),wi(r),r[N]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(Rd.AFTER_NEXT_RENDER,n):n()}static \u0275prov=D({token:t,providedIn:"root",factory:()=>new t})}return t})(),vd=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,o,i,s=null){this.impl=e,this.hooks=n,this.view=r,this.once=o,this.snapshot=s,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[so];e&&(this.view[so]=e.filter(n=>n!==this))}};function Nd(t,e){let n=e?.injector??g(we);return ki("NgAfterNextRender"),IN(t,n,e,!0)}function EN(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function IN(t,e,n,r){let o=e.get(Gm);o.impl??=e.get(RE);let i=e.get(go,null,{optional:!0}),s=n?.manualCleanup!==!0?e.get(Tt):null,a=e.get(Qc,null,{optional:!0}),l=new vd(o.impl,EN(t),a?.view,r,s,i?.snapshot(null));return o.impl.register(l),l}var qm=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var Ym=new x("");function _r(t){return!!t&&typeof t.then=="function"}function Km(t){return!!t&&typeof t.subscribe=="function"}var NE=new x("");var Zm=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=g(NE,{optional:!0})??[];injector=g(we);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let o of this.appInits){let i=me(this.injector,o);if(_r(i))n.push(i);else if(Km(i)){let s=new Promise((a,l)=>{i.subscribe({complete:a,error:l})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Md=new x("");function ME(){wp(()=>{let t="";throw new E(600,t)})}function OE(t){return t.isBoundToModule}var CN=10;var Ln=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=g(mt);afterRenderManager=g(Gm);zonelessEnabled=g(Zc);rootEffectScheduler=g(zh);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Ce;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=g(sn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(V(n=>!n))}constructor(){g(go,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=g(he);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,o=we.NULL){return this._injector.get(ne).run(()=>{X(10);let s=n instanceof kd;if(!this._injector.get(Zm).done){let m="";throw new E(405,m)}let l;s?l=n:l=this._injector.get(oa).resolveComponentFactory(n),this.componentTypes.push(l.componentType);let c=OE(l)?void 0:this._injector.get(po),d=r||l.selector,u=l.create(o,[],d,c),f=u.location.nativeElement,p=u.injector.get(Ym,null);return p?.registerApplication(f),u.onDestroy(()=>{this.detachView(u.hostView),Qs(this.components,u),p?.unregisterApplication(f)}),this._loadComponent(u),X(11,u),u})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){X(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Rd.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new E(101,!1);let n=j(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,j(n),this.afterTick.next(),X(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(fo,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<CN;)X(14),this.synchronizeOnce(),X(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o}of this.allViews){if(!r&&!qs(o))continue;let i=r&&!this.zonelessEnabled?0:1;Vm(o,i),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>qs(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Qs(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(o){this.internalErrorHandler(o)}this.components.push(n),this._injector.get(Md,[]).forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Qs(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new E(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Qs(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Od(t,e,n,r){let o=Y(),i=Ei();if(yr(o,i,e)){let s=tt(),a=qc();K1(a,o,t,e,n,r)}return Od}function Le(t,e,n){let r=Y(),o=Ei();if(yr(r,o,e)){let i=tt(),s=qc();tE(s,r,t,e,r[ue],n)}return Le}function s0(t,e,n,r,o){Lm(e,t,n,o?"class":"style",r)}function I(t,e,n,r){let o=Y(),i=o[F],s=t+Be,a=i.firstCreatePass?vE(s,o,2,e,nE,kh(),n,r):i.data[s];if(J1(a,o,t,e,xN),Ws(a)){let l=o[F];Fm(l,o,a),j0(l,a,o)}return r!=null&&eE(o,a),I}function _(){let t=tt(),e=qe(),n=X1(e);return t.firstCreatePass&&yE(t,n),m_(n)&&g_(),p_(),n.classesWithoutHost!=null&&MA(n)&&s0(t,n,Y(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&OA(n)&&s0(t,n,Y(),n.stylesWithoutHost,!1),_}function ge(t,e,n,r){return I(t,e,n,r),_(),ge}var xN=(t,e,n,r,o)=>(Kc(!0),z0(e[ue],r,R_()));function bo(){return Y()}var lo=void 0;function DN(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var TN=["en",[["a","p"],["AM","PM"],lo],[["AM","PM"],lo,lo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],lo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],lo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",lo,"{1} 'at' {0}",lo],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",DN],Qh={};function bt(t){let e=SN(t),n=a0(e);if(n)return n;let r=e.split("-")[0];if(n=a0(r),n)return n;if(r==="en")return TN;throw new E(701,!1)}function a0(t){return t in Qh||(Qh[t]=Nn.ng&&Nn.ng.common&&Nn.ng.common.locales&&Nn.ng.common.locales[t]),Qh[t]}var be=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(be||{});function SN(t){return t.toLowerCase().replace(/_/g,"-")}var sa="en-US";var kN=sa;function PE(t){typeof t=="string"&&(kN=t.toLowerCase().replace(/_/g,"-"))}function Ne(t,e,n){let r=Y(),o=tt(),i=qe();return FE(o,r,r[ue],i,t,e,n),Ne}function FE(t,e,n,r,o,i,s){let a=!0,l=null;if((r.type&3||s)&&(l??=Yh(r,e,i),LR(r,t,e,s,n,o,i,l)&&(a=!1)),a){let c=r.outputs?.[o],d=r.hostDirectiveOutputs?.[o];if(d&&d.length)for(let u=0;u<d.length;u+=2){let f=d[u],p=d[u+1];l??=Yh(r,e,i),J_(r,e,f,p,o,l)}if(c&&c.length)for(let u of c)l??=Yh(r,e,i),J_(r,e,u,o,o,l)}}function Pd(t=1){return A_(t)}function Qm(t){let e=y_();return Ch(e,Be+t)}function ed(t,e){return t<<17|e<<2}function ho(t){return t>>17&32767}function AN(t){return(t&2)==2}function RN(t,e){return t&131071|e<<17}function bm(t){return t|2}function Ti(t){return(t&131068)>>2}function Jh(t,e){return t&-131069|e<<2}function NN(t){return(t&1)===1}function vm(t){return t|1}function MN(t,e,n,r,o,i){let s=i?e.classBindings:e.styleBindings,a=ho(s),l=Ti(s);t[r]=n;let c=!1,d;if(Array.isArray(n)){let u=n;d=u[1],(d===null||gi(u,d)>0)&&(c=!0)}else d=n;if(o)if(l!==0){let f=ho(t[a+1]);t[r+1]=ed(f,a),f!==0&&(t[f+1]=Jh(t[f+1],r)),t[a+1]=RN(t[a+1],r)}else t[r+1]=ed(a,0),a!==0&&(t[a+1]=Jh(t[a+1],r)),a=r;else t[r+1]=ed(l,0),a===0?a=r:t[l+1]=Jh(t[l+1],r),l=r;c&&(t[r+1]=bm(t[r+1])),l0(t,d,r,!0),l0(t,d,r,!1),ON(e,d,t,r,i),s=ed(a,l),i?e.classBindings=s:e.styleBindings=s}function ON(t,e,n,r,o){let i=o?t.residualClasses:t.residualStyles;i!=null&&typeof e=="string"&&gi(i,e)>=0&&(n[r+1]=vm(n[r+1]))}function l0(t,e,n,r){let o=t[n+1],i=e===null,s=r?ho(o):Ti(o),a=!1;for(;s!==0&&(a===!1||i);){let l=t[s],c=t[s+1];PN(l,e)&&(a=!0,t[s+1]=r?vm(c):bm(c)),s=r?ho(c):Ti(c)}a&&(t[n+1]=r?bm(o):vm(o))}function PN(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?gi(t,e)>=0:!1}function Fd(t,e,n){return LE(t,e,n,!1),Fd}function aa(t,e){return LE(t,e,null,!0),aa}function LE(t,e,n,r){let o=Y(),i=tt(),s=Ph(2);if(i.firstUpdatePass&&LN(i,t,s,r),e!==kt&&yr(o,s,e)){let a=i.data[gr()];HN(i,a,o,o[ue],t,o[s+1]=$N(e,n),r,s)}}function FN(t,e){return e>=t.expandoStartIndex}function LN(t,e,n,r){let o=t.data;if(o[n+1]===null){let i=o[gr()],s=FN(t,n);zN(i,r)&&e===null&&!s&&(e=!1),e=jN(o,i,e,r),MN(o,i,e,n,s,r)}}function jN(t,e,n,r){let o=D_(t),i=r?e.residualClasses:e.residualStyles;if(o===null)(r?e.classBindings:e.styleBindings)===0&&(n=Xh(null,t,e,n,r),n=ta(n,e.attrs,r),i=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==o)if(n=Xh(o,t,e,n,r),i===null){let l=VN(t,e,r);l!==void 0&&Array.isArray(l)&&(l=Xh(null,t,e,l[1],r),l=ta(l,e.attrs,r),UN(t,e,r,l))}else i=BN(t,e,r)}return i!==void 0&&(r?e.residualClasses=i:e.residualStyles=i),n}function VN(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Ti(r)!==0)return t[ho(r)]}function UN(t,e,n,r){let o=n?e.classBindings:e.styleBindings;t[ho(o)]=r}function BN(t,e,n){let r,o=e.directiveEnd;for(let i=1+e.directiveStylingLast;i<o;i++){let s=t[i].hostAttrs;r=ta(r,s,n)}return ta(r,e.attrs,n)}function Xh(t,e,n,r,o){let i=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(i=e[a],r=ta(r,i.hostAttrs,o),i!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function ta(t,e,n){let r=n?1:2,o=-1;if(e!==null)for(let i=0;i<e.length;i++){let s=e[i];typeof s=="number"?o=s:o===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Qw(t,s,n?!0:e[++i]))}return t===void 0?null:t}function HN(t,e,n,r,o,i,s,a){if(!(e.type&3))return;let l=t.data,c=l[a+1],d=NN(c)?c0(l,e,n,o,Ti(c),s):void 0;if(!yd(d)){yd(i)||AN(c)&&(i=c0(l,null,n,o,a,s));let u=Ih(gr(),n);V1(r,s,u,o,i)}}function c0(t,e,n,r,o,i){let s=e===null,a;for(;o>0;){let l=t[o],c=Array.isArray(l),d=c?l[1]:l,u=d===null,f=n[o+1];f===kt&&(f=u?ft:void 0);let p=u?jc(f,r):d===r?f:void 0;if(c&&!yd(p)&&(p=jc(l,r)),yd(p)&&(a=p,s))return a;let m=t[o+1];o=s?ho(m):Ti(m)}if(e!==null){let l=i?e.residualClasses:e.residualStyles;l!=null&&(a=jc(l,r))}return a}function yd(t){return t!==void 0}function $N(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=An(na(t)))),t}function zN(t,e){return(t.flags&(e?8:16))!==0}function k(t,e=""){let n=Y(),r=tt(),o=t+Be,i=r.firstCreatePass?Bm(r,o,1,e,null):r.data[o],s=WN(r,n,i,e,t);n[o]=s,Yc()&&Om(r,n,s,i),_i(i,!1)}var WN=(t,e,n,r,o)=>(Kc(!0),v1(e[ue],r));function GN(t,e,n,r=""){return yr(t,Ei(),n)?e+dr(n)+r:kt}function qN(t,e,n,r,o,i=""){let s=__(),a=EE(t,s,n,o);return Ph(2),a?e+dr(n)+r+dr(o)+i:kt}function vo(t){return la("",t),vo}function la(t,e,n){let r=Y(),o=GN(r,t,e,n);return o!==kt&&jE(r,gr(),o),la}function Ld(t,e,n,r,o){let i=Y(),s=qN(i,t,e,n,r,o);return s!==kt&&jE(i,gr(),s),Ld}function jE(t,e,n){let r=Ih(e,t);y1(t[ue],r,n)}function rt(t,e,n){Bh(e)&&(e=e());let r=Y(),o=Ei();if(yr(r,o,e)){let i=tt(),s=qc();tE(s,r,t,e,r[ue],n)}return rt}function vt(t,e){let n=Bh(t);return n&&t.set(e),n}function ot(t,e){let n=Y(),r=tt(),o=qe();return FE(r,n,n[ue],o,t,e),ot}function Jm(t){return yr(Y(),Ei(),t)?dr(t):kt}function YN(t,e,n){let r=tt();if(r.firstCreatePass){let o=on(t);ym(n,r.data,r.blueprint,o,!0),ym(e,r.data,r.blueprint,o,!1)}}function ym(t,e,n,r,o){if(t=Pe(t),Array.isArray(t))for(let i=0;i<t.length;i++)ym(t[i],e,n,r,o);else{let i=tt(),s=Y(),a=qe(),l=Qr(t)?t:Pe(t.provide),c=yh(t),d=a.providerIndexes&1048575,u=a.directiveStart,f=a.providerIndexes>>20;if(Qr(t)||!t.multi){let p=new uo(c,o,T,null),m=tm(l,e,o?d:d+f,u);m===-1?(rm(ld(a,s),i,l),em(i,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(p),s.push(p)):(n[m]=p,s[m]=p)}else{let p=tm(l,e,d+f,u),m=tm(l,e,d,d+f),w=p>=0&&n[p],b=m>=0&&n[m];if(o&&!b||!o&&!w){rm(ld(a,s),i,l);let C=QN(o?ZN:KN,n.length,o,r,c,t);!o&&b&&(n[m].providerFactory=C),em(i,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(C),s.push(C)}else{let C=VE(n[o?m:p],c,!o&&r);em(i,t,p>-1?p:m,C)}!o&&r&&b&&n[m].componentProviders++}}}function em(t,e,n,r){let o=Qr(e),i=t_(e);if(o||i){let l=(i?Pe(e.useClass):e).prototype.ngOnDestroy;if(l){let c=t.destroyHooks||(t.destroyHooks=[]);if(!o&&e.multi){let d=c.indexOf(n);d===-1?c.push(n,[r,l]):c[d+1].push(r,l)}else c.push(n,l)}}}function VE(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function tm(t,e,n,r){for(let o=n;o<r;o++)if(e[o]===t)return o;return-1}function KN(t,e,n,r,o){return wm(this.multi,[])}function ZN(t,e,n,r,o){let i=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=cd(r,r[F],this.providerFactory.index,o);s=l.slice(0,a),wm(i,s);for(let c=a;c<l.length;c++)s.push(l[c])}else s=[],wm(i,s);return s}function wm(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function QN(t,e,n,r,o,i){let s=new uo(t,n,T,null);return s.multi=[],s.index=e,s.componentProviders=0,VE(s,o,r&&!n),s}function fn(t,e=[]){return n=>{n.providersResolver=(r,o)=>YN(r,o?o(t):t,e)}}function JN(t,e){let n=t[e];return n===kt?void 0:n}function XN(t,e,n,r,o,i,s){let a=e+n;return EE(t,a,o,i)?FR(t,a+2,s?r.call(s,o,i):r(o,i)):JN(t,a+2)}function Xm(t,e){let n=tt(),r,o=t+Be;n.firstCreatePass?(r=eM(e,n.pipeRegistry),n.data[o]=r,r.onDestroy&&(n.destroyHooks??=[]).push(o,r.onDestroy)):r=n.data[o];let i=r.factory||(r.factory=lr(r.type,!0)),s,a=Ge(T);try{let l=ad(!1),c=i();return ad(l),xh(n,Y(),o,c),c}finally{Ge(a)}}function eM(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function eg(t,e,n,r){let o=t+Be,i=Y(),s=Ch(i,o);return tM(i,o)?XN(i,w_(),e,s.transform,n,r,s):s.transform(n,r)}function tM(t,e){return t[F].data[e].pure}var wd=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},tg=(()=>{class t{compileModuleSync(n){return new md(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),o=mh(n),i=H0(o.declarations).reduce((s,a)=>{let l=pr(a);return l&&s.push(new Di(l)),s},[]);return new wd(r,i)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var nM=(()=>{class t{zone=g(ne);changeDetectionScheduler=g(Rn);applicationRef=g(Ln);applicationErrorHandler=g(mt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function UE({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new ne(M(y({},BE()),{scheduleInRootZone:n})),[{provide:ne,useFactory:t},{provide:fr,multi:!0,useFactory:()=>{let r=g(nM,{optional:!0});return()=>r.initialize()}},{provide:fr,multi:!0,useFactory:()=>{let r=g(rM);return()=>{r.initialize()}}},e===!0?{provide:Hh,useValue:!0}:[],{provide:$h,useValue:n??TE},{provide:mt,useFactory:()=>{let r=g(ne),o=g(he),i;return s=>{r.runOutsideAngular(()=>{o.destroyed&&!i?setTimeout(()=>{throw s}):(i??=o.get(Pt),i.handleError(s))})}}}]}function BE(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var rM=(()=>{class t{subscription=new ce;initialized=!1;zone=g(ne);pendingTasks=g(sn);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ne.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ne.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var HE=(()=>{class t{applicationErrorHandler=g(mt);appRef=g(Ln);taskService=g(sn);ngZone=g(ne);zonelessEnabled=g(Zc);tracing=g(go,{optional:!0});disableScheduling=g(Hh,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ce;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(gd):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(g($h,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof bd||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let o=this.useMicrotaskScheduler?r0:SE;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(gd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,r0(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function oM(){return typeof $localize<"u"&&$localize.locale||sa}var ca=new x("",{providedIn:"root",factory:()=>g(ca,{optional:!0,skipSelf:!0})||oM()});function At(t){return Hw(t)}function yo(t,e){return rc(t,e?.equal)}var $E=class{[Ve];constructor(e){this[Ve]=e}destroy(){this[Ve].destroy()}};var qE=Symbol("InputSignalNode#UNSET"),bM=M(y({},oc),{transformFn:void 0,applyValueToInputSignal(t,e){ti(t,e)}});function YE(t,e){let n=Object.create(bM);n.value=t,n.transformFn=e?.transform;function r(){if(Xo(n),n.value===qE){let o=null;throw new E(-950,o)}return n.value}return r[Ve]=n,r}var vM=new x("");vM.__NG_ELEMENT_ID__=t=>{let e=qe();if(e===null)throw new E(204,!1);if(e.type&2)return e.value;if(t&8)return null;throw new E(204,!1)};function zE(t,e){return YE(t,e)}function yM(t){return YE(qE,t)}var KE=(zE.required=yM,zE);var wo=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},ZE=new wo("20.1.3");var ng=new x(""),wM=new x("");function da(t){return!t.moduleRef}function _M(t){let e=da(t)?t.r3Injector:t.moduleRef.injector,n=e.get(ne);return n.run(()=>{da(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(mt),o;if(n.runOutsideAngular(()=>{o=n.onError.subscribe({next:r})}),da(t)){let i=()=>e.destroy(),s=t.platformInjector.get(ng);s.add(i),e.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else{let i=()=>t.moduleRef.destroy(),s=t.platformInjector.get(ng);s.add(i),t.moduleRef.onDestroy(()=>{Qs(t.allPlatformModules,t.moduleRef),o.unsubscribe(),s.delete(i)})}return IM(r,n,()=>{let i=e.get(sn),s=i.add(),a=e.get(Zm);return a.runInitializers(),a.donePromise.then(()=>{let l=e.get(ca,sa);if(PE(l||sa),!e.get(wM,!0))return da(t)?e.get(Ln):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(da(t)){let d=e.get(Ln);return t.rootComponent!==void 0&&d.bootstrap(t.rootComponent),d}else return EM?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void i.remove(s))})})}var EM;function IM(t,e,n){try{let r=n();return _r(r)?r.catch(o=>{throw e.runOutsideAngular(()=>t(o)),o}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var jd=null;function CM(t=[],e){return we.create({name:e,providers:[{provide:js,useValue:"platform"},{provide:ng,useValue:new Set([()=>jd=null])},...t]})}function xM(t=[]){if(jd)return jd;let e=CM(t);return jd=e,ME(),DM(e),e}function DM(t){let e=t.get(Id,null);me(t,()=>{e?.forEach(n=>n())})}function ag(){return!1}var Er=(()=>{class t{static __NG_ELEMENT_ID__=TM}return t})();function TM(t){return SM(qe(),Y(),(t&16)===16)}function SM(t,e,n){if(mr(t)&&!n){let r=Dt(t.index,e);return new vr(r,r)}else if(t.type&175){let r=e[Ct];return new vr(r,e)}return null}var rg=class{constructor(){}supports(e){return Hm(e)}create(e){return new og(e)}},kM=(t,e)=>e,og=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||kM}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,o=0,i=null;for(;n||r;){let s=!r||n&&n.currentIndex<WE(r,o,i)?n:r,a=WE(s,o,i),l=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)o++;else{i||(i=[]);let c=a-o,d=l-o;if(c!=d){for(let f=0;f<c;f++){let p=f<i.length?i[f]:i[f]=0,m=p+f;d<=m&&m<c&&(i[f]=p+1)}let u=s.previousIndex;i[u]=d-c}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!Hm(e))throw new E(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,o,i,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)i=e[a],s=this._trackByFn(a,i),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,i,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,i,s,a)),Object.is(n.item,i)||this._addIdentityChange(n,i)),n=n._next}else o=0,wE(e,a=>{s=this._trackByFn(o,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,o),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,o)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,o){let i;return e===null?i=this._itTail:(i=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,i,o)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,o),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,i,o)):e=this._addAfter(new ig(n,r),i,o)),e}_verifyReinsertion(e,n,r,o){let i=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return i!==null?e=this._reinsertAfter(i,e._prev,o):e.currentIndex!=o&&(e.currentIndex=o,this._addToMoves(e,o)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let o=e._prevRemoved,i=e._nextRemoved;return o===null?this._removalsHead=i:o._nextRemoved=i,i===null?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let o=n===null?this._itHead:n._next;return e._next=o,e._prev=n,o===null?this._itTail=e:o._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Vd),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Vd),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},ig=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},sg=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Vd=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new sg,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,o=this.map.get(r);return o?o.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function WE(t,e,n){let r=t.previousIndex;if(r===null)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+e+o}function GE(){return new lg([new rg])}var lg=(()=>{class t{factories;static \u0275prov=D({token:t,providedIn:"root",factory:GE});constructor(n){this.factories=n}static create(n,r){if(r!=null){let o=r.factories.slice();n=n.concat(o)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||GE()),deps:[[t,new f0,new cn]]}}find(n){let r=this.factories.find(o=>o.supports(n));if(r!=null)return r;throw new E(901,!1)}}return t})();function QE(t){X(8);try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,o=xM(r),i=[UE({}),{provide:Rn,useExisting:HE},M_,...n||[]],s=new ea({providers:i,parent:o,debugName:"",runEnvironmentInitializers:!1});return _M({r3Injector:s.injector,platformInjector:o,rootComponent:e})}catch(e){return Promise.reject(e)}finally{X(9)}}function jn(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function cg(t,e=NaN){return!isNaN(parseFloat(t))&&!isNaN(Number(t))?Number(t):e}var eI=null;function Rt(){return eI}function dg(t){eI??=t}var fa=class{},ug=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:()=>g(tI),providedIn:"platform"})}return t})();var tI=(()=>{class t extends ug{_location;_history;_doc=g(_e);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Rt().getBaseHref(this._doc)}onPopState(n){let r=Rt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Rt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){this._history.pushState(n,r,o)}replaceState(n,r,o){this._history.replaceState(n,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function nI(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function JE(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function Ir(t){return t&&t[0]!=="?"?`?${t}`:t}var Ud=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:()=>g(oI),providedIn:"root"})}return t})(),rI=new x(""),oI=(()=>{class t extends Ud{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??g(_e).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return nI(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Ir(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,i){let s=this.prepareExternalUrl(o+Ir(i));this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){let s=this.prepareExternalUrl(o+Ir(i));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(S(ug),S(rI,8))};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ai=(()=>{class t{_subject=new Ce;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=NM(JE(XE(r))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Ir(r))}normalize(n){return t.stripTrailingSlash(RM(this._basePath,XE(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._locationStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ir(r)),o)}replaceState(n,r="",o=null){this._locationStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ir(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r??void 0,complete:o??void 0})}static normalizeQueryParams=Ir;static joinWithSlash=nI;static stripTrailingSlash=JE;static \u0275fac=function(r){return new(r||t)(S(Ud))};static \u0275prov=D({token:t,factory:()=>AM(),providedIn:"root"})}return t})();function AM(){return new Ai(S(Ud))}function RM(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function XE(t){return t.replace(/\/index.html$/,"")}function NM(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var He=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(He||{}),re=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(re||{}),it=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(it||{}),Un={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function lI(t){return bt(t)[be.LocaleId]}function cI(t,e,n){let r=bt(t),o=[r[be.DayPeriodsFormat],r[be.DayPeriodsStandalone]],i=Nt(o,e);return Nt(i,n)}function dI(t,e,n){let r=bt(t),o=[r[be.DaysFormat],r[be.DaysStandalone]],i=Nt(o,e);return Nt(i,n)}function uI(t,e,n){let r=bt(t),o=[r[be.MonthsFormat],r[be.MonthsStandalone]],i=Nt(o,e);return Nt(i,n)}function fI(t,e){let r=bt(t)[be.Eras];return Nt(r,e)}function pa(t,e){let n=bt(t);return Nt(n[be.DateFormat],e)}function ha(t,e){let n=bt(t);return Nt(n[be.TimeFormat],e)}function ma(t,e){let r=bt(t)[be.DateTimeFormat];return Nt(r,e)}function ga(t,e){let n=bt(t),r=n[be.NumberSymbols][e];if(typeof r>"u"){if(e===Un.CurrencyDecimal)return n[be.NumberSymbols][Un.Decimal];if(e===Un.CurrencyGroup)return n[be.NumberSymbols][Un.Group]}return r}function pI(t){if(!t[be.ExtraData])throw new E(2303,!1)}function hI(t){let e=bt(t);return pI(e),(e[be.ExtraData][2]||[]).map(r=>typeof r=="string"?fg(r):[fg(r[0]),fg(r[1])])}function mI(t,e,n){let r=bt(t);pI(r);let o=[r[be.ExtraData][0],r[be.ExtraData][1]],i=Nt(o,e)||[];return Nt(i,n)||[]}function Nt(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new E(2304,!1)}function fg(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var MM=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Bd={},OM=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function gI(t,e,n,r){let o=$M(t);e=Vn(n,e)||e;let s=[],a;for(;e;)if(a=OM.exec(e),a){s=s.concat(a.slice(1));let d=s.pop();if(!d)break;e=d}else{s.push(e);break}let l=o.getTimezoneOffset();r&&(l=vI(r,l),o=HM(o,r));let c="";return s.forEach(d=>{let u=UM(d);c+=u?u(o,n,l):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Gd(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Vn(t,e){let n=lI(t);if(Bd[n]??={},Bd[n][e])return Bd[n][e];let r="";switch(e){case"shortDate":r=pa(t,it.Short);break;case"mediumDate":r=pa(t,it.Medium);break;case"longDate":r=pa(t,it.Long);break;case"fullDate":r=pa(t,it.Full);break;case"shortTime":r=ha(t,it.Short);break;case"mediumTime":r=ha(t,it.Medium);break;case"longTime":r=ha(t,it.Long);break;case"fullTime":r=ha(t,it.Full);break;case"short":let o=Vn(t,"shortTime"),i=Vn(t,"shortDate");r=Hd(ma(t,it.Short),[o,i]);break;case"medium":let s=Vn(t,"mediumTime"),a=Vn(t,"mediumDate");r=Hd(ma(t,it.Medium),[s,a]);break;case"long":let l=Vn(t,"longTime"),c=Vn(t,"longDate");r=Hd(ma(t,it.Long),[l,c]);break;case"full":let d=Vn(t,"fullTime"),u=Vn(t,"fullDate");r=Hd(ma(t,it.Full),[d,u]);break}return r&&(Bd[n][e]=r),r}function Hd(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function Ht(t,e,n="-",r,o){let i="";(t<0||o&&t<=0)&&(o?t=-t+1:(t=-t,i=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),i+s}function PM(t,e){return Ht(t,3).substring(0,e)}function Ee(t,e,n=0,r=!1,o=!1){return function(i,s){let a=FM(t,i);if((n>0||a>-n)&&(a+=n),t===3)a===0&&n===-12&&(a=12);else if(t===6)return PM(a,e);let l=ga(s,Un.MinusSign);return Ht(a,e,l,r,o)}}function FM(t,e){switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new E(2301,!1)}}function ie(t,e,n=He.Format,r=!1){return function(o,i){return LM(o,i,t,e,n,r)}}function LM(t,e,n,r,o,i){switch(n){case 2:return uI(e,o,r)[t.getMonth()];case 1:return dI(e,o,r)[t.getDay()];case 0:let s=t.getHours(),a=t.getMinutes();if(i){let c=hI(e),d=mI(e,o,r),u=c.findIndex(f=>{if(Array.isArray(f)){let[p,m]=f,w=s>=p.hours&&a>=p.minutes,b=s<m.hours||s===m.hours&&a<m.minutes;if(p.hours<m.hours){if(w&&b)return!0}else if(w||b)return!0}else if(f.hours===s&&f.minutes===a)return!0;return!1});if(u!==-1)return d[u]}return cI(e,o,r)[s<12?0:1];case 3:return fI(e,r)[t.getFullYear()<=0?0:1];default:let l=n;throw new E(2302,!1)}}function $d(t){return function(e,n,r){let o=-1*r,i=ga(n,Un.MinusSign),s=o>0?Math.floor(o/60):Math.ceil(o/60);switch(t){case 0:return(o>=0?"+":"")+Ht(s,2,i)+Ht(Math.abs(o%60),2,i);case 1:return"GMT"+(o>=0?"+":"")+Ht(s,1,i);case 2:return"GMT"+(o>=0?"+":"")+Ht(s,2,i)+":"+Ht(Math.abs(o%60),2,i);case 3:return r===0?"Z":(o>=0?"+":"")+Ht(s,2,i)+":"+Ht(Math.abs(o%60),2,i);default:throw new E(2302,!1)}}}var jM=0,Wd=4;function VM(t){let e=Gd(t,jM,1).getDay();return Gd(t,0,1+(e<=Wd?Wd:Wd+7)-e)}function bI(t){let e=t.getDay(),n=e===0?-3:Wd-e;return Gd(t.getFullYear(),t.getMonth(),t.getDate()+n)}function pg(t,e=!1){return function(n,r){let o;if(e){let i=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();o=1+Math.floor((s+i)/7)}else{let i=bI(n),s=VM(i.getFullYear()),a=i.getTime()-s.getTime();o=1+Math.round(a/6048e5)}return Ht(o,t,ga(r,Un.MinusSign))}}function zd(t,e=!1){return function(n,r){let i=bI(n).getFullYear();return Ht(i,t,ga(r,Un.MinusSign),e)}}var hg={};function UM(t){if(hg[t])return hg[t];let e;switch(t){case"G":case"GG":case"GGG":e=ie(3,re.Abbreviated);break;case"GGGG":e=ie(3,re.Wide);break;case"GGGGG":e=ie(3,re.Narrow);break;case"y":e=Ee(0,1,0,!1,!0);break;case"yy":e=Ee(0,2,0,!0,!0);break;case"yyy":e=Ee(0,3,0,!1,!0);break;case"yyyy":e=Ee(0,4,0,!1,!0);break;case"Y":e=zd(1);break;case"YY":e=zd(2,!0);break;case"YYY":e=zd(3);break;case"YYYY":e=zd(4);break;case"M":case"L":e=Ee(1,1,1);break;case"MM":case"LL":e=Ee(1,2,1);break;case"MMM":e=ie(2,re.Abbreviated);break;case"MMMM":e=ie(2,re.Wide);break;case"MMMMM":e=ie(2,re.Narrow);break;case"LLL":e=ie(2,re.Abbreviated,He.Standalone);break;case"LLLL":e=ie(2,re.Wide,He.Standalone);break;case"LLLLL":e=ie(2,re.Narrow,He.Standalone);break;case"w":e=pg(1);break;case"ww":e=pg(2);break;case"W":e=pg(1,!0);break;case"d":e=Ee(2,1);break;case"dd":e=Ee(2,2);break;case"c":case"cc":e=Ee(7,1);break;case"ccc":e=ie(1,re.Abbreviated,He.Standalone);break;case"cccc":e=ie(1,re.Wide,He.Standalone);break;case"ccccc":e=ie(1,re.Narrow,He.Standalone);break;case"cccccc":e=ie(1,re.Short,He.Standalone);break;case"E":case"EE":case"EEE":e=ie(1,re.Abbreviated);break;case"EEEE":e=ie(1,re.Wide);break;case"EEEEE":e=ie(1,re.Narrow);break;case"EEEEEE":e=ie(1,re.Short);break;case"a":case"aa":case"aaa":e=ie(0,re.Abbreviated);break;case"aaaa":e=ie(0,re.Wide);break;case"aaaaa":e=ie(0,re.Narrow);break;case"b":case"bb":case"bbb":e=ie(0,re.Abbreviated,He.Standalone,!0);break;case"bbbb":e=ie(0,re.Wide,He.Standalone,!0);break;case"bbbbb":e=ie(0,re.Narrow,He.Standalone,!0);break;case"B":case"BB":case"BBB":e=ie(0,re.Abbreviated,He.Format,!0);break;case"BBBB":e=ie(0,re.Wide,He.Format,!0);break;case"BBBBB":e=ie(0,re.Narrow,He.Format,!0);break;case"h":e=Ee(3,1,-12);break;case"hh":e=Ee(3,2,-12);break;case"H":e=Ee(3,1);break;case"HH":e=Ee(3,2);break;case"m":e=Ee(4,1);break;case"mm":e=Ee(4,2);break;case"s":e=Ee(5,1);break;case"ss":e=Ee(5,2);break;case"S":e=Ee(6,1);break;case"SS":e=Ee(6,2);break;case"SSS":e=Ee(6,3);break;case"Z":case"ZZ":case"ZZZ":e=$d(0);break;case"ZZZZZ":e=$d(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=$d(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=$d(2);break;default:return null}return hg[t]=e,e}function vI(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function BM(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function HM(t,e,n){let o=t.getTimezoneOffset(),i=vI(e,o);return BM(t,-1*(i-o))}function $M(t){if(iI(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[o,i=1,s=1]=t.split("-").map(a=>+a);return Gd(o,i-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(MM))return zM(r)}let e=new Date(t);if(!iI(e))throw new E(2302,!1);return e}function zM(t){let e=new Date(0),n=0,r=0,o=t[8]?e.setUTCFullYear:e.setFullYear,i=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),o.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,l=Number(t[6]||0),c=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return i.call(e,s,a,l,c),e}function iI(t){return t instanceof Date&&!isNaN(t.valueOf())}var qd=class{$implicit;ngForOf;index;count;constructor(e,n,r,o){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=o}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Kd=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,o){this._viewContainer=n,this._template=r,this._differs=o}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((o,i,s)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new qd(o.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(i===null?void 0:i);else if(i!==null){let a=r.get(i);r.move(a,s),sI(a,o)}});for(let o=0,i=r.length;o<i;o++){let a=r.get(o).context;a.index=o,a.count=i,a.ngForOf=this._ngForOf}n.forEachIdentityChange(o=>{let i=r.get(o.currentIndex);sI(i,o)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(T(mo),T(ra),T(lg))};static \u0275dir=le({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function sI(t,e){t.context.$implicit=e.item}var mg=(()=>{class t{_viewContainer;_context=new Yd;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){aI(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){aI(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(T(mo),T(ra))};static \u0275dir=le({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),Yd=class{$implicit=null;ngIf=null};function aI(t,e){if(t&&!t.createEmbeddedView)throw new E(2020,!1)}function WM(t,e){return new E(2100,!1)}var GM="mediumDate",yI=new x(""),wI=new x(""),gg=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(n,r,o){this.locale=n,this.defaultTimezone=r,this.defaultOptions=o}transform(n,r,o,i){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??GM,a=o??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return gI(n,s,i||this.locale,a)}catch(s){throw WM(t,s.message)}}static \u0275fac=function(r){return new(r||t)(T(ca,16),T(yI,24),T(wI,24))};static \u0275pipe=$m({name:"date",type:t,pure:!0})}return t})();var Zd=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Bt({type:t});static \u0275inj=_t({})}return t})();function ba(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[o,i]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===e)return decodeURIComponent(i)}return null}var _o=class{};var EI="browser";var II=t=>t.src,qM=new x("",{providedIn:"root",factory:()=>II});var _I=/^((\s*\d+w\s*(,|$)){1,})$/;var YM=[1,2],KM=640;var ZM=1920,QM=1080;var CI=(()=>{class t{imageLoader=g(qM);config=JM(g(Dd));renderer=g(Fn);imgElement=g(dn).nativeElement;injector=g(we);lcpObserver;_renderedSrc=null;ngSrc;ngSrcset;sizes;width;height;decoding;loading;priority=!1;loaderParams;disableOptimizedSrcset=!1;fill=!1;placeholder;placeholderConfig;src;srcset;constructor(){}ngOnInit(){ki("NgOptimizedImage"),this.placeholder&&this.removePlaceholderOnLoad(this.imgElement),this.setHostAttributes()}setHostAttributes(){this.fill?this.sizes||="100vw":(this.setHostAttribute("width",this.width.toString()),this.setHostAttribute("height",this.height.toString())),this.setHostAttribute("loading",this.getLoadingBehavior()),this.setHostAttribute("fetchpriority",this.getFetchPriority()),this.setHostAttribute("decoding",this.getDecoding()),this.setHostAttribute("ng-img","true");let n=this.updateSrcAndSrcset();this.sizes?this.getLoadingBehavior()==="lazy"?this.setHostAttribute("sizes","auto, "+this.sizes):this.setHostAttribute("sizes",this.sizes):this.ngSrcset&&_I.test(this.ngSrcset)&&this.getLoadingBehavior()==="lazy"&&this.setHostAttribute("sizes","auto, 100vw")}ngOnChanges(n){if(n.ngSrc&&!n.ngSrc.isFirstChange()){let r=this._renderedSrc;this.updateSrcAndSrcset(!0)}}callImageLoader(n){let r=n;return this.loaderParams&&(r.loaderParams=this.loaderParams),this.imageLoader(r)}getLoadingBehavior(){return!this.priority&&this.loading!==void 0?this.loading:this.priority?"eager":"lazy"}getFetchPriority(){return this.priority?"high":"auto"}getDecoding(){return this.priority?"sync":this.decoding??"auto"}getRewrittenSrc(){if(!this._renderedSrc){let n={src:this.ngSrc};this._renderedSrc=this.callImageLoader(n)}return this._renderedSrc}getRewrittenSrcset(){let n=_I.test(this.ngSrcset);return this.ngSrcset.split(",").filter(o=>o!=="").map(o=>{o=o.trim();let i=n?parseFloat(o):parseFloat(o)*this.width;return`${this.callImageLoader({src:this.ngSrc,width:i})} ${o}`}).join(", ")}getAutomaticSrcset(){return this.sizes?this.getResponsiveSrcset():this.getFixedSrcset()}getResponsiveSrcset(){let{breakpoints:n}=this.config,r=n;return this.sizes?.trim()==="100vw"&&(r=n.filter(i=>i>=KM)),r.map(i=>`${this.callImageLoader({src:this.ngSrc,width:i})} ${i}w`).join(", ")}updateSrcAndSrcset(n=!1){n&&(this._renderedSrc=null);let r=this.getRewrittenSrc();this.setHostAttribute("src",r);let o;return this.ngSrcset?o=this.getRewrittenSrcset():this.shouldGenerateAutomaticSrcset()&&(o=this.getAutomaticSrcset()),o&&this.setHostAttribute("srcset",o),o}getFixedSrcset(){return YM.map(r=>`${this.callImageLoader({src:this.ngSrc,width:this.width*r})} ${r}x`).join(", ")}shouldGenerateAutomaticSrcset(){let n=!1;return this.sizes||(n=this.width>ZM||this.height>QM),!this.disableOptimizedSrcset&&!this.srcset&&this.imageLoader!==II&&!n}generatePlaceholder(n){let{placeholderResolution:r}=this.config;return n===!0?`url(${this.callImageLoader({src:this.ngSrc,width:r,isPlaceholder:!0})})`:typeof n=="string"?`url(${n})`:null}shouldBlurPlaceholder(n){return!n||!n.hasOwnProperty("blur")?!0:!!n.blur}removePlaceholderOnLoad(n){let r=()=>{let s=this.injector.get(Er);o(),i(),this.placeholder=!1,s.markForCheck()},o=this.renderer.listen(n,"load",r),i=this.renderer.listen(n,"error",r);XM(n,r)}setHostAttribute(n,r){this.renderer.setAttribute(this.imgElement,n,r)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=le({type:t,selectors:[["img","ngSrc",""]],hostVars:18,hostBindings:function(r,o){r&2&&Fd("position",o.fill?"absolute":null)("width",o.fill?"100%":null)("height",o.fill?"100%":null)("inset",o.fill?"0":null)("background-size",o.placeholder?"cover":null)("background-position",o.placeholder?"50% 50%":null)("background-repeat",o.placeholder?"no-repeat":null)("background-image",o.placeholder?o.generatePlaceholder(o.placeholder):null)("filter",o.placeholder&&o.shouldBlurPlaceholder(o.placeholderConfig)?"blur(15px)":null)},inputs:{ngSrc:[2,"ngSrc","ngSrc",eO],ngSrcset:"ngSrcset",sizes:"sizes",width:[2,"width","width",cg],height:[2,"height","height",cg],decoding:"decoding",loading:"loading",priority:[2,"priority","priority",jn],loaderParams:"loaderParams",disableOptimizedSrcset:[2,"disableOptimizedSrcset","disableOptimizedSrcset",jn],fill:[2,"fill","fill",jn],placeholder:[2,"placeholder","placeholder",tO],placeholderConfig:"placeholderConfig",src:"src",srcset:"srcset"},features:[Ut]})}return t})();function JM(t){let e={};return t.breakpoints&&(e.breakpoints=t.breakpoints.sort((n,r)=>n-r)),Object.assign({},xd,t,e)}function XM(t,e){t.complete&&t.naturalWidth&&e()}function eO(t){return typeof t=="string"?t:na(t)}function tO(t){return typeof t=="string"&&t!=="true"&&t!=="false"&&t!==""?t:jn(t)}var Jd=new x(""),_g=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,o,i){return this._findPluginFor(r).addEventListener(n,r,o,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(i=>i.supports(n)),!r)throw new E(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(S(Jd),S(ne))};static \u0275prov=D({token:t,factory:t.\u0275fac})}return t})(),va=class{_doc;constructor(e){this._doc=e}manager},bg="ng-app-id";function xI(t){for(let e of t)e.remove()}function DI(t,e){let n=e.createElement("style");return n.textContent=t,n}function nO(t,e,n,r){let o=t.head?.querySelectorAll(`style[${bg}="${e}"],link[${bg}="${e}"]`);if(o)for(let i of o)i.removeAttribute(bg),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&n.set(i.textContent,{usage:0,elements:[i]})}function yg(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var Eg=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,o,i={}){this.doc=n,this.appId=r,this.nonce=o,nO(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let o of n)this.addUsage(o,this.inline,DI);r?.forEach(o=>this.addUsage(o,this.external,yg))}removeStyles(n,r){for(let o of n)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(n,r,o){let i=r.get(n);i?i.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(n,this.doc)))})}removeUsage(n,r){let o=r.get(n);o&&(o.usage--,o.usage<=0&&(xI(o.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])xI(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:o}]of this.inline)o.push(this.addElement(n,DI(r,this.doc)));for(let[r,{elements:o}]of this.external)o.push(this.addElement(n,yg(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(S(_e),S(Ed),S(Cd,8),S(wr))};static \u0275prov=D({token:t,factory:t.\u0275fac})}return t})(),vg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ig=/%COMP%/g;var SI="%COMP%",rO=`_nghost-${SI}`,oO=`_ngcontent-${SI}`,iO=!0,sO=new x("",{providedIn:"root",factory:()=>iO});function aO(t){return oO.replace(Ig,t)}function lO(t){return rO.replace(Ig,t)}function kI(t,e){return e.map(n=>n.replace(Ig,t))}var Cg=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,o,i,s,a,l,c=null,d=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=d,this.platformIsServer=!1,this.defaultRenderer=new ya(n,s,l,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let o=this.getOrCreateRenderer(n,r);return o instanceof Qd?o.applyToHost(n):o instanceof wa&&o.applyStyles(),o}getOrCreateRenderer(n,r){let o=this.rendererByCompId,i=o.get(r.id);if(!i){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,u=this.platformIsServer,f=this.tracingService;switch(r.encapsulation){case On.Emulated:i=new Qd(l,c,r,this.appId,d,s,a,u,f);break;case On.ShadowDom:return new wg(l,c,n,r,s,a,this.nonce,u,f);default:i=new wa(l,c,r,d,s,a,u,f);break}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(S(_g),S(Eg),S(Ed),S(sO),S(_e),S(wr),S(ne),S(Cd),S(go,8))};static \u0275prov=D({token:t,factory:t.\u0275fac})}return t})(),ya=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,o,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=o,this.tracingService=i}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(vg[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(TI(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(TI(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new E(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,o){if(o){n=o+":"+n;let i=vg[o];i?e.setAttributeNS(i,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let o=vg[r];o?e.removeAttributeNS(o,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,o){o&(ln.DashCase|ln.Important)?e.style.setProperty(n,r,o&ln.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&ln.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,o){if(typeof e=="string"&&(e=Rt().getGlobalEventTarget(this.doc,e),!e))throw new E(5102,!1);let i=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(e,n,i)),this.eventManager.addEventListener(e,n,i,o)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function TI(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var wg=class extends ya{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,o,i,s,a,l,c){super(e,i,s,l,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=o.styles;d=kI(o.id,d);for(let f of d){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=f,this.shadowRoot.appendChild(p)}let u=o.getExternalStyles?.();if(u)for(let f of u){let p=yg(f,i);a&&p.setAttribute("nonce",a),this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},wa=class extends ya{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,o,i,s,a,l,c){super(e,i,s,a,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o;let d=r.styles;this.styles=c?kI(c,d):d,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Qd=class extends wa{contentAttr;hostAttr;constructor(e,n,r,o,i,s,a,l,c){let d=o+"-"+r.id;super(e,n,r,i,s,a,l,c,d),this.contentAttr=aO(d),this.hostAttr=lO(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var Xd=class t extends fa{supportsDOMEvents=!0;static makeCurrent(){dg(new t)}onAndCancel(e,n,r,o){return e.addEventListener(n,r,o),()=>{e.removeEventListener(n,r,o)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=cO();return n==null?null:dO(n)}resetBaseElement(){_a=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ba(document.cookie,e)}},_a=null;function cO(){return _a=_a||document.head.querySelector("base"),_a?_a.getAttribute("href"):null}function dO(t){return new URL(t,document.baseURI).pathname}var uO=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:t.\u0275fac})}return t})(),RI=(()=>{class t extends va{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o,i){return n.addEventListener(r,o,i),()=>this.removeEventListener(n,r,o,i)}removeEventListener(n,r,o,i){return n.removeEventListener(r,o,i)}static \u0275fac=function(r){return new(r||t)(S(_e))};static \u0275prov=D({token:t,factory:t.\u0275fac})}return t})(),AI=["alt","control","meta","shift"],fO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pO={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},NI=(()=>{class t extends va{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,o,i){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Rt().onAndCancel(n,s.domEventName,a,i))}static parseEventName(n){let r=n.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let i=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),AI.forEach(c=>{let d=r.indexOf(c);d>-1&&(r.splice(d,1),s+=c+".")}),s+=i,r.length!=0||i.length===0)return null;let l={};return l.domEventName=o,l.fullKey=s,l}static matchEventFullKeyCode(n,r){let o=fO[n.key]||n.key,i="";return r.indexOf("code.")>-1&&(o=n.code,i="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),AI.forEach(s=>{if(s!==o){let a=pO[s];a(n)&&(i+=s+".")}}),i+=o,i===r)}static eventCallback(n,r,o){return i=>{t.matchEventFullKeyCode(i,n)&&o.runGuarded(()=>r(i))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(S(_e))};static \u0275prov=D({token:t,factory:t.\u0275fac})}return t})();function xg(t,e){let n=y({rootComponent:t},hO(e));return QE(n)}function hO(t){return{appProviders:[...yO,...t?.providers??[]],platformProviders:vO}}function mO(){Xd.makeCurrent()}function gO(){return new Pt}function bO(){return Im(document),document}var vO=[{provide:wr,useValue:EI},{provide:Id,useValue:mO,multi:!0},{provide:_e,useFactory:bO}];var yO=[{provide:js,useValue:"root"},{provide:Pt,useFactory:gO},{provide:Jd,useClass:RI,multi:!0,deps:[_e]},{provide:Jd,useClass:NI,multi:!0,deps:[_e]},Cg,Eg,_g,{provide:fo,useExisting:Cg},{provide:_o,useClass:uO},[]];var Mi=class{},Ea=class{},Cr=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let o=n.slice(0,r),i=n.slice(r+1).trim();this.addHeaderEntry(o,i)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let o=(e.op==="a"?this.headers.get(n):void 0)||[];o.push(...r),this.headers.set(n,o);break;case"d":let i=e.value;if(!i)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>i.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(e,n){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(i=>i.toString()),o=e.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(e,o)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var tu=class{encodeKey(e){return MI(e)}encodeValue(e){return MI(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function wO(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(o=>{let i=o.indexOf("="),[s,a]=i==-1?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,i)),e.decodeValue(o.slice(i+1))],l=n.get(s)||[];l.push(a),n.set(s,l)}),n}var _O=/%(\d[a-f0-9])/gi,EO={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function MI(t){return encodeURIComponent(t).replace(_O,(e,n)=>EO[n]??e)}function eu(t){return`${t}`}var Bn=class t{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new tu,e.fromString){if(e.fromObject)throw new E(2805,!1);this.map=wO(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],o=Array.isArray(r)?r.map(eu):[eu(r)];this.map.set(n,o)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let o=e[r];Array.isArray(o)?o.forEach(i=>{n.push({param:r,value:i,op:"a"})}):n.push({param:r,value:o,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(eu(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],o=r.indexOf(eu(e.value));o!==-1&&r.splice(o,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var nu=class{map=new Map;set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function IO(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function OI(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function PI(t){return typeof Blob<"u"&&t instanceof Blob}function FI(t){return typeof FormData<"u"&&t instanceof FormData}function CO(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var LI="Content-Type",jI="Accept",UI="X-Request-URL",BI="text/plain",HI="application/json",xO=`${HI}, ${BI}, */*`,Ri=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,n,r,o){this.url=n,this.method=e.toUpperCase();let i;if(IO(this.method)||o?(this.body=r!==void 0?r:null,i=o):i=r,i){if(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,this.keepalive=!!i.keepalive,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params),i.priority&&(this.priority=i.priority),i.cache&&(this.cache=i.cache),i.credentials&&(this.credentials=i.credentials),typeof i.timeout=="number"){if(i.timeout<1||!Number.isInteger(i.timeout))throw new Error("");this.timeout=i.timeout}i.mode&&(this.mode=i.mode),i.redirect&&(this.redirect=i.redirect),this.transferCache=i.transferCache}if(this.headers??=new Cr,this.context??=new nu,!this.params)this.params=new Bn,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),l=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||OI(this.body)||PI(this.body)||FI(this.body)||CO(this.body)?this.body:this.body instanceof Bn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||FI(this.body)?null:PI(this.body)?this.body.type||null:OI(this.body)?null:typeof this.body=="string"?BI:this.body instanceof Bn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?HI:null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,o=e.responseType||this.responseType,i=e.keepalive??this.keepalive,s=e.priority||this.priority,a=e.cache||this.cache,l=e.mode||this.mode,c=e.redirect||this.redirect,d=e.credentials||this.credentials,u=e.transferCache??this.transferCache,f=e.timeout??this.timeout,p=e.body!==void 0?e.body:this.body,m=e.withCredentials??this.withCredentials,w=e.reportProgress??this.reportProgress,b=e.headers||this.headers,C=e.params||this.params,oe=e.context??this.context;return e.setHeaders!==void 0&&(b=Object.keys(e.setHeaders).reduce((ae,J)=>ae.set(J,e.setHeaders[J]),b)),e.setParams&&(C=Object.keys(e.setParams).reduce((ae,J)=>ae.set(J,e.setParams[J]),C)),new t(n,r,p,{params:C,headers:b,context:oe,reportProgress:w,responseType:o,withCredentials:m,transferCache:u,keepalive:i,cache:a,priority:s,timeout:f,mode:l,redirect:c,credentials:d})}},Eo=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Eo||{}),Oi=class{headers;status;statusText;url;ok;type;constructor(e,n=200,r="OK"){this.headers=e.headers||new Cr,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},ru=class t extends Oi{constructor(e={}){super(e)}type=Eo.ResponseHeader;clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ia=class t extends Oi{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Eo.Response;clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ni=class extends Oi{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},DO=200,TO=204;function Dg(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache,keepalive:t.keepalive,priority:t.priority,cache:t.cache,mode:t.mode,redirect:t.redirect}}var iu=(()=>{class t{handler;constructor(n){this.handler=n}request(n,r,o={}){let i;if(n instanceof Ri)i=n;else{let l;o.headers instanceof Cr?l=o.headers:l=new Cr(o.headers);let c;o.params&&(o.params instanceof Bn?c=o.params:c=new Bn({fromObject:o.params})),i=new Ri(n,r,o.body!==void 0?o.body:null,{headers:l,context:o.context,params:c,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache,keepalive:o.keepalive,priority:o.priority,cache:o.cache,mode:o.mode,redirect:o.redirect,credentials:o.credentials})}let s=R(i).pipe(ir(l=>this.handler.handle(l)));if(n instanceof Ri||o.observe==="events")return s;let a=s.pipe(Je(l=>l instanceof Ia));switch(o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return a.pipe(V(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new E(2806,!1);return l.body}));case"blob":return a.pipe(V(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new E(2807,!1);return l.body}));case"text":return a.pipe(V(l=>{if(l.body!==null&&typeof l.body!="string")throw new E(2808,!1);return l.body}));case"json":default:return a.pipe(V(l=>l.body))}case"response":return a;default:throw new E(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new Bn().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,o={}){return this.request("PATCH",n,Dg(o,r))}post(n,r,o={}){return this.request("POST",n,Dg(o,r))}put(n,r,o={}){return this.request("PUT",n,Dg(o,r))}static \u0275fac=function(r){return new(r||t)(S(Mi))};static \u0275prov=D({token:t,factory:t.\u0275fac})}return t})();var SO=new x("");function $I(t,e){return e(t)}function kO(t,e){return(n,r)=>e.intercept(n,{handle:o=>t(o,r)})}function AO(t,e,n){return(r,o)=>me(n,()=>e(r,i=>t(i,o)))}var zI=new x(""),Sg=new x(""),WI=new x(""),kg=new x("",{providedIn:"root",factory:()=>!0});function RO(){let t=null;return(e,n)=>{t===null&&(t=(g(zI,{optional:!0})??[]).reduceRight(kO,$I));let r=g(Mn);if(g(kg)){let i=r.add();return t(e,n).pipe(ar(i))}else return t(e,n)}}var ou=(()=>{class t extends Mi{backend;injector;chain=null;pendingTasks=g(Mn);contributeToStability=g(kg);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Sg),...this.injector.get(WI,[])]));this.chain=r.reduceRight((o,i)=>AO(o,i,this.injector),$I)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,o=>this.backend.handle(o)).pipe(ar(r))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||t)(S(Ea),S(he))};static \u0275prov=D({token:t,factory:t.\u0275fac})}return t})();var NO=/^\)\]\}',?\n/,MO=RegExp(`^${UI}:`,"m");function OO(t){return"responseURL"in t&&t.responseURL?t.responseURL:MO.test(t.getAllResponseHeaders())?t.getResponseHeader(UI):null}var Tg=(()=>{class t{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new E(-2800,!1);let r=this.xhrFactory;return R(null).pipe(Xe(()=>new P(i=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((b,C)=>s.setRequestHeader(b,C.join(","))),n.headers.has(jI)||s.setRequestHeader(jI,xO),!n.headers.has(LI)){let b=n.detectContentTypeHeader();b!==null&&s.setRequestHeader(LI,b)}if(n.timeout&&(s.timeout=n.timeout),n.responseType){let b=n.responseType.toLowerCase();s.responseType=b!=="json"?b:"text"}let a=n.serializeBody(),l=null,c=()=>{if(l!==null)return l;let b=s.statusText||"OK",C=new Cr(s.getAllResponseHeaders()),oe=OO(s)||n.url;return l=new ru({headers:C,status:s.status,statusText:b,url:oe}),l},d=()=>{let{headers:b,status:C,statusText:oe,url:ae}=c(),J=null;C!==TO&&(J=typeof s.response>"u"?s.responseText:s.response),C===0&&(C=J?DO:0);let er=C>=200&&C<300;if(n.responseType==="json"&&typeof J=="string"){let Xt=J;J=J.replace(NO,"");try{J=J!==""?JSON.parse(J):null}catch(zl){J=Xt,er&&(er=!1,J={error:zl,text:J})}}er?(i.next(new Ia({body:J,headers:b,status:C,statusText:oe,url:ae||void 0})),i.complete()):i.error(new Ni({error:J,headers:b,status:C,statusText:oe,url:ae||void 0}))},u=b=>{let{url:C}=c(),oe=new Ni({error:b,status:s.status||0,statusText:s.statusText||"Unknown Error",url:C||void 0});i.error(oe)},f=u;n.timeout&&(f=b=>{let{url:C}=c(),oe=new Ni({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:C||void 0});i.error(oe)});let p=!1,m=b=>{p||(i.next(c()),p=!0);let C={type:Eo.DownloadProgress,loaded:b.loaded};b.lengthComputable&&(C.total=b.total),n.responseType==="text"&&s.responseText&&(C.partialText=s.responseText),i.next(C)},w=b=>{let C={type:Eo.UploadProgress,loaded:b.loaded};b.lengthComputable&&(C.total=b.total),i.next(C)};return s.addEventListener("load",d),s.addEventListener("error",u),s.addEventListener("timeout",f),s.addEventListener("abort",u),n.reportProgress&&(s.addEventListener("progress",m),a!==null&&s.upload&&s.upload.addEventListener("progress",w)),s.send(a),i.next({type:Eo.Sent}),()=>{s.removeEventListener("error",u),s.removeEventListener("abort",u),s.removeEventListener("load",d),s.removeEventListener("timeout",f),n.reportProgress&&(s.removeEventListener("progress",m),a!==null&&s.upload&&s.upload.removeEventListener("progress",w)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||t)(S(_o))};static \u0275prov=D({token:t,factory:t.\u0275fac})}return t})(),GI=new x(""),PO="XSRF-TOKEN",FO=new x("",{providedIn:"root",factory:()=>PO}),LO="X-XSRF-TOKEN",jO=new x("",{providedIn:"root",factory:()=>LO}),Ca=class{},VO=(()=>{class t{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r){this.doc=n,this.cookieName=r}getToken(){let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=ba(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||t)(S(_e),S(FO))};static \u0275prov=D({token:t,factory:t.\u0275fac})}return t})();function UO(t,e){let n=t.url.toLowerCase();if(!g(GI)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=g(Ca).getToken(),o=g(jO);return r!=null&&!t.headers.has(o)&&(t=t.clone({headers:t.headers.set(o,r)})),e(t)}var Ag=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(Ag||{});function BO(t,e){return{\u0275kind:t,\u0275providers:e}}function qI(...t){let e=[iu,Tg,ou,{provide:Mi,useExisting:ou},{provide:Ea,useFactory:()=>g(SO,{optional:!0})??g(Tg)},{provide:Sg,useValue:UO,multi:!0},{provide:GI,useValue:!0},{provide:Ca,useClass:VO}];for(let n of t)e.push(...n.\u0275providers);return tn(e)}var VI=new x("");function YI(){return BO(Ag.LegacyInterceptors,[{provide:VI,useFactory:RO},{provide:Sg,useExisting:VI,multi:!0}])}var Rg=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Bt({type:t});static \u0275inj=_t({providers:[qI(YI())]})}return t})();var KI=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(S(_e))};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ZI=()=>{};var Mg={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var v=function(t,e){if(!t)throw Io(e)},Io=function(t){return new Error("Firebase Database ("+Mg.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var XI=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},zO=function(t){let e=[],n=0,r=0;for(;n<t.length;){let o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){let i=t[n++];e[r++]=String.fromCharCode((o&31)<<6|i&63)}else if(o>239&&o<365){let i=t[n++],s=t[n++],a=t[n++],l=((o&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let i=t[n++],s=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(i&63)<<6|s&63)}}return e.join("")},Li={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){let i=t[o],s=o+1<t.length,a=s?t[o+1]:0,l=o+2<t.length,c=l?t[o+2]:0,d=i>>2,u=(i&3)<<4|a>>4,f=(a&15)<<2|c>>6,p=c&63;l||(p=64,s||(f=64)),r.push(n[d],n[u],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(XI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){let i=n[t.charAt(o++)],a=o<t.length?n[t.charAt(o)]:0;++o;let c=o<t.length?n[t.charAt(o)]:64;++o;let u=o<t.length?n[t.charAt(o)]:64;if(++o,i==null||a==null||c==null||u==null)throw new Og;let f=i<<2|a>>4;if(r.push(f),c!==64){let p=a<<4&240|c>>2;if(r.push(p),u!==64){let m=c<<6&192|u;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Og=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Fg=function(t){let e=XI(t);return Li.encodeByteArray(e,!0)},Da=function(t){return Fg(t).replace(/\./g,"")},Pi=function(t){try{return Li.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function eC(t){return tC(void 0,t)}function tC(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!WO(n)||(t[n]=tC(t[n],e[n]));return t}function WO(t){return t!=="__proto__"}function nC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var GO=()=>nC().__FIREBASE_DEFAULTS__,qO=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},YO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Pi(t[1]);return e&&JSON.parse(e)},Lg=()=>{try{return ZI()||GO()||qO()||YO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},jg=t=>{var e,n;return(n=(e=Lg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},rC=t=>{let e=jg(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Vg=()=>{var t;return(t=Lg())===null||t===void 0?void 0:t.config},Ug=t=>{var e;return(e=Lg())===null||e===void 0?void 0:e[`_${t}`]};var $t=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function xr(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}function au(t){return h(this,null,function*(){return(yield fetch(t,{credentials:"include"})).ok})}function oC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Da(JSON.stringify(n)),Da(JSON.stringify(s)),""].join(".")}var xa={};function KO(){let t={prod:[],emulator:[]};for(let e of Object.keys(xa))xa[e]?t.emulator.push(e):t.prod.push(e);return t}function ZO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var QI=!1;function lu(t,e){if(typeof window>"u"||typeof document>"u"||!xr(window.location.host)||xa[t]===e||xa[t]||QI)return;xa[t]=e;function n(f){return`__firebase__banner__${f}`}let r="__firebase__banner",i=KO().prod.length>0;function s(){let f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,p){f.setAttribute("width","24"),f.setAttribute("id",p),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){let f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{QI=!0,s()},f}function d(f,p){f.setAttribute("id",p),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function u(){let f=ZO(r),p=n("text"),m=document.getElementById(p)||document.createElement("span"),w=n("learnmore"),b=document.getElementById(w)||document.createElement("a"),C=n("preprendIcon"),oe=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){let ae=f.element;a(ae),d(b,w);let J=c();l(oe,C),ae.append(oe,m,b,J),document.body.appendChild(ae)}i?(m.innerText="Preview backend disconnected.",oe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(oe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,m.innerText="Preview backend running in this workspace."),m.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",u):u()}function $e(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ta(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function iC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sC(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function cu(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aC(){let t=$e();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function pn(){return Mg.NODE_CLIENT===!0||Mg.NODE_ADMIN===!0}function du(){try{return typeof indexedDB=="object"}catch{return!1}}function lC(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var i;e(((i=o.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}var QO="FirebaseError",zt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=QO,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wt.prototype.create)}},Wt=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},o=`${this.service}/${e}`,i=this.errors[e],s=i?JO(i,r):"Error",a=`${this.serviceName}: ${s} (${o}).`;return new zt(o,a,r)}};function JO(t,e){return t.replace(XO,(n,r)=>{let o=e[r];return o!=null?String(o):`<${r}?>`})}var XO=/\{\$([^}]+)}/g;function Fi(t){return JSON.parse(t)}function ke(t){return JSON.stringify(t)}var cC=function(t){let e={},n={},r={},o="";try{let i=t.split(".");e=Fi(Pi(i[0])||""),n=Fi(Pi(i[1])||""),o=i[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:o}};var dC=function(t){let e=cC(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},uC=function(t){let e=cC(t).claims;return typeof e=="object"&&e.admin===!0};function hn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Co(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Sa(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ka(t,e,n){let r={};for(let o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=e.call(n,t[o],o,t));return r}function mn(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let o of n){if(!r.includes(o))return!1;let i=t[o],s=e[o];if(JI(i)&&JI(s)){if(!mn(i,s))return!1}else if(i!==s)return!1}for(let o of r)if(!n.includes(o))return!1;return!0}function JI(t){return t!==null&&typeof t=="object"}function xo(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ji(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[o,i]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(i)}}),e}function Vi(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}var su=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let r=this.W_;if(typeof e=="string")for(let u=0;u<16;u++)r[u]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let u=0;u<16;u++)r[u]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let u=16;u<80;u++){let f=r[u-3]^r[u-8]^r[u-14]^r[u-16];r[u]=(f<<1|f>>>31)&4294967295}let o=this.chain_[0],i=this.chain_[1],s=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,d;for(let u=0;u<80;u++){u<40?u<20?(c=a^i&(s^a),d=1518500249):(c=i^s^a,d=1859775393):u<60?(c=i&s|a&(i|s),d=2400959708):(c=i^s^a,d=3395469782);let f=(o<<5|o>>>27)+c+l+d+r[u]&4294967295;l=a,a=s,s=(i<<30|i>>>2)&4294967295,i=o,o=f}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let r=n-this.blockSize,o=0,i=this.buf_,s=this.inbuf_;for(;o<n;){if(s===0)for(;o<=r;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<n;)if(i[s]=e.charCodeAt(o),++s,++o,s===this.blockSize){this.compress_(i),s=0;break}}else for(;o<n;)if(i[s]=e[o],++s,++o,s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let o=0;o<5;o++)for(let i=24;i>=0;i-=8)e[r]=this.chain_[o]>>i&255,++r;return e}};function fC(t,e){let n=new Pg(t,e);return n.subscribe.bind(n)}var Pg=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");eP(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=Ng),o.error===void 0&&(o.error=Ng),o.complete===void 0&&(o.complete=Ng);let i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function eP(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ng(){}function uu(t,e){return`${t} failed: ${e} argument `}var pC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);if(o>=55296&&o<=56319){let i=o-55296;r++,v(r<t.length,"Surrogate pair missing trail surrogate.");let s=t.charCodeAt(r)-56320;o=65536+(i<<10)+s}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Aa=function(t){let e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};var oX=4*60*60*1e3;function ze(t){return t&&t._delegate?t._delegate:t}var Ye=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Do="[DEFAULT]";var fu=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new $t;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),o=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(o)return null;throw i}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nP(e))try{this.getOrInitializeService({instanceIdentifier:Do})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let o=this.normalizeInstanceIdentifier(n);try{let i=this.getOrInitializeService({instanceIdentifier:o});r.resolve(i)}catch{}}}}clearInstance(e=Do){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return h(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Do){return this.instances.has(e)}getOptions(e=Do){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[i,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(i);r===a&&s.resolve(o)}return o}onInit(e,n){var r;let o=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(o,i);let s=this.instances.get(o);return s&&e(s,o),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:tP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Do){return this.component?this.component.multipleInstances?e:Do:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function tP(t){return t===Do?void 0:t}function nP(t){return t.instantiationMode==="EAGER"}var Ra=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new fu(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var rP=[],ee=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ee||{}),oP={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},iP=ee.INFO,sP={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},aP=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),o=sP[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},gn=class{constructor(e){this.name=e,this._logLevel=iP,this._logHandler=aP,this._userLogHandler=null,rP.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...e),this._logHandler(this,ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...e),this._logHandler(this,ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...e),this._logHandler(this,ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...e),this._logHandler(this,ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...e),this._logHandler(this,ee.ERROR,...e)}};var lP=(t,e)=>e.some(n=>t instanceof n),hC,mC;function cP(){return hC||(hC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dP(){return mC||(mC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var gC=new WeakMap,Hg=new WeakMap,bC=new WeakMap,Bg=new WeakMap,zg=new WeakMap;function uP(t){let e=new Promise((n,r)=>{let o=()=>{t.removeEventListener("success",i),t.removeEventListener("error",s)},i=()=>{n(bn(t.result)),o()},s=()=>{r(t.error),o()};t.addEventListener("success",i),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&gC.set(n,t)}).catch(()=>{}),zg.set(e,t),e}function fP(t){if(Hg.has(t))return;let e=new Promise((n,r)=>{let o=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",s),t.removeEventListener("abort",s)},i=()=>{n(),o()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",i),t.addEventListener("error",s),t.addEventListener("abort",s)});Hg.set(t,e)}var $g={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Hg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function vC(t){$g=t($g)}function pP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(pu(this),e,...n);return bC.set(r,e.sort?e.sort():[e]),bn(r)}:dP().includes(t)?function(...e){return t.apply(pu(this),e),bn(gC.get(this))}:function(...e){return bn(t.apply(pu(this),e))}}function hP(t){return typeof t=="function"?pP(t):(t instanceof IDBTransaction&&fP(t),lP(t,cP())?new Proxy(t,$g):t)}function bn(t){if(t instanceof IDBRequest)return uP(t);if(Bg.has(t))return Bg.get(t);let e=hP(t);return e!==t&&(Bg.set(t,e),zg.set(e,t)),e}var pu=t=>zg.get(t);function wC(t,e,{blocked:n,upgrade:r,blocking:o,terminated:i}={}){let s=indexedDB.open(t,e),a=bn(s);return r&&s.addEventListener("upgradeneeded",l=>{r(bn(s.result),l.oldVersion,l.newVersion,bn(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),o&&l.addEventListener("versionchange",c=>o(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}var mP=["get","getKey","getAll","getAllKeys","count"],gP=["put","add","delete","clear"],Wg=new Map;function yC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wg.get(e))return Wg.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,o=gP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||mP.includes(n)))return;let i=function(s,...a){return h(this,null,function*(){let l=this.transaction(s,o?"readwrite":"readonly"),c=l.store;return r&&(c=c.index(a.shift())),(yield Promise.all([c[n](...a),o&&l.done]))[0]})};return Wg.set(e,i),i}vC(t=>M(y({},t),{get:(e,n,r)=>yC(e,n)||t.get(e,n,r),has:(e,n)=>!!yC(e,n)||t.has(e,n)}));var qg=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bP(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function bP(t){let e=t.getComponent();return e?.type==="VERSION"}var Yg="@firebase/app",_C="0.13.2";var Hn=new gn("@firebase/app"),vP="@firebase/app-compat",yP="@firebase/analytics-compat",wP="@firebase/analytics",_P="@firebase/app-check-compat",EP="@firebase/app-check",IP="@firebase/auth",CP="@firebase/auth-compat",xP="@firebase/database",DP="@firebase/data-connect",TP="@firebase/database-compat",SP="@firebase/functions",kP="@firebase/functions-compat",AP="@firebase/installations",RP="@firebase/installations-compat",NP="@firebase/messaging",MP="@firebase/messaging-compat",OP="@firebase/performance",PP="@firebase/performance-compat",FP="@firebase/remote-config",LP="@firebase/remote-config-compat",jP="@firebase/storage",VP="@firebase/storage-compat",UP="@firebase/firestore",BP="@firebase/ai",HP="@firebase/firestore-compat",$P="firebase",zP="11.10.0";var Kg="[DEFAULT]",WP={[Yg]:"fire-core",[vP]:"fire-core-compat",[wP]:"fire-analytics",[yP]:"fire-analytics-compat",[EP]:"fire-app-check",[_P]:"fire-app-check-compat",[IP]:"fire-auth",[CP]:"fire-auth-compat",[xP]:"fire-rtdb",[DP]:"fire-data-connect",[TP]:"fire-rtdb-compat",[SP]:"fire-fn",[kP]:"fire-fn-compat",[AP]:"fire-iid",[RP]:"fire-iid-compat",[NP]:"fire-fcm",[MP]:"fire-fcm-compat",[OP]:"fire-perf",[PP]:"fire-perf-compat",[FP]:"fire-rc",[LP]:"fire-rc-compat",[jP]:"fire-gcs",[VP]:"fire-gcs-compat",[UP]:"fire-fst",[HP]:"fire-fst-compat",[BP]:"fire-vertex","fire-js":"fire-js",[$P]:"fire-js-all"};var Na=new Map,GP=new Map,Zg=new Map;function EC(t,e){try{t.container.addComponent(e)}catch(n){Hn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Gt(t){let e=t.name;if(Zg.has(e))return Hn.debug(`There were multiple attempts to register component ${e}.`),!1;Zg.set(e,t);for(let n of Na.values())EC(n,t);for(let n of GP.values())EC(n,t);return!0}function Ui(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function st(t){return t==null?!1:t.settings!==void 0}var qP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Dr=new Wt("app","Firebase",qP);var Qg=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ye("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Dr.create("app-deleted",{appName:this._name})}};var Tr=zP;function eb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Kg,automaticDataCollectionEnabled:!0},e),o=r.name;if(typeof o!="string"||!o)throw Dr.create("bad-app-name",{appName:String(o)});if(n||(n=Vg()),!n)throw Dr.create("no-options");let i=Na.get(o);if(i){if(mn(n,i.options)&&mn(r,i.config))return i;throw Dr.create("duplicate-app",{appName:o})}let s=new Ra(o);for(let l of Zg.values())s.addComponent(l);let a=new Qg(n,r,s);return Na.set(o,a),a}function To(t=Kg){let e=Na.get(t);if(!e&&t===Kg&&Vg())return eb();if(!e)throw Dr.create("no-app",{appName:t});return e}function hu(){return Array.from(Na.values())}function ve(t,e,n){var r;let o=(r=WP[t])!==null&&r!==void 0?r:t;n&&(o+=`-${n}`);let i=o.match(/\s|\//),s=e.match(/\s|\//);if(i||s){let a=[`Unable to register library "${o}" with version "${e}":`];i&&a.push(`library name "${o}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hn.warn(a.join(" "));return}Gt(new Ye(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}var YP="firebase-heartbeat-database",KP=1,Ma="firebase-heartbeat-store",Gg=null;function DC(){return Gg||(Gg=wC(YP,KP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ma)}catch(n){console.warn(n)}}}}).catch(t=>{throw Dr.create("idb-open",{originalErrorMessage:t.message})})),Gg}function ZP(t){return h(this,null,function*(){try{let n=(yield DC()).transaction(Ma),r=yield n.objectStore(Ma).get(TC(t));return yield n.done,r}catch(e){if(e instanceof zt)Hn.warn(e.message);else{let n=Dr.create("idb-get",{originalErrorMessage:e?.message});Hn.warn(n.message)}}})}function IC(t,e){return h(this,null,function*(){try{let r=(yield DC()).transaction(Ma,"readwrite");yield r.objectStore(Ma).put(e,TC(t)),yield r.done}catch(n){if(n instanceof zt)Hn.warn(n.message);else{let r=Dr.create("idb-set",{originalErrorMessage:n?.message});Hn.warn(r.message)}}})}function TC(t){return`${t.name}!${t.options.appId}`}var QP=1024,JP=30,Jg=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Xg(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return h(this,null,function*(){var e,n;try{let o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=CC();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:o}),this._heartbeatsCache.heartbeats.length>JP){let s=eF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Hn.warn(r)}})}getHeartbeatsHeader(){return h(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=CC(),{heartbeatsToSend:r,unsentEntries:o}=XP(this._heartbeatsCache.heartbeats),i=Da(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Hn.warn(n),""}})}};function CC(){return new Date().toISOString().substring(0,10)}function XP(t,e=QP){let n=[],r=t.slice();for(let o of t){let i=n.find(s=>s.agent===o.agent);if(i){if(i.dates.push(o.date),xC(n)>e){i.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),xC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Xg=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return h(this,null,function*(){return du()?lC().then(()=>!0).catch(()=>!1):!1})}read(){return h(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield ZP(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return h(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let o=yield this.read();return IC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return h(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let o=yield this.read();return IC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return})}};function xC(t){return Da(JSON.stringify({version:2,heartbeats:t})).length}function eF(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function tF(t){Gt(new Ye("platform-logger",e=>new qg(e),"PRIVATE")),Gt(new Ye("heartbeat",e=>new Jg(e),"PRIVATE")),ve(Yg,_C,t),ve(Yg,_C,"esm2017"),ve("fire-js","")}tF("");var nF="firebase",rF="11.10.0";ve(nF,rF,"app");function SC(t){t===void 0&&(t=g(we));let e=t.get(Mn);return n=>new P(r=>{let o=e.add(),i=!1;function s(){i||(o(),i=!0)}let a=n.subscribe({next:l=>{r.next(l),s()},complete:()=>{r.complete(),s()},error:l=>{r.error(l),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var ko=new wo("ANGULARFIRE2_VERSION");function gu(t,e,n){if(e){if(e.length===1)return e[0];let i=e.filter(s=>s.app===n);if(i.length===1)return i[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Hi=(t,e)=>{let n=e?[e]:hu(),r=[];return n.forEach(o=>{o.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Bi=function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t}(Bi||{}),kC=ag()&&typeof Zone<"u"?Bi.WARN:Bi.SILENT;var mu=class{zone;delegate;constructor(e,n=Op){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let o=this.zone,i=function(s){o?o.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(i,n,r)}},Ao=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=g(ne);this.outsideAngular=n.runOutsideAngular(()=>new mu(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new mu(typeof Zone>"u"?void 0:Zone.current,Mp))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),AC=!1;function oF(t,e){!AC&&(kC>Bi.SILENT||ag())&&(AC=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),kC>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function iF(t){let e=g(ne,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function So(t){let e=g(ne,{optional:!0});return e?e.run(()=>t()):t()}var sF=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),me(n,()=>So(()=>t.apply(void 0,r)))),vn=(t,e,n)=>(n||=e?Bi.WARN:Bi.VERBOSE,function(){let r,o=arguments,i,s,a;try{i=g(Ao),s=g(Mn),a=g(he)}catch{return oF(t,n),t.apply(this,o)}for(let c=0;c<arguments.length;c++)typeof o[c]=="function"&&(e&&(r||=So(()=>s.add())),o[c]=sF(o[c],r,a));let l=iF(()=>t.apply(this,o));return e?l instanceof P?l.pipe(rr(i.outsideAngular),nr(i.insideAngular),SC(a)):l instanceof Promise?So(()=>{let c=s.add();return new Promise((d,u)=>{l.then(f=>me(a,()=>So(()=>d(f))),f=>me(a,()=>So(()=>u(f)))).finally(c)})}):typeof l=="function"&&r?function(){return setTimeout(r,0),l.apply(this,arguments)}:So(()=>l):l instanceof P?l.pipe(rr(i.outsideAngular),nr(i.insideAngular)):So(()=>l)});var Ro=class{constructor(e){return e}},Oa=class{constructor(){return hu()}};function aF(t){return t&&t.length===1?t[0]:new Ro(To())}var tb=new x("angularfire2._apps"),lF={provide:Ro,useFactory:aF,deps:[[new cn,tb]]},cF={provide:Oa,deps:[[new cn,tb]]};function dF(t){return(e,n)=>{let r=n.get(wr);ve("angularfire",ko.full,"core"),ve("angularfire",ko.full,"app"),ve("angular",ZE.full,r.toString());let o=e.runOutsideAngular(()=>t(n));return new Ro(o)}}function RC(t,...e){return tn([lF,cF,{provide:tb,useFactory:dF(t),multi:!0,deps:[ne,we,Ao,...e]}])}var NC=vn(eb,!0);var uF=new Map,fF={activated:!1,tokenObservers:[]},pF={initialized:!1,enabled:!1};function qt(t){return uF.get(t)||Object.assign({},fF)}function FC(){return pF}var hF="https://content-firebaseappcheck.googleapis.com/v1";var mF="exchangeDebugToken",MC={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},aee=24*60*60*1e3;var ob=class{constructor(e,n,r,o,i){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=o,o>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return h(this,null,function*(){this.stop();try{this.pending=new $t,this.pending.promise.catch(n=>{}),yield gF(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new $t,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function gF(t){return new Promise(e=>{setTimeout(e,t)})}var bF={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Sr=new Wt("appCheck","AppCheck",bF);function LC(t){if(!qt(t).activated)throw Sr.create("use-before-activation",{appName:t.name})}function jC(r,o){return h(this,arguments,function*({url:t,body:e},n){let i={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let p=yield s.getHeartbeatsHeader();p&&(i["X-Firebase-Client"]=p)}let a={method:"POST",body:JSON.stringify(e),headers:i},l;try{l=yield fetch(t,a)}catch(p){throw Sr.create("fetch-network-error",{originalErrorMessage:p?.message})}if(l.status!==200)throw Sr.create("fetch-status-error",{httpStatus:l.status});let c;try{c=yield l.json()}catch(p){throw Sr.create("fetch-parse-error",{originalErrorMessage:p?.message})}let d=c.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw Sr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let u=Number(d[1])*1e3,f=Date.now();return{token:c.token,expireTimeMillis:f+u,issuedAtTimeMillis:f}})}function VC(t,e){let{projectId:n,appId:r,apiKey:o}=t.options;return{url:`${hF}/projects/${n}/apps/${r}:${mF}?key=${o}`,body:{debug_token:e}}}var vF="firebase-app-check-database",yF=1,ib="firebase-app-check-store";var bu=null;function wF(){return bu||(bu=new Promise((t,e)=>{try{let n=indexedDB.open(vF,yF);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var o;e(Sr.create("storage-open",{originalErrorMessage:(o=r.target.error)===null||o===void 0?void 0:o.message}))},n.onupgradeneeded=r=>{let o=r.target.result;switch(r.oldVersion){case 0:o.createObjectStore(ib,{keyPath:"compositeKey"})}}}catch(n){e(Sr.create("storage-open",{originalErrorMessage:n?.message}))}}),bu)}function _F(t,e){return EF(IF(t),e)}function EF(t,e){return h(this,null,function*(){let r=(yield wF()).transaction(ib,"readwrite"),i=r.objectStore(ib).put({compositeKey:t,value:e});return new Promise((s,a)=>{i.onsuccess=l=>{s()},r.onerror=l=>{var c;a(Sr.create("storage-set",{originalErrorMessage:(c=l.target.error)===null||c===void 0?void 0:c.message}))}})})}function IF(t){return`${t.options.appId}-${t.name}`}var Pa=new gn("@firebase/app-check");function nb(t,e){return du()?_F(t,e).catch(n=>{Pa.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function UC(){return FC().enabled}function BC(){return h(this,null,function*(){let t=FC();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var CF={error:"UNKNOWN_ERROR"};function xF(t){return Li.encodeString(JSON.stringify(t),!1)}function sb(t,e=!1,n=!1){return h(this,null,function*(){let r=t.app;LC(r);let o=qt(r),i=o.token,s;if(i&&!Fa(i)&&(o.token=void 0,i=void 0),!i){let c=yield o.cachedTokenPromise;c&&(Fa(c)?i=c:yield nb(r,void 0))}if(!e&&i&&Fa(i))return{token:i.token};let a=!1;if(UC())try{o.exchangeTokenPromise||(o.exchangeTokenPromise=jC(VC(r,yield BC()),t.heartbeatServiceProvider).finally(()=>{o.exchangeTokenPromise=void 0}),a=!0);let c=yield o.exchangeTokenPromise;return yield nb(r,c),o.token=c,{token:c.token}}catch(c){return c.code==="appCheck/throttled"||c.code==="appCheck/initial-throttle"?Pa.warn(c.message):n&&Pa.error(c),rb(c)}try{o.exchangeTokenPromise||(o.exchangeTokenPromise=o.provider.getToken().finally(()=>{o.exchangeTokenPromise=void 0}),a=!0),i=yield qt(r).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"||c.code==="appCheck/initial-throttle"?Pa.warn(c.message):n&&Pa.error(c),s=c}let l;return i?s?Fa(i)?l={token:i.token,internalError:s}:l=rb(s):(l={token:i.token},o.token=i,yield nb(r,i)):l=rb(s),a&&kF(r,l),l})}function DF(t){return h(this,null,function*(){let e=t.app;LC(e);let{provider:n}=qt(e);if(UC()){let r=yield BC(),{token:o}=yield jC(VC(e,r),t.heartbeatServiceProvider);return{token:o}}else{let{token:r}=yield n.getToken();return{token:r}}})}function TF(t,e,n,r){let{app:o}=t,i=qt(o),s={next:n,error:r,type:e};if(i.tokenObservers=[...i.tokenObservers,s],i.token&&Fa(i.token)){let a=i.token;Promise.resolve().then(()=>{n({token:a.token}),OC(t)}).catch(()=>{})}i.cachedTokenPromise.then(()=>OC(t))}function HC(t,e){let n=qt(t),r=n.tokenObservers.filter(o=>o.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function OC(t){let{app:e}=t,n=qt(e),r=n.tokenRefresher;r||(r=SF(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function SF(t){let{app:e}=t;return new ob(()=>h(null,null,function*(){let n=qt(e),r;if(n.token?r=yield sb(t,!0):r=yield sb(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=qt(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,o=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,o),Math.max(0,r-Date.now())}else return 0},MC.RETRIAL_MIN_WAIT,MC.RETRIAL_MAX_WAIT)}function kF(t,e){let n=qt(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Fa(t){return t.expireTimeMillis-Date.now()>0}function rb(t){return{token:xF(CF),error:t}}var ab=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=qt(this.app);for(let n of e)HC(this.app,n.next);return Promise.resolve()}};function AF(t,e){return new ab(t,e)}function RF(t){return{getToken:e=>sb(t,e),getLimitedUseToken:()=>DF(t),addTokenListener:e=>TF(t,"INTERNAL",e),removeTokenListener:e=>HC(t.app,e)}}var NF="@firebase/app-check",MF="0.10.1";var OF="app-check",PC="app-check-internal";function PF(){Gt(new Ye(OF,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return AF(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(PC).initialize()})),Gt(new Ye(PC,t=>{let e=t.getProvider("app-check").getImmediate();return RF(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),ve(NF,MF)}PF();var FF="app-check";var vu=class{constructor(){return Hi(FF)}};var LF=["localhost","0.0.0.0","127.0.0.1"],wee=typeof window<"u"&&LF.includes(window.location.hostname);function ox(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var ix=ox,sx=new Wt("auth","Firebase",ox());var Cu=new gn("@firebase/auth");function jF(t,...e){Cu.logLevel<=ee.WARN&&Cu.warn(`Auth (${Tr}): ${t}`,...e)}function wu(t,...e){Cu.logLevel<=ee.ERROR&&Cu.error(`Auth (${Tr}): ${t}`,...e)}function wn(t,...e){throw Nb(t,...e)}function No(t,...e){return Nb(t,...e)}function ax(t,e,n){let r=Object.assign(Object.assign({},ix()),{[e]:n});return new Wt("auth","Firebase",r).create(e,{appName:t.name})}function Wn(t){return ax(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Nb(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return sx.create(t,...e)}function A(t,e,...n){if(!t)throw Nb(e,...n)}function $n(t){let e="INTERNAL ASSERTION FAILED: "+t;throw wu(e),new Error(e)}function Rr(t,e){t||$n(e)}function ub(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function VF(){return $C()==="http:"||$C()==="https:"}function $C(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function UF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(VF()||sC()||"connection"in navigator)?navigator.onLine:!0}function BF(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Mo=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Rr(n>e,"Short delay should be less than long delay!"),this.isMobile=Ta()||cu()}get(){return UF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Mb(t,e){Rr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var xu=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$n("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$n("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$n("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var HF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var $F=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],zF=new Mo(3e4,6e4);function Nr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Mr(i,s,a,l){return h(this,arguments,function*(t,e,n,r,o={}){return lx(t,o,()=>h(null,null,function*(){let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});let u=xo(Object.assign({key:t.config.apiKey},d)).slice(1),f=yield t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);let p=Object.assign({method:e,headers:f},c);return iC()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&xr(t.emulatorConfig.host)&&(p.credentials="include"),xu.fetch()(yield cx(t,t.config.apiHost,n,u),p)}))})}function lx(t,e,n){return h(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},HF),e);try{let o=new fb(t),i=yield Promise.race([n(),o.promise]);o.clearNetworkTimeout();let s=yield i.json();if("needConfirmation"in s)throw yu(t,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{let a=i.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw yu(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw yu(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw yu(t,"user-disabled",s);let d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw ax(t,d,c);wn(t,d)}}catch(o){if(o instanceof zt)throw o;wn(t,"network-request-failed",{message:String(o)})}})}function Wa(i,s,a,l){return h(this,arguments,function*(t,e,n,r,o={}){let c=yield Mr(t,e,n,r,o);return"mfaPendingCredential"in c&&wn(t,"multi-factor-auth-required",{_serverResponse:c}),c})}function cx(t,e,n,r){return h(this,null,function*(){let o=`${e}${n}?${r}`,i=t,s=i.config.emulator?Mb(t.config,o):`${t.config.apiScheme}://${o}`;return $F.includes(n)&&(yield i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(s).toString():s})}function WF(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var fb=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(No(this.auth,"network-request-failed")),zF.get())})}};function yu(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let o=No(t,e,r);return o.customData._tokenResponse=n,o}function zC(t){return t!==void 0&&t.enterprise!==void 0}var pb=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return WF(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function GF(t,e){return h(this,null,function*(){return Mr(t,"GET","/v2/recaptchaConfig",Nr(t,e))})}function qF(t,e){return h(this,null,function*(){return Mr(t,"POST","/v1/accounts:delete",e)})}function Du(t,e){return h(this,null,function*(){return Mr(t,"POST","/v1/accounts:lookup",e)})}function ja(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Ob(t,e=!1){return h(this,null,function*(){let n=ze(t),r=yield n.getIdToken(e),o=Pb(r);A(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");let i=typeof o.firebase=="object"?o.firebase:void 0,s=i?.sign_in_provider;return{claims:o,token:r,authTime:ja(lb(o.auth_time)),issuedAtTime:ja(lb(o.iat)),expirationTime:ja(lb(o.exp)),signInProvider:s||null,signInSecondFactor:i?.sign_in_second_factor||null}})}function lb(t){return Number(t)*1e3}function Pb(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return wu("JWT malformed, contained fewer than 3 sections"),null;try{let o=Pi(n);return o?JSON.parse(o):(wu("Failed to decode base64 JWT payload"),null)}catch(o){return wu("Caught error parsing JWT payload as JSON",o?.toString()),null}}function WC(t){let e=Pb(t);return A(e,"internal-error"),A(typeof e.exp<"u","internal-error"),A(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ua(t,e,n=!1){return h(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof zt&&YF(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function YF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var hb=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>h(this,null,function*(){yield this.iteration()}),n)}iteration(){return h(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ba=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ja(this.lastLoginAt),this.creationTime=ja(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Tu(t){return h(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),o=yield Ua(t,Du(n,{idToken:r}));A(o?.users.length,n,"internal-error");let i=o.users[0];t._notifyReloadListener(i);let s=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?dx(i.providerUserInfo):[],a=KF(t.providerData,s),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!a?.length,d=l?c:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Ba(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,u)})}function Fb(t){return h(this,null,function*(){let e=ze(t);yield Tu(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function KF(t,e){return[...t.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function dx(t){return t.map(e=>{var{providerId:n}=e,r=Pp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function ZF(t,e){return h(this,null,function*(){let n=yield lx(t,{},()=>h(null,null,function*(){let r=xo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:i}=t.config,s=yield cx(t,o,"/v1/token",`key=${i}`),a=yield t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let l={method:"POST",headers:a,body:r};return t.emulatorConfig&&xr(t.emulatorConfig.host)&&(l.credentials="include"),xu.fetch()(s,l)}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function QF(t,e){return h(this,null,function*(){return Mr(t,"POST","/v2/accounts:revokeToken",Nr(t,e))})}var Va=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){A(e.idToken,"internal-error"),A(typeof e.idToken<"u","internal-error"),A(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):WC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){A(e.length!==0,"internal-error");let n=WC(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return h(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(A(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return h(this,null,function*(){let{accessToken:r,refreshToken:o,expiresIn:i}=yield ZF(e,n);this.updateTokensAndExpiration(r,o,Number(i))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:o,expirationTime:i}=n,s=new t;return r&&(A(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),o&&(A(typeof o=="string","internal-error",{appName:e}),s.accessToken=o),i&&(A(typeof i=="number","internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return $n("not implemented")}};function kr(t,e){A(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Ar=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:o}=e,i=Pp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Ba(i.createdAt||void 0,i.lastLoginAt||void 0)}getIdToken(e){return h(this,null,function*(){let n=yield Ua(this,this.stsTokenManager.getToken(this.auth,e));return A(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Ob(this,e)}reload(){return Fb(this)}_assign(e){this!==e&&(A(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){A(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return h(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Tu(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return h(this,null,function*(){if(st(this.auth.app))return Promise.reject(Wn(this.auth));let e=yield this.getIdToken();return yield Ua(this,qF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,o,i,s,a,l,c,d;let u=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(o=n.email)!==null&&o!==void 0?o:void 0,p=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,m=(s=n.photoURL)!==null&&s!==void 0?s:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,b=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,C=(c=n.createdAt)!==null&&c!==void 0?c:void 0,oe=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:ae,emailVerified:J,isAnonymous:er,providerData:Xt,stsTokenManager:zl}=n;A(ae&&zl,e,"internal-error");let fk=Va.fromJSON(this.name,zl);A(typeof ae=="string",e,"internal-error"),kr(u,e.name),kr(f,e.name),A(typeof J=="boolean",e,"internal-error"),A(typeof er=="boolean",e,"internal-error"),kr(p,e.name),kr(m,e.name),kr(w,e.name),kr(b,e.name),kr(C,e.name),kr(oe,e.name);let mp=new t({uid:ae,auth:e,email:f,emailVerified:J,displayName:u,isAnonymous:er,photoURL:m,phoneNumber:p,tenantId:w,stsTokenManager:fk,createdAt:C,lastLoginAt:oe});return Xt&&Array.isArray(Xt)&&(mp.providerData=Xt.map(pk=>Object.assign({},pk))),b&&(mp._redirectEventId=b),mp}static _fromIdTokenResponse(e,n,r=!1){return h(this,null,function*(){let o=new Va;o.updateFromServerResponse(n);let i=new t({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return yield Tu(i),i})}static _fromGetAccountInfoResponse(e,n,r){return h(this,null,function*(){let o=n.users[0];A(o.localId!==void 0,"internal-error");let i=o.providerUserInfo!==void 0?dx(o.providerUserInfo):[],s=!(o.email&&o.passwordHash)&&!i?.length,a=new Va;a.updateFromIdToken(r);let l=new t({uid:o.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:i,metadata:new Ba(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!i?.length};return Object.assign(l,c),l})}};var GC=new Map;function zn(t){Rr(t instanceof Function,"Expected a class definition");let e=GC.get(t);return e?(Rr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,GC.set(t,e),e)}var JF=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return h(this,null,function*(){return!0})}_set(n,r){return h(this,null,function*(){this.storage[n]=r})}_get(n){return h(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return h(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),mb=JF;function _u(t,e,n){return`firebase:${t}:${e}:${n}`}var Su=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:o,name:i}=this.auth;this.fullUserKey=_u(this.userKey,o.apiKey,i),this.fullPersistenceKey=_u("persistence",o.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return h(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=yield Du(this.auth,{idToken:e}).catch(()=>{});return n?Ar._fromGetAccountInfoResponse(this.auth,n,e):null}return Ar._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return h(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return h(this,null,function*(){if(!n.length)return new t(zn(mb),e,r);let o=(yield Promise.all(n.map(c=>h(null,null,function*(){if(yield c._isAvailable())return c})))).filter(c=>c),i=o[0]||zn(mb),s=_u(r,e.config.apiKey,e.name),a=null;for(let c of n)try{let d=yield c._get(s);if(d){let u;if(typeof d=="string"){let f=yield Du(e,{idToken:d}).catch(()=>{});if(!f)break;u=yield Ar._fromGetAccountInfoResponse(e,f,d)}else u=Ar._fromJSON(e,d);c!==i&&(a=u),i=c;break}}catch{}let l=o.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new t(i,e,r):(i=l[0],a&&(yield i._set(s,a.toJSON())),yield Promise.all(n.map(c=>h(null,null,function*(){if(c!==i)try{yield c._remove(s)}catch{}}))),new t(i,e,r))})}};function qC(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ux(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gx(e))return"Blackberry";if(bx(e))return"Webos";if(fx(e))return"Safari";if((e.includes("chrome/")||px(e))&&!e.includes("edge/"))return"Chrome";if(mx(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function ux(t=$e()){return/firefox\//i.test(t)}function fx(t=$e()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function px(t=$e()){return/crios\//i.test(t)}function hx(t=$e()){return/iemobile/i.test(t)}function mx(t=$e()){return/android/i.test(t)}function gx(t=$e()){return/blackberry/i.test(t)}function bx(t=$e()){return/webos/i.test(t)}function Lb(t=$e()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function XF(t=$e()){var e;return Lb(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function eL(){return aC()&&document.documentMode===10}function vx(t=$e()){return Lb(t)||mx(t)||bx(t)||gx(t)||/windows phone/i.test(t)||hx(t)}function yx(t,e=[]){let n;switch(t){case"Browser":n=qC($e());break;case"Worker":n=`${qC($e())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Tr}/${r}`}var gb=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=i=>new Promise((s,a)=>{try{let l=e(i);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);let o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}runMiddleware(e){return h(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function tL(n){return h(this,arguments,function*(t,e={}){return Mr(t,"GET","/v2/passwordPolicy",Nr(t,e))})}var nL=6,bb=class{constructor(e){var n,r,o,i;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:nL,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,o,i,s,a;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(o=l.containsLowercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}};var vb=class{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ku(this),this.idTokenSubscription=new ku(this),this.beforeStateQueue=new gb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=zn(n)),this._initializationPromise=this.queue(()=>h(this,null,function*(){var r,o,i;if(!this._deleted&&(this.persistenceManager=yield Su.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return h(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return h(this,null,function*(){try{let n=yield Du(this,{idToken:e}),r=yield Ar._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return h(this,null,function*(){var n;if(st(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),o=r,i=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=o?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!s||s===a)&&l?.user&&(o=l.user,i=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(i)try{yield this.beforeStateQueue.runMiddleware(o)}catch(s){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return A(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)})}tryRedirectSignIn(e){return h(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return h(this,null,function*(){try{yield Tu(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=BF()}_delete(){return h(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return h(this,null,function*(){if(st(this.app))return Promise.reject(Wn(this));let n=e?ze(e):null;return n&&A(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return h(this,null,function*(){if(!this._deleted)return e&&A(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>h(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return h(this,null,function*(){return st(this.app)?Promise.reject(Wn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return st(this.app)?Promise.reject(Wn(this)):this.queue(()=>h(this,null,function*(){yield this.assertedPersistence.setPersistence(zn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return h(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return h(this,null,function*(){let e=yield tL(this),n=new bb(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Wt("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return h(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield QF(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return h(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return h(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&zn(e)||this._popupRedirectResolver;A(n,this,"argument-error"),this.redirectPersistenceManager=yield Su.create(this,[zn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return h(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>h(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return h(this,null,function*(){if(e===this.currentUser)return this.queue(()=>h(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};let i=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(A(a,this,"internal-error"),a.then(()=>{s||i(this.currentUser)}),typeof n=="function"){let l=e.addObserver(n,r,o);return()=>{s=!0,l()}}else{let l=e.addObserver(n);return()=>{s=!0,l()}}}directlySetCurrentUser(e){return h(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return A(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return h(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let o=yield this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n})}_getAppCheckToken(){return h(this,null,function*(){var e;if(st(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&jF(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Po(t){return ze(t)}var ku=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=fC(n=>this.observer=n)}get next(){return A(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Fu={loadJS(){return h(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rL(t){Fu=t}function wx(t){return Fu.loadJS(t)}function oL(){return Fu.recaptchaEnterpriseScript}function iL(){return Fu.gapiScript}function _x(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var yb=class{constructor(){this.enterprise=new wb}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}},wb=class{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}};var sL="recaptcha-enterprise",Ex="NO_RECAPTCHA",_b=class{constructor(e){this.type=sL,this.auth=Po(e)}verify(e="verify",n=!1){return h(this,null,function*(){function r(i){return h(this,null,function*(){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise((s,a)=>h(null,null,function*(){GF(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let c=new pb(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,s(c.siteKey)}}).catch(l=>{a(l)})}))})}function o(i,s,a){let l=window.grecaptcha;zC(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{s(c)}).catch(()=>{s(Ex)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new yb().execute("siteKey",{action:"verify"}):new Promise((i,s)=>{r(this.auth).then(a=>{if(!n&&zC(window.grecaptcha))o(a,i,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=oL();l.length!==0&&(l+=a),wx(l).then(()=>{o(a,i,s)}).catch(c=>{s(c)})}}).catch(a=>{s(a)})})})}};function La(t,e,n,r=!1,o=!1){return h(this,null,function*(){let i=new _b(t),s;if(o)s=Ex;else try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function Eb(t,e,n,r,o){return h(this,null,function*(){var i,s;if(o==="EMAIL_PASSWORD_PROVIDER")if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield La(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(a=>h(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let l=yield La(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)}));else if(o==="PHONE_PROVIDER")if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield La(t,e,n);return r(t,a).catch(l=>h(null,null,function*(){var c;if(((c=t._getRecaptchaConfig())===null||c===void 0?void 0:c.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);let d=yield La(t,e,n,!1,!0);return r(t,d)}return Promise.reject(l)}))}else{let a=yield La(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(o+" provider is not supported.")})}function jb(t,e){let n=Ui(t,"auth");if(n.isInitialized()){let o=n.getImmediate(),i=n.getOptions();if(mn(i,e??{}))return o;wn(o,"already-initialized")}return n.initialize({options:e})}function aL(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(zn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Vb(t,e,n){let r=Po(t);A(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let o=!!n?.disableWarnings,i=Ix(e),{host:s,port:a}=lL(e),l=a===null?"":`:${a}`,c={url:`${i}//${s}${l}/`},d=Object.freeze({host:s,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){A(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),A(mn(c,r.config.emulator)&&mn(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,xr(s)?(au(`${i}//${s}${l}`),lu("Auth",!0)):o||cL()}function Ix(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function lL(t){let e=Ix(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){let i=o[1];return{host:i,port:YC(r.substr(i.length+1))}}else{let[i,s]=r.split(":");return{host:i,port:YC(s)}}}function YC(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function cL(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Ha=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return $n("not implemented")}_getIdTokenResponse(e){return $n("not implemented")}_linkToIdToken(e,n){return $n("not implemented")}_getReauthenticationResolver(e){return $n("not implemented")}};function dL(t,e){return h(this,null,function*(){return Mr(t,"POST","/v1/accounts:signUp",e)})}function uL(t,e){return h(this,null,function*(){return Wa(t,"POST","/v1/accounts:signInWithPassword",Nr(t,e))})}function fL(t,e){return h(this,null,function*(){return Wa(t,"POST","/v1/accounts:signInWithEmailLink",Nr(t,e))})}function pL(t,e){return h(this,null,function*(){return Wa(t,"POST","/v1/accounts:signInWithEmailLink",Nr(t,e))})}var $a=class t extends Ha{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return h(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Eb(e,n,"signInWithPassword",uL,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return fL(e,{email:this._email,oobCode:this._password});default:wn(e,"internal-error")}})}_linkToIdToken(e,n){return h(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Eb(e,r,"signUpPassword",dL,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return pL(e,{idToken:n,email:this._email,oobCode:this._password});default:wn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function cb(t,e){return h(this,null,function*(){return Wa(t,"POST","/v1/accounts:signInWithIdp",Nr(t,e))})}function hL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function mL(t){let e=ji(Vi(t)).link,n=e?ji(Vi(e)).deep_link_id:null,r=ji(Vi(t)).deep_link_id;return(r?ji(Vi(r)).link:null)||r||n||e||t}var Au=class t{constructor(e){var n,r,o,i,s,a;let l=ji(Vi(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,u=hL((o=l.mode)!==null&&o!==void 0?o:null);A(c&&d&&u,"argument-error"),this.apiKey=c,this.operation=u,this.code=d,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(s=l.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=mL(e);try{return new t(n)}catch{return null}}};var Cx=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return $a._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let o=Au.parseLink(r);return A(o,"argument-error"),$a._fromEmailAndCode(n,o.code,o.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Ru=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Ib=class extends Ru{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function gL(t,e){return h(this,null,function*(){return Wa(t,"POST","/v1/accounts:signUp",Nr(t,e))})}var $i=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,o=!1){return h(this,null,function*(){let i=yield Ar._fromIdTokenResponse(e,r,o),s=KC(r);return new t({user:i,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return h(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let o=KC(r);return new t({user:e,providerId:o,_tokenResponse:r,operationType:n})})}};function KC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Cb=class t extends zt{constructor(e,n,r,o){var i;super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new t(e,n,r,o)}};function xx(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Cb._fromErrorAndOperation(t,i,e,r):i})}function bL(t,e,n=!1){return h(this,null,function*(){let r=yield Ua(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return $i._forOperation(t,"link",r)})}function vL(t,e,n=!1){return h(this,null,function*(){let{auth:r}=t;if(st(r.app))return Promise.reject(Wn(r));let o="reauthenticate";try{let i=yield Ua(t,xx(r,o,e,t),n);A(i.idToken,r,"internal-error");let s=Pb(i.idToken);A(s,r,"internal-error");let{sub:a}=s;return A(t.uid===a,r,"user-mismatch"),$i._forOperation(t,o,i)}catch(i){throw i?.code==="auth/user-not-found"&&wn(r,"user-mismatch"),i}})}function Dx(t,e,n=!1){return h(this,null,function*(){if(st(t.app))return Promise.reject(Wn(t));let r="signIn",o=yield xx(t,r,e),i=yield $i._fromIdTokenResponse(t,r,o);return n||(yield t._updateCurrentUser(i.user)),i})}function Ub(t,e){return h(this,null,function*(){return Dx(Po(t),e)})}function Tx(t){return h(this,null,function*(){let e=Po(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Lu(t,e,n){return h(this,null,function*(){if(st(t.app))return Promise.reject(Wn(t));let r=Po(t),s=yield Eb(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",gL,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Tx(t),l}),a=yield $i._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function ju(t,e,n){return st(t.app)?Promise.reject(Wn(t)):Ub(ze(t),Cx.credential(e,n)).catch(r=>h(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&Tx(t),r}))}function Bb(t,e,n,r){return ze(t).onIdTokenChanged(e,n,r)}function Hb(t,e,n){return ze(t).beforeAuthStateChanged(e,n)}var Nu="__sak";var Mu=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nu,"1"),this.storage.removeItem(Nu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var yL=1e3,wL=10,_L=(()=>{class t extends Mu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vx(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let o=this.storage.getItem(r),i=this.localCache[r];o!==i&&n(r,i,o)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}let o=n.key;r?this.detachListener():this.stopPolling();let i=()=>{let a=this.storage.getItem(o);!r&&this.localCache[o]===a||this.notifyListeners(o,a)},s=this.storage.getItem(o);eL()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(i,wL):i()}notifyListeners(n,r){this.localCache[n]=r;let o=this.listeners[n];if(o)for(let i of Array.from(o))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,o)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:o}),!0)})},yL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return h(this,null,function*(){yield Hr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return h(this,null,function*(){let r=yield Hr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return h(this,null,function*(){yield Hr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),Sx=_L;var EL=(()=>{class t extends Mu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),$b=EL;function IL(t){return Promise.all(t.map(e=>h(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var CL=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(i=>i.isListeningto(n));if(r)return r;let o=new t(n);return this.receivers.push(o),o}isListeningto(n){return this.eventTarget===n}handleEvent(n){return h(this,null,function*(){let r=n,{eventId:o,eventType:i,data:s}=r.data,a=this.handlersMap[i];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:o,eventType:i});let l=Array.from(a).map(d=>h(this,null,function*(){return d(r.origin,s)})),c=yield IL(l);r.ports[0].postMessage({status:"done",eventId:o,eventType:i,response:c})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function kx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var xb=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return h(this,null,function*(){let o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let i,s;return new Promise((a,l)=>{let c=kx("",20);o.port1.start();let d=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:o,onMessage(u){let f=u;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(s),o.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[o.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function yn(){return window}function xL(t){yn().location.href=t}function Ax(){return typeof yn().WorkerGlobalScope<"u"&&typeof yn().importScripts=="function"}function DL(){return h(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function TL(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function SL(){return Ax()?self:null}var Rx="firebaseLocalStorageDb",kL=1,Ou="firebaseLocalStorage",Nx="fbase_key",Oo=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Vu(t,e){return t.transaction([Ou],e?"readwrite":"readonly").objectStore(Ou)}function AL(){let t=indexedDB.deleteDatabase(Rx);return new Oo(t).toPromise()}function Db(){let t=indexedDB.open(Rx,kL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Ou,{keyPath:Nx})}catch(o){n(o)}}),t.addEventListener("success",()=>h(null,null,function*(){let r=t.result;r.objectStoreNames.contains(Ou)?e(r):(r.close(),yield AL(),e(yield Db()))}))})}function ZC(t,e,n){return h(this,null,function*(){let r=Vu(t,!0).put({[Nx]:e,value:n});return new Oo(r).toPromise()})}function RL(t,e){return h(this,null,function*(){let n=Vu(t,!1).get(e),r=yield new Oo(n).toPromise();return r===void 0?null:r.value})}function QC(t,e){let n=Vu(t,!0).delete(e);return new Oo(n).toPromise()}var NL=800,ML=3,OL=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return h(this,null,function*(){return this.db?this.db:(this.db=yield Db(),this.db)})}_withRetries(n){return h(this,null,function*(){let r=0;for(;;)try{let o=yield this._openDb();return yield n(o)}catch(o){if(r++>ML)throw o;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return h(this,null,function*(){return Ax()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return h(this,null,function*(){this.receiver=CL._getInstance(SL()),this.receiver._subscribe("keyChanged",(n,r)=>h(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>h(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return h(this,null,function*(){var n,r;if(this.activeServiceWorker=yield DL(),!this.activeServiceWorker)return;this.sender=new xb(this.activeServiceWorker);let o=yield this.sender._send("ping",{},800);o&&!((n=o[0])===null||n===void 0)&&n.fulfilled&&!((r=o[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return h(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||TL()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return h(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Db();return yield ZC(n,Nu,"1"),yield QC(n,Nu),!0}catch{}return!1})}_withPendingWrite(n){return h(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return h(this,null,function*(){return this._withPendingWrite(()=>h(this,null,function*(){return yield this._withRetries(o=>ZC(o,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return h(this,null,function*(){let r=yield this._withRetries(o=>RL(o,n));return this.localCache[n]=r,r})}_remove(n){return h(this,null,function*(){return this._withPendingWrite(()=>h(this,null,function*(){return yield this._withRetries(r=>QC(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return h(this,null,function*(){let n=yield this._withRetries(i=>{let s=Vu(i,!1).getAll();return new Oo(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],o=new Set;if(n.length!==0)for(let{fbase_key:i,value:s}of n)o.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),r.push(i));for(let i of Object.keys(this.localCache))this.localCache[i]&&!o.has(i)&&(this.notifyListeners(i,null),r.push(i));return r})}notifyListeners(n,r){this.localCache[n]=r;let o=this.listeners[n];if(o)for(let i of Array.from(o))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>h(this,null,function*(){return this._poll()}),NL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),Mx=OL;var See=_x("rcb"),kee=new Mo(3e4,6e4);function PL(t,e){return e?zn(e):(A(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var za=class extends Ha{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return cb(e,this._buildIdpRequest())}_linkToIdToken(e,n){return cb(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return cb(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function FL(t){return Dx(t.auth,new za(t),t.bypassAuthState)}function LL(t){let{auth:e,user:n}=t;return A(n,e,"internal-error"),vL(n,new za(t),t.bypassAuthState)}function jL(t){return h(this,null,function*(){let{auth:e,user:n}=t;return A(n,e,"internal-error"),bL(n,new za(t),t.bypassAuthState)})}var Tb=class{constructor(e,n,r,o,i=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>h(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return h(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:o,tenantId:i,error:s,type:a}=e;if(s){this.reject(s);return}let l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(l))}catch(c){this.reject(c)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return FL;case"linkViaPopup":case"linkViaRedirect":return jL;case"reauthViaPopup":case"reauthViaRedirect":return LL;default:wn(this.auth,"internal-error")}}resolve(e){Rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Aee=new Mo(2e3,1e4);var VL="pendingRedirect",Eu=new Map,Sb=class t extends Tb{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return h(this,null,function*(){let e=Eu.get(this.auth._key());if(!e){try{let r=(yield UL(this.resolver,this.auth))?yield Hr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Eu.set(this.auth._key(),e)}return this.bypassAuthState||Eu.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return h(this,null,function*(){if(e.type==="signInViaRedirect")return Hr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Hr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return h(this,null,function*(){})}cleanUp(){}};function UL(t,e){return h(this,null,function*(){let n=$L(e),r=HL(t);if(!(yield r._isAvailable()))return!1;let o=(yield r._get(n))==="true";return yield r._remove(n),o})}function BL(t,e){Eu.set(t._key(),e)}function HL(t){return zn(t._redirectPersistence)}function $L(t){return _u(VL,t.config.apiKey,t.name)}function zL(t,e,n=!1){return h(this,null,function*(){if(st(t.app))return Promise.reject(Wn(t));let r=Po(t),o=PL(r,e),s=yield new Sb(r,o,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var WL=10*60*1e3,kb=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!GL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Ox(e)){let o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(No(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=WL&&this.cachedEventUids.clear(),this.cachedEventUids.has(JC(e))}saveEventToCache(e){this.cachedEventUids.add(JC(e)),this.lastProcessedEventTime=Date.now()}};function JC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Ox({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function GL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ox(t);default:return!1}}function qL(n){return h(this,arguments,function*(t,e={}){return Mr(t,"GET","/v1/projects",e)})}var YL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KL=/^https?/;function ZL(t){return h(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield qL(t);for(let n of e)try{if(QL(n))return}catch{}wn(t,"unauthorized-domain")})}function QL(t){let e=ub(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!KL.test(n))return!1;if(YL.test(t))return r===t;let o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}var JL=new Mo(3e4,6e4);function XC(){let t=yn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function XL(t){return new Promise((e,n)=>{var r,o,i;function s(){XC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{XC(),n(No(t,"network-request-failed"))},timeout:JL.get()})}if(!((o=(r=yn().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((i=yn().gapi)===null||i===void 0)&&i.load)s();else{let a=_x("iframefcb");return yn()[a]=()=>{gapi.load?s():n(No(t,"network-request-failed"))},wx(`${iL()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Iu=null,e})}var Iu=null;function e2(t){return Iu=Iu||XL(t),Iu}var t2=new Mo(5e3,15e3),n2="__/auth/iframe",r2="emulator/auth/iframe",o2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},i2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function s2(t){let e=t.config;A(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Mb(e,r2):`https://${t.config.authDomain}/${n2}`,r={apiKey:e.apiKey,appName:t.name,v:Tr},o=i2.get(t.config.apiHost);o&&(r.eid=o);let i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${xo(r).slice(1)}`}function a2(t){return h(this,null,function*(){let e=yield e2(t),n=yn().gapi;return A(n,t,"internal-error"),e.open({where:document.body,url:s2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:o2,dontclear:!0},r=>new Promise((o,i)=>h(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=No(t,"network-request-failed"),a=yn().setTimeout(()=>{i(s)},t2.get());function l(){yn().clearTimeout(a),o(r)}r.ping(l).then(l,()=>{i(s)})})))})}var l2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},c2=500,d2=600,u2="_blank",f2="http://localhost",Pu=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function p2(t,e,n,r=c2,o=d2){let i=Math.max((window.screen.availHeight-o)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",l=Object.assign(Object.assign({},l2),{width:r.toString(),height:o.toString(),top:i,left:s}),c=$e().toLowerCase();n&&(a=px(c)?u2:n),ux(c)&&(e=e||f2,l.scrollbars="yes");let d=Object.entries(l).reduce((f,[p,m])=>`${f}${p}=${m},`,"");if(XF(c)&&a!=="_self")return h2(e||"",a),new Pu(null);let u=window.open(e||"",a,d);A(u,t,"popup-blocked");try{u.focus()}catch{}return new Pu(u)}function h2(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var m2="__/auth/handler",g2="emulator/auth/handler",b2=encodeURIComponent("fac");function ex(t,e,n,r,o,i){return h(this,null,function*(){A(t.config.authDomain,t,"auth-domain-config-required"),A(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Tr,eventId:o};if(e instanceof Ru){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",Sa(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,u]of Object.entries(i||{}))s[d]=u}if(e instanceof Ib){let d=e.getScopes().filter(u=>u!=="");d.length>0&&(s.scopes=d.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let l=yield t._getAppCheckToken(),c=l?`#${b2}=${encodeURIComponent(l)}`:"";return`${v2(t)}?${xo(a).slice(1)}${c}`})}function v2({config:t}){return t.emulator?Mb(t,g2):`https://${t.authDomain}/${m2}`}var db="webStorageSupport",Ab=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$b,this._completeRedirectFn=zL,this._overrideRedirectResult=BL}_openPopup(e,n,r,o){return h(this,null,function*(){var i;Rr((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");let s=yield ex(e,n,r,ub(),o);return p2(e,s,kx())})}_openRedirect(e,n,r,o){return h(this,null,function*(){yield this._originValidation(e);let i=yield ex(e,n,r,ub(),o);return xL(i),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:o,promise:i}=this.eventManagers[n];return o?Promise.resolve(o):(Rr(i,"If manager is not set, promise should be"),i)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return h(this,null,function*(){let n=yield a2(e),r=new kb(e);return n.register("authEvent",o=>(A(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(db,{type:db},o=>{var i;let s=(i=o?.[0])===null||i===void 0?void 0:i[db];s!==void 0&&n(!!s),wn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ZL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return vx()||fx()||Lb()}},Px=Ab;var tx="@firebase/auth",nx="1.10.8";var Rb=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return h(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){A(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function y2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function w2(t){Gt(new Ye("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;A(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yx(t)},c=new vb(r,o,i,l);return aL(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Gt(new Ye("auth-internal",e=>{let n=Po(e.getProvider("auth").getImmediate());return(r=>new Rb(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ve(tx,nx,y2(t)),ve(tx,nx,"esm2017")}var _2=5*60,E2=Ug("authIdTokenMaxAge")||_2,rx=null,I2=t=>e=>h(null,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>E2)return;let o=n?.token;rx!==o&&(rx=o,yield fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});function Uu(t=To()){let e=Ui(t,"auth");if(e.isInitialized())return e.getImmediate();let n=jb(t,{popupRedirectResolver:Px,persistence:[Mx,Sx,$b]}),r=Ug("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let i=new URL(r,location.origin);if(location.origin===i.origin){let s=I2(i.toString());Hb(n,s,()=>s(n.currentUser)),Bb(n,a=>s(a))}}let o=jg("auth");return o&&Vb(n,`http://${o}`),n}function C2(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}rL({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=o=>{let i=No("internal-error");i.customData=o,n(i)},r.type="text/javascript",r.charset="UTF-8",C2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});w2("Browser");var h5="auth";var Bu=class{constructor(){return Hi(h5)}};var Fx="@firebase/database",Lx="1.0.20";var Yv="";function m5(t){Yv=t}var Qb=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ke(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Fi(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var Jb=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return hn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var bD=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Qb(e)}}catch{}return new Jb},Lo=bD("localStorage"),Xb=bD("sessionStorage");var Gi=new gn("@firebase/database"),g5=function(){let t=1;return function(){return t++}}(),vD=function(t){let e=pC(t),n=new su;n.update(e);let r=n.digest();return Li.encodeByteArray(r)},al=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=al.apply(null,r):typeof r=="object"?e+=ke(r):e+=r,e+=" "}return e},Vo=null,jx=!0,b5=function(t,e){v(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Gi.logLevel=ee.VERBOSE,Vo=Gi.log.bind(Gi),e&&Xb.set("logging_enabled",!0)):typeof t=="function"?Vo=t:(Vo=null,Xb.remove("logging_enabled"))},We=function(...t){if(jx===!0&&(jx=!1,Vo===null&&Xb.get("logging_enabled")===!0&&b5(!0)),Vo){let e=al.apply(null,t);Vo(e)}},ll=function(t){return function(...e){We(t,...e)}},ev=function(...t){let e="FIREBASE INTERNAL ERROR: "+al(...t);Gi.error(e)},Gn=function(...t){let e=`FIREBASE FATAL ERROR: ${al(...t)}`;throw Gi.error(e),new Error(e)},lt=function(...t){let e="FIREBASE WARNING: "+al(...t);Gi.warn(e)},v5=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&lt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},yD=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},y5=function(t){if(pn()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ki="[MIN_NAME]",Uo="[MAX_NAME]",ns=function(t,e){if(t===e)return 0;if(t===Ki||e===Uo)return-1;if(e===Ki||t===Uo)return 1;{let n=Vx(t),r=Vx(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},w5=function(t,e){return t===e?0:t<e?-1:1},Ga=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+ke(e))},Kv=function(t){if(typeof t!="object"||t===null)return ke(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=ke(e[r]),n+=":",n+=Kv(t[e[r]]);return n+="}",n},wD=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let o=0;o<n;o+=e)o+e>n?r.push(t.substring(o,n)):r.push(t.substring(o,o+e));return r};function ct(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var _D=function(t){v(!yD(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,o,i,s,a,l;t===0?(i=0,s=0,o=1/t===-1/0?1:0):(o=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),i=a+r,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(i=0,s=Math.round(t/Math.pow(2,1-r-n))));let c=[];for(l=n;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);for(l=e;l;l-=1)c.push(i%2?1:0),i=Math.floor(i/2);c.push(o?1:0),c.reverse();let d=c.join(""),u="";for(l=0;l<64;l+=8){let f=parseInt(d.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),u=u+f}return u.toLowerCase()},_5=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},E5=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function I5(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");let r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}var C5=new RegExp("^-?(0*)\\d{1,10}$"),x5=-2147483648,D5=2147483647,Vx=function(t){if(C5.test(t)){let e=Number(t);if(e>=x5&&e<=D5)return e}return null},rs=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw lt("Exception was thrown by user callback.",n),e},Math.floor(0))}},T5=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Qa=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var tv=class{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,st(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){lt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}};var nv=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(We("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',lt(e)}},Ja=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),$u="5",ED="v",ID="s",CD="r",xD="f",DD=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,TD="ls",SD="p",rv="ac",kD="websocket",AD="long_polling";var zu=class{constructor(e,n,r,o,i=!1,s="",a=!1,l=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=i,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Lo.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Lo.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function S5(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function RD(t,e,n){v(typeof e=="string","typeof type must == string"),v(typeof n=="object","typeof params must == object");let r;if(e===kD)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===AD)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);S5(t)&&(n.ns=t.namespace);let o=[];return ct(n,(i,s)=>{o.push(i+"="+s)}),r+o.join("&")}var ov=class{constructor(){this.counters_={}}incrementCounter(e,n=1){hn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return eC(this.counters_)}};var zb={},Wb={};function Zv(t){let e=t.toString();return zb[e]||(zb[e]=new ov),zb[e]}function k5(t,e){let n=t.toString();return Wb[n]||(Wb[n]=e()),Wb[n]}var iv=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&rs(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var Ux="start",A5="close",R5="pLPCommand",N5="pRTLPCB",ND="id",MD="pw",OD="ser",M5="cb",O5="seg",P5="ts",F5="d",L5="dframe",PD=1870,FD=30,j5=PD-FD,V5=25e3,U5=3e4,sv=class t{constructor(e,n,r,o,i,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=o,this.authToken=i,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ll(e),this.stats_=Zv(n),this.urlFn=l=>(this.appCheckToken&&(l[rv]=this.appCheckToken),RD(n,AD,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new iv(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(U5)),y5(()=>{if(this.isClosed_)return;this.scriptTagHolder=new av((...i)=>{let[s,a,l,c,d]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===Ux)this.id=a,this.password=l;else if(s===A5)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...i)=>{let[s,a]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[Ux]="t",r[OD]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[M5]=this.scriptTagHolder.uniqueCallbackIdentifier),r[ED]=$u,this.transportSessionId&&(r[ID]=this.transportSessionId),this.lastSessionId&&(r[TD]=this.lastSessionId),this.applicationId&&(r[SD]=this.applicationId),this.appCheckToken&&(r[rv]=this.appCheckToken),typeof location<"u"&&location.hostname&&DD.test(location.hostname)&&(r[CD]=xD);let o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return pn()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!_5()&&!E5()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=ke(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=Fg(n),o=wD(r,j5);for(let i=0;i<o.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(pn())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[L5]="t",r[ND]=e,r[MD]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=ke(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},av=class t{constructor(e,n,r,o){if(this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,pn())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=g5(),window[R5+this.uniqueCallbackIdentifier]=e,window[N5+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){We("frame writing exception"),a.stack&&We(a.stack),We(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||We("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[ND]=this.myID,e[MD]=this.myPW,e[OD]=this.currentSerial;let n=this.urlFn(e),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+FD+r.length<=PD;){let s=this.pendingSegs.shift();r=r+"&"+O5+o+"="+s.seg+"&"+P5+o+"="+s.ts+"&"+F5+o+"="+s.d,o++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},o=setTimeout(r,Math.floor(V5)),i=()=>{clearTimeout(o),r()};this.addTag(e,i)}addTag(e,n){pn()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let o=r.readyState;(!o||o==="loaded"||o==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{We("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var B5=16384,H5=45e3,Wu=null;typeof MozWebSocket<"u"?Wu=MozWebSocket:typeof WebSocket<"u"&&(Wu=WebSocket);var qa=(()=>{class t{constructor(n,r,o,i,s,a,l){this.connId=n,this.applicationId=o,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ll(this.connId),this.stats_=Zv(r),this.connURL=t.connectionURL_(r,a,l,i,o),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,o,i,s){let a={};return a[ED]=$u,!pn()&&typeof location<"u"&&location.hostname&&DD.test(location.hostname)&&(a[CD]=xD),r&&(a[ID]=r),o&&(a[TD]=o),i&&(a[rv]=i),s&&(a[SD]=s),RD(n,kD,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Lo.set("previous_websocket_failure",!0);try{let o;if(pn()){let i=this.nodeAdmin?"AdminNode":"Node";o={headers:{"User-Agent":`Firebase/${$u}/${Yv}/${process.platform}/${i}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(o.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(o.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(o.proxy={origin:a})}this.mySock=new Wu(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");let i=o.message||o.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");let i=o.message||o.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,o=navigator.userAgent.match(r);o&&o.length>1&&parseFloat(o[1])<4.4&&(n=!0)}return!n&&Wu!==null&&!t.forceDisallow_}static previouslyFailed(){return Lo.isInMemoryStorage||Lo.get("previous_websocket_failure")===!0}markConnectionHealthy(){Lo.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let o=Fi(r);this.onMessage(o)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(v(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let o=this.extractFrameCount_(r);o!==null&&this.appendFrame_(o)}}send(n){this.resetKeepAlive();let r=ke(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let o=wD(r,B5);o.length>1&&this.sendString_(String(o.length));for(let i=0;i<o.length;i++)this.sendString_(o[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(H5))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),$5=(()=>{class t{static get ALL_TRANSPORTS(){return[sv,qa]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){let r=qa&&qa.isAvailable(),o=r&&!qa.previouslyFailed();if(n.webSocketOnly&&(r||lt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[qa];else{let i=this.transports_=[];for(let s of t.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),z5=6e4,W5=5e3,G5=10*1024,q5=100*1024,Gb="t",Bx="d",Y5="s",Hx="r",K5="e",$x="o",zx="a",Wx="n",Gx="p",Z5="h",lv=class{constructor(e,n,r,o,i,s,a,l,c,d){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=i,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ll("c:"+this.id+":"),this.transportManager_=new $5(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=Qa(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>q5?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>G5?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Gb in e){let n=e[Gb];n===zx?this.upgradeIfSecondaryHealthy_():n===Hx?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===$x&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=Ga("t",e),r=Ga("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Gx,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:zx,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Wx,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=Ga("t",e),r=Ga("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=Ga(Gb,e);if(Bx in e){let r=e[Bx];if(n===Z5){let o=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(n===Wx){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Y5?this.onConnectionShutdown_(r):n===Hx?this.onReset_(r):n===K5?ev("Server Error: "+r):n===$x?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ev("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),$u!==r&&lt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Qa(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(z5))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Qa(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(W5))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Gx,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Lo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Gu=class{put(e,n,r,o){}merge(e,n,r,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var qu=class{constructor(e){this.allowedEvents_=e,this.listeners_={},v(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let o=this.getInitialEvent(e);o&&n.apply(r,o)}off(e,n,r){this.validateEventType_(e);let o=this.listeners_[e]||[];for(let i=0;i<o.length;i++)if(o[i].callback===n&&(!r||r===o[i].context)){o.splice(i,1);return}}validateEventType_(e){v(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var Yu=class t extends qu{static getInstance(){return new t}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Ta()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return v(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var qx=32,Yx=768,te=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function K(){return new te("")}function H(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Pr(t){return t.pieces_.length-t.pieceNum_}function se(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new te(t.pieces_,e)}function LD(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Q5(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function jD(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function VD(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new te(e,0)}function Ae(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof te)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&n.push(r[o])}return new te(n,0)}function z(t){return t.pieceNum_>=t.pieces_.length}function at(t,e){let n=H(t),r=H(e);if(n===null)return e;if(n===r)return at(se(t),se(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Qv(t,e){if(Pr(t)!==Pr(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Kt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Pr(t)>Pr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var cv=class{constructor(e,n){this.errorPrefix_=n,this.parts_=jD(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Aa(this.parts_[r]);UD(this)}};function J5(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Aa(e),UD(t)}function X5(t){let e=t.parts_.pop();t.byteLength_-=Aa(e),t.parts_.length>0&&(t.byteLength_-=1)}function UD(t){if(t.byteLength_>Yx)throw new Error(t.errorPrefix_+"has a key path longer than "+Yx+" bytes ("+t.byteLength_+").");if(t.parts_.length>qx)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+qx+") or object contains a cycle "+Fo(t))}function Fo(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var dv=class t extends qu{static getInstance(){return new t}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return v(e==="visible","Unknown event type: "+e),[this.visible_]}};var Ya=1e3,e3=60*5*1e3,Kx=30*1e3,t3=1.3,n3=3e4,r3="server_kill",Zx=3,Jv=(()=>{class t extends Gu{constructor(n,r,o,i,s,a,l,c){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=o,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=t.nextPersistentConnectionId_++,this.log_=ll("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ya,this.maxReconnectDelay_=e3,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!pn())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");dv.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Yu.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,o){let i=++this.requestNumber_,s={r:i,a:n,b:r};this.log_(ke(s)),v(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),o&&(this.requestCBHash_[i]=o)}get(n){this.initConnection_();let r=new $t,i={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let l=a.d;a.s==="ok"?r.resolve(l):r.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(n,r,o,i){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),v(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),v(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let l={onComplete:i,hashFn:r,query:n,tag:o};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,o=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(o)})}sendListen_(n){let r=n.query,o=r._path.toString(),i=r._queryIdentifier;this.log_("Listen on "+o+" for "+i);let s={p:o},a="q";n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,l=>{let c=l.d,d=l.s;t.warnOnListenWarnings_(c,r),(this.listens.get(o)&&this.listens.get(o).get(i))===n&&(this.log_("listen response",l),d!=="ok"&&this.removeListen_(o,i),n.onComplete&&n.onComplete(d,c))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&hn(n,"w")){let o=Co(n,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){let i='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();lt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||uC(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Kx)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=dC(n)?"auth":"gauth",o={cred:n};this.authOverride_===null?o.noauth=!0:typeof this.authOverride_=="object"&&(o.authvar=this.authOverride_),this.sendRequest(r,o,i=>{let s=i.s,a=i.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,o=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,o)})}unlisten(n,r){let o=n._path.toString(),i=n._queryIdentifier;this.log_("Unlisten called for "+o+" "+i),v(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,i)&&this.connected_&&this.sendUnlisten_(o,i,n._queryObject,r)}sendUnlisten_(n,r,o,i){this.log_("Unlisten on "+n+" for "+r);let s={p:n},a="n";i&&(s.q=o,s.t=i),this.sendRequest(a,s)}onDisconnectPut(n,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,o):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:o})}onDisconnectMerge(n,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,o):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:o})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,o,i){let s={p:r,d:o};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{i&&setTimeout(()=>{i(a.s,a.d)},Math.floor(0))})}put(n,r,o,i){this.putInternal("p",n,r,o,i)}merge(n,r,o,i){this.putInternal("m",n,r,o,i)}putInternal(n,r,o,i,s){this.initConnection_();let a={p:r,d:o};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:i}),this.outstandingPutCount_++;let l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,o=this.outstandingPuts_[n].request,i=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,o,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,o=>{if(o.s!=="ok"){let s=o.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+ke(n));let r=n.r,o=this.requestCBHash_[r];o&&(delete this.requestCBHash_[r],o(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):ev("Unrecognized action received from server: "+ke(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){v(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ya,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Ya,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>n3&&(this.reconnectDelay_=Ya),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_),r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*t3)}this.onConnectStatus_(!1)}establishConnection_(){return h(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),o=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,a=!1,l=null,c=function(){l?l.close():(a=!0,o())},d=function(f){v(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(f)};this.realtime_={close:c,sendRequest:d};let u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[f,p]=yield Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);a?We("getToken() completed but was canceled"):(We("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=p&&p.token,l=new lv(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,o,m=>{lt(m+" ("+this.repoInfo_.toString()+")"),this.interrupt(r3)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&lt(f),c())}}})}interrupt(n){We("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){We("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Sa(this.interruptReasons_)&&(this.reconnectDelay_=Ya,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let o;r?o=r.map(s=>Kv(s)).join("$"):o="default";let i=this.removeListen_(n,o);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(n,r){let o=new te(n).toString(),i;if(this.listens.has(o)){let s=this.listens.get(o);i=s.get(r),s.delete(r),s.size===0&&this.listens.delete(o)}else i=void 0;return i}onAuthRevoked_(n,r){We("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Zx&&(this.reconnectDelay_=Kx,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){We("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Zx&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";pn()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+Yv.replace(/\./g,"-")]=1,Ta()?n["framework.cordova"]=1:cu()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=Yu.getInstance().currentlyOnline();return Sa(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),$=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var Zi=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new $(Ki,e),o=new $(Ki,n);return this.compare(r,o)!==0}minPost(){return $.MIN}};var Hu,Ku=class extends Zi{static get __EMPTY_NODE(){return Hu}static set __EMPTY_NODE(e){Hu=e}compare(e,n){return ns(e.name,n.name)}isDefinedOn(e){throw Io("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return $.MIN}maxPost(){return new $(Uo,Hu)}makePost(e,n){return v(typeof e=="string","KeyIndex indexValue must always be a string."),new $(e,Hu)}toString(){return".key"}},qi=new Ku;var Wi=class{constructor(e,n,r,o,i=null){this.isReverse_=o,this.resultGenerator_=i,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,o&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Yt=(()=>{class t{constructor(n,r,o,i,s){this.key=n,this.value=r,this.color=o??t.RED,this.left=i??Mt.EMPTY_NODE,this.right=s??Mt.EMPTY_NODE}copy(n,r,o,i,s){return new t(n??this.key,r??this.value,o??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,o){let i=this,s=o(n,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(n,r,o),null):s===0?i=i.copy(null,r,null,null,null):i=i.copy(null,null,null,null,i.right.insert(n,r,o)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Mt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let o,i;if(o=this,r(n,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(n,r),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),r(n,o.key)===0){if(o.right.isEmpty())return Mt.EMPTY_NODE;i=o.right.min_(),o=o.copy(i.key,i.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(n,r))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),uv=class{copy(e,n,r,o,i){return this}insert(e,n,r){return new Yt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},Mt=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Yt.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Yt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,o=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(o=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Wi(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Wi(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Wi(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Wi(this.root_,null,this.comparator_,!0,e)}};Mt.EMPTY_NODE=new uv;function o3(t,e){return ns(t.name,e.name)}function Xv(t,e){return ns(t,e)}var fv;function i3(t){fv=t}var BD=function(t){return typeof t=="number"?"number:"+_D(t):"string:"+t},HD=function(t){if(t.isLeafNode()){let e=t.val();v(typeof e=="string"||typeof e=="number"||typeof e=="object"&&hn(e,".sv"),"Priority must be a string or number.")}else v(t===fv||t.isEmpty(),"priority of unexpected type.");v(t===fv||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var Qx,Qi=(()=>{class t{static set __childrenNodeConstructor(n){Qx=n}static get __childrenNodeConstructor(){return Qx}constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,v(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),HD(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return z(n)?this:H(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let o=H(n);return o===null?r:r.isEmpty()&&o!==".priority"?this:(v(o!==".priority"||Pr(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(o,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(se(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+BD(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=_D(this.value_):n+=this.value_,this.lazyHash_=vD(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(v(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,o=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(r),s=t.VALUE_TYPE_ORDER.indexOf(o);return v(i>=0,"Unknown leaf type: "+r),v(s>=0,"Unknown leaf type: "+o),i===s?o==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),$D,zD;function s3(t){$D=t}function a3(t){zD=t}var pv=class extends Zi{compare(e,n){let r=e.node.getPriority(),o=n.node.getPriority(),i=r.compareTo(o);return i===0?ns(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return $.MIN}maxPost(){return new $(Uo,new Qi("[PRIORITY-POST]",zD))}makePost(e,n){let r=$D(e);return new $(n,new Qi("[PRIORITY-POST]",r))}toString(){return".priority"}},pe=new pv;var l3=Math.log(2),hv=class{constructor(e){let n=i=>parseInt(Math.log(i)/l3,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let o=r(this.count);this.bits_=e+1&o}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},Zu=function(t,e,n,r){t.sort(e);let o=function(l,c){let d=c-l,u,f;if(d===0)return null;if(d===1)return u=t[l],f=n?n(u):u,new Yt(f,u.node,Yt.BLACK,null,null);{let p=parseInt(d/2,10)+l,m=o(l,p),w=o(p+1,c);return u=t[p],f=n?n(u):u,new Yt(f,u.node,Yt.BLACK,m,w)}},i=function(l){let c=null,d=null,u=t.length,f=function(m,w){let b=u-m,C=u;u-=m;let oe=o(b+1,C),ae=t[b],J=n?n(ae):ae;p(new Yt(J,ae.node,w,null,oe))},p=function(m){c?(c.left=m,c=m):(d=m,c=m)};for(let m=0;m<l.count;++m){let w=l.nextBitIsOne(),b=Math.pow(2,l.count-(m+1));w?f(b,Yt.BLACK):(f(b,Yt.BLACK),f(b,Yt.RED))}return d},s=new hv(t.length),a=i(s);return new Mt(r||e,a)};var qb,zi={},Ji=class t{static get Default(){return v(zi&&pe,"ChildrenNode.ts has not been loaded"),qb=qb||new t({".priority":zi},{".priority":pe}),qb}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){let n=Co(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Mt?n:null}hasIndex(e){return hn(this.indexSet_,e.toString())}addIndex(e,n){v(e!==qi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],o=!1,i=n.getIterator($.Wrap),s=i.getNext();for(;s;)o=o||e.isDefinedOn(s.node),r.push(s),s=i.getNext();let a;o?a=Zu(r,e.getCompare()):a=zi;let l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;let d=Object.assign({},this.indexes_);return d[l]=a,new t(d,c)}addToIndexes(e,n){let r=ka(this.indexes_,(o,i)=>{let s=Co(this.indexSet_,i);if(v(s,"Missing index implementation for "+i),o===zi)if(s.isDefinedOn(e.node)){let a=[],l=n.getIterator($.Wrap),c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Zu(a,s.getCompare())}else return zi;else{let a=n.get(e.name),l=o;return a&&(l=l.remove(new $(e.name,a))),l.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=ka(this.indexes_,o=>{if(o===zi)return o;{let i=n.get(e.name);return i?o.remove(new $(e.name,i)):o}});return new t(r,this.indexSet_)}};var Ka,U=(()=>{class t{static get EMPTY_NODE(){return Ka||(Ka=new t(new Mt(Xv),null,Ji.Default))}constructor(n,r,o){this.children_=n,this.priorityNode_=r,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&HD(this.priorityNode_),this.children_.isEmpty()&&v(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ka}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?Ka:r}}getChild(n){let r=H(n);return r===null?this:this.getImmediateChild(r).getChild(se(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(v(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let o=new $(n,r),i,s;r.isEmpty()?(i=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(o,this.children_)):(i=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(o,this.children_));let a=i.isEmpty()?Ka:this.priorityNode_;return new t(i,a,s)}}updateChild(n,r){let o=H(n);if(o===null)return r;{v(H(n)!==".priority"||Pr(n)===1,".priority must be the last token in a path");let i=this.getImmediateChild(o).updateChild(se(n),r);return this.updateImmediateChild(o,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},o=0,i=0,s=!0;if(this.forEachChild(pe,(a,l)=>{r[a]=l.val(n),o++,s&&t.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):s=!1}),!n&&s&&i<2*o){let a=[];for(let l in r)a[l]=r[l];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+BD(this.getPriority().val())+":"),this.forEachChild(pe,(r,o)=>{let i=o.hash();i!==""&&(n+=":"+r+":"+i)}),this.lazyHash_=n===""?"":vD(n)}return this.lazyHash_}getPredecessorChildName(n,r,o){let i=this.resolveIndex_(o);if(i){let s=i.getPredecessorKey(new $(n,r));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let o=r.minKey();return o&&o.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new $(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let o=r.maxKey();return o&&o.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new $(r,this.children_.get(r)):null}forEachChild(n,r){let o=this.resolveIndex_(n);return o?o.inorderTraversal(i=>r(i.name,i.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let o=this.resolveIndex_(r);if(o)return o.getIteratorFrom(n,i=>i);{let i=this.children_.getIteratorFrom(n.name,$.Wrap),s=i.peek();for(;s!=null&&r.compare(s,n)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let o=this.resolveIndex_(r);if(o)return o.getReverseIteratorFrom(n,i=>i);{let i=this.children_.getReverseIteratorFrom(n.name,$.Wrap),s=i.peek();for(;s!=null&&r.compare(s,n)>0;)i.getNext(),s=i.peek();return i}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===cl?-1:0}withIndex(n){if(n===qi||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===qi||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let o=this.getIterator(pe),i=r.getIterator(pe),s=o.getNext(),a=i.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=o.getNext(),a=i.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===qi?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),mv=class extends U{constructor(){super(new Mt(Xv),U.EMPTY_NODE,Ji.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return U.EMPTY_NODE}isEmpty(){return!1}},cl=new mv;Object.defineProperties($,{MIN:{value:new $(Ki,U.EMPTY_NODE)},MAX:{value:new $(Uo,cl)}});Ku.__EMPTY_NODE=U.EMPTY_NODE;Qi.__childrenNodeConstructor=U;i3(cl);a3(cl);var c3=!0;function je(t,e=null){if(t===null)return U.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),v(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new Qi(n,je(e))}if(!(t instanceof Array)&&c3){let n=[],r=!1;if(ct(t,(s,a)=>{if(s.substring(0,1)!=="."){let l=je(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new $(s,l)))}}),n.length===0)return U.EMPTY_NODE;let i=Zu(n,o3,s=>s.name,Xv);if(r){let s=Zu(n,pe.getCompare());return new U(i,je(e),new Ji({".priority":s},{".priority":pe}))}else return new U(i,je(e),Ji.Default)}else{let n=U.EMPTY_NODE;return ct(t,(r,o)=>{if(hn(t,r)&&r.substring(0,1)!=="."){let i=je(o);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority(je(e))}}s3(je);var gv=class extends Zi{constructor(e){super(),this.indexPath_=e,v(!z(e)&&H(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),o=this.extractChild(n.node),i=r.compareTo(o);return i===0?ns(e.name,n.name):i}makePost(e,n){let r=je(e),o=U.EMPTY_NODE.updateChild(this.indexPath_,r);return new $(n,o)}maxPost(){let e=U.EMPTY_NODE.updateChild(this.indexPath_,cl);return new $(Uo,e)}toString(){return jD(this.indexPath_,0).join("/")}};var bv=class extends Zi{compare(e,n){let r=e.node.compareTo(n.node);return r===0?ns(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return $.MIN}maxPost(){return $.MAX}makePost(e,n){let r=je(e);return new $(n,r)}toString(){return".value"}},d3=new bv;function WD(t){return{type:"value",snapshotNode:t}}function Xi(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function nl(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function rl(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function u3(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var ol=class{constructor(e){this.index_=e}updateChild(e,n,r,o,i,s){v(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(n);return a.getChild(o).equals(r.getChild(o))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(nl(n,a)):v(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Xi(n,r)):s.trackChildChange(rl(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(pe,(o,i)=>{n.hasChild(o)||r.trackChildChange(nl(o,i))}),n.isLeafNode()||n.forEachChild(pe,(o,i)=>{if(e.hasChild(o)){let s=e.getImmediateChild(o);s.equals(i)||r.trackChildChange(rl(o,i,s))}else r.trackChildChange(Xi(o,i))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?U.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var Qu=class t{constructor(e){this.indexedFilter_=new ol(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,o,i,s){return this.matches(new $(n,r))||(r=U.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,o,i,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=U.EMPTY_NODE);let o=n.withIndex(this.index_);o=o.updatePriority(U.EMPTY_NODE);let i=this;return n.forEachChild(pe,(s,a)=>{i.matches(new $(s,a))||(o=o.updateImmediateChild(s,U.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}};var vv=class{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Qu(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,o,i,s){return this.rangedFilter_.matches(new $(n,r))||(r=U.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,o,i,s):this.fullLimitUpdateChild_(e,n,r,i,s)}updateFullNode(e,n,r){let o;if(n.isLeafNode()||n.isEmpty())o=U.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){o=U.EMPTY_NODE.withIndex(this.index_);let i;this.reverse_?i=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):i=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;i.hasNext()&&s<this.limit_;){let a=i.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))o=o.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{o=n.withIndex(this.index_),o=o.updatePriority(U.EMPTY_NODE);let i;this.reverse_?i=o.getReverseIterator(this.index_):i=o.getIterator(this.index_);let s=0;for(;i.hasNext();){let a=i.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:o=o.updateImmediateChild(a.name,U.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,o,i){let s;if(this.reverse_){let u=this.index_.getCompare();s=(f,p)=>u(p,f)}else s=this.index_.getCompare();let a=e;v(a.numChildren()===this.limit_,"");let l=new $(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),d=this.rangedFilter_.matches(l);if(a.hasChild(n)){let u=a.getImmediateChild(n),f=o.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=o.getChildAfterChild(this.index_,f,this.reverse_);let p=f==null?1:s(f,l);if(d&&!r.isEmpty()&&p>=0)return i?.trackChildChange(rl(n,r,u)),a.updateImmediateChild(n,r);{i?.trackChildChange(nl(n,u));let w=a.updateImmediateChild(n,U.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(i?.trackChildChange(Xi(f.name,f.node)),w.updateImmediateChild(f.name,f.node)):w}}else return r.isEmpty()?e:d&&s(c,l)>=0?(i!=null&&(i.trackChildChange(nl(c.name,c.node)),i.trackChildChange(Xi(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,U.EMPTY_NODE)):e}};var yv=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=pe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return v(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return v(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ki}hasEnd(){return this.endSet_}getIndexEndValue(){return v(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return v(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Uo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return v(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===pe}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function f3(t){return t.loadsAllData()?new ol(t.getIndex()):t.hasLimit()?new vv(t):new Qu(t)}function Jx(t){let e={};if(t.isDefault())return e;let n;if(t.index_===pe?n="$priority":t.index_===d3?n="$value":t.index_===qi?n="$key":(v(t.index_ instanceof gv,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=ke(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=ke(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+ke(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=ke(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+ke(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Xx(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==pe&&(e.i=t.index_.toString()),e}var wv=class t extends Gu{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(v(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,o){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=ll("p:rest:"),this.listens_={}}listen(e,n,r,o){let i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);let s=t.getListenId_(e,r),a={};this.listens_[s]=a;let l=Jx(e._queryParams);this.restRequest_(i+".json",l,(c,d)=>{let u=d;if(c===404&&(u=null,c=null),c===null&&this.onDataUpdate_(i,u,!1,r),Co(this.listens_,s)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",o(f,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=Jx(e._queryParams),r=e._path.toString(),o=new $t;return this.restRequest_(r+".json",n,(i,s)=>{let a=s;i===404&&(a=null,i=null),i===null?(this.onDataUpdate_(r,a,!1,null),o.resolve(a)):o.reject(new Error(a))}),o.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,i])=>{o&&o.accessToken&&(n.auth=o.accessToken),i&&i.token&&(n.ac=i.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+xo(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Fi(a.responseText)}catch{lt("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&lt("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}};var _v=class{constructor(){this.rootNode_=U.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function Ju(){return{value:null,children:new Map}}function GD(t,e,n){if(z(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=H(e);t.children.has(r)||t.children.set(r,Ju());let o=t.children.get(r);e=se(e),GD(o,e,n)}}function Ev(t,e,n){t.value!==null?n(e,t.value):p3(t,(r,o)=>{let i=new te(e.toString()+"/"+r);Ev(o,i,n)})}function p3(t,e){t.children.forEach((n,r)=>{e(r,n)})}var Iv=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&ct(this.last_,(r,o)=>{n[r]=n[r]-o}),this.last_=e,n}};var eD=10*1e3,h3=30*1e3,m3=5*60*1e3,Cv=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Iv(e);let r=eD+(h3-eD)*Math.random();Qa(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;ct(e,(o,i)=>{i>0&&hn(this.statsToReport_,o)&&(n[o]=i,r=!0)}),r&&this.server_.reportStats(n),Qa(this.reportStats_.bind(this),Math.floor(Math.random()*2*m3))}};var _n=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(_n||{});function qD(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function ey(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function ty(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var xv=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=_n.ACK_USER_WRITE,this.source=qD()}operationForChild(e){if(z(this.path)){if(this.affectedTree.value!=null)return v(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new te(e));return new t(K(),n,this.revert)}}else return v(H(this.path)===e,"operationForChild called for unrelated child."),new t(se(this.path),this.affectedTree,this.revert)}};var Xu=class t{constructor(e,n){this.source=e,this.path=n,this.type=_n.LISTEN_COMPLETE}operationForChild(e){return z(this.path)?new t(this.source,K()):new t(this.source,se(this.path))}};var es=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=_n.OVERWRITE}operationForChild(e){return z(this.path)?new t(this.source,K(),this.snap.getImmediateChild(e)):new t(this.source,se(this.path),this.snap)}};var ef=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=_n.MERGE}operationForChild(e){if(z(this.path)){let n=this.children.subtree(new te(e));return n.isEmpty()?null:n.value?new es(this.source,K(),n.value):new t(this.source,K(),n)}else return v(H(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,se(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var qn=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(z(e))return this.isFullyInitialized()&&!this.filtered_;let n=H(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var Dv=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function g3(t,e,n,r){let o=[],i=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&i.push(u3(s.childName,s.snapshotNode))}),Za(t,o,"child_removed",e,r,n),Za(t,o,"child_added",e,r,n),Za(t,o,"child_moved",i,r,n),Za(t,o,"child_changed",e,r,n),Za(t,o,"value",e,r,n),o}function Za(t,e,n,r,o,i){let s=r.filter(a=>a.type===n);s.sort((a,l)=>v3(t,a,l)),s.forEach(a=>{let l=b3(t,a,i);o.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function b3(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function v3(t,e,n){if(e.childName==null||n.childName==null)throw Io("Should only compare child_ events.");let r=new $(e.childName,e.snapshotNode),o=new $(n.childName,n.snapshotNode);return t.index_.compare(r,o)}function ff(t,e){return{eventCache:t,serverCache:e}}function Xa(t,e,n,r){return ff(new qn(e,n,r),t.serverCache)}function YD(t,e,n,r){return ff(t.eventCache,new qn(e,n,r))}function Tv(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Bo(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var Yb,y3=()=>(Yb||(Yb=new Mt(w5)),Yb),dt=class t{static fromObject(e){let n=new t(null);return ct(e,(r,o)=>{n=n.set(new te(r),o)}),n}constructor(e,n=y3()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:K(),value:this.value};if(z(e))return null;{let r=H(e),o=this.children.get(r);if(o!==null){let i=o.findRootMostMatchingPathAndValue(se(e),n);return i!=null?{path:Ae(new te(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(z(e))return this;{let n=H(e),r=this.children.get(n);return r!==null?r.subtree(se(e)):new t(null)}}set(e,n){if(z(e))return new t(n,this.children);{let r=H(e),i=(this.children.get(r)||new t(null)).set(se(e),n),s=this.children.insert(r,i);return new t(this.value,s)}}remove(e){if(z(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=H(e),r=this.children.get(n);if(r){let o=r.remove(se(e)),i;return o.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,o),this.value===null&&i.isEmpty()?new t(null):new t(this.value,i)}else return this}}get(e){if(z(e))return this.value;{let n=H(e),r=this.children.get(n);return r?r.get(se(e)):null}}setTree(e,n){if(z(e))return n;{let r=H(e),i=(this.children.get(r)||new t(null)).setTree(se(e),n),s;return i.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,i),new t(this.value,s)}}fold(e){return this.fold_(K(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((o,i)=>{r[o]=i.fold_(Ae(e,o),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,K(),n)}findOnPath_(e,n,r){let o=this.value?r(n,this.value):!1;if(o)return o;if(z(e))return null;{let i=H(e),s=this.children.get(i);return s?s.findOnPath_(se(e),Ae(n,i),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,K(),n)}foreachOnPath_(e,n,r){if(z(e))return this;{this.value&&r(n,this.value);let o=H(e),i=this.children.get(o);return i?i.foreachOnPath_(se(e),Ae(n,o),r):new t(null)}}foreach(e){this.foreach_(K(),e)}foreach_(e,n){this.children.inorderTraversal((r,o)=>{o.foreach_(Ae(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var Zt=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new dt(null))}};function el(t,e,n){if(z(e))return new Zt(new dt(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let o=r.path,i=r.value,s=at(o,e);return i=i.updateChild(s,n),new Zt(t.writeTree_.set(o,i))}else{let o=new dt(n),i=t.writeTree_.setTree(e,o);return new Zt(i)}}}function tD(t,e,n){let r=t;return ct(n,(o,i)=>{r=el(r,Ae(e,o),i)}),r}function nD(t,e){if(z(e))return Zt.empty();{let n=t.writeTree_.setTree(e,new dt(null));return new Zt(n)}}function Sv(t,e){return $o(t,e)!=null}function $o(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(at(n.path,e)):null}function rD(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(pe,(r,o)=>{e.push(new $(r,o))}):t.writeTree_.children.inorderTraversal((r,o)=>{o.value!=null&&e.push(new $(r,o.value))}),e}function Or(t,e){if(z(e))return t;{let n=$o(t,e);return n!=null?new Zt(new dt(n)):new Zt(t.writeTree_.subtree(e))}}function kv(t){return t.writeTree_.isEmpty()}function ts(t,e){return KD(K(),t.writeTree_,e)}function KD(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((o,i)=>{o===".priority"?(v(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=KD(Ae(t,o),i,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Ae(t,".priority"),r)),n}}function ny(t,e){return XD(e,t)}function w3(t,e,n,r,o){v(r>t.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:o}),o&&(t.visibleWrites=el(t.visibleWrites,e,n)),t.lastWriteId=r}function _3(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function E3(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);v(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let o=r.visible,i=!1,s=t.allWrites.length-1;for(;o&&s>=0;){let a=t.allWrites[s];a.visible&&(s>=n&&I3(a,r.path)?o=!1:Kt(r.path,a.path)&&(i=!0)),s--}if(o){if(i)return C3(t),!0;if(r.snap)t.visibleWrites=nD(t.visibleWrites,r.path);else{let a=r.children;ct(a,l=>{t.visibleWrites=nD(t.visibleWrites,Ae(r.path,l))})}return!0}else return!1}function I3(t,e){if(t.snap)return Kt(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&Kt(Ae(t.path,n),e))return!0;return!1}function C3(t){t.visibleWrites=ZD(t.allWrites,x3,K()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function x3(t){return t.visible}function ZD(t,e,n){let r=Zt.empty();for(let o=0;o<t.length;++o){let i=t[o];if(e(i)){let s=i.path,a;if(i.snap)Kt(n,s)?(a=at(n,s),r=el(r,a,i.snap)):Kt(s,n)&&(a=at(s,n),r=el(r,K(),i.snap.getChild(a)));else if(i.children){if(Kt(n,s))a=at(n,s),r=tD(r,a,i.children);else if(Kt(s,n))if(a=at(s,n),z(a))r=tD(r,K(),i.children);else{let l=Co(i.children,H(a));if(l){let c=l.getChild(se(a));r=el(r,K(),c)}}}else throw Io("WriteRecord should have .snap or .children")}}return r}function QD(t,e,n,r,o){if(!r&&!o){let i=$o(t.visibleWrites,e);if(i!=null)return i;{let s=Or(t.visibleWrites,e);if(kv(s))return n;if(n==null&&!Sv(s,K()))return null;{let a=n||U.EMPTY_NODE;return ts(s,a)}}}else{let i=Or(t.visibleWrites,e);if(!o&&kv(i))return n;if(!o&&n==null&&!Sv(i,K()))return null;{let s=function(c){return(c.visible||o)&&(!r||!~r.indexOf(c.writeId))&&(Kt(c.path,e)||Kt(e,c.path))},a=ZD(t.allWrites,s,e),l=n||U.EMPTY_NODE;return ts(a,l)}}}function D3(t,e,n){let r=U.EMPTY_NODE,o=$o(t.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(pe,(i,s)=>{r=r.updateImmediateChild(i,s)}),r;if(n){let i=Or(t.visibleWrites,e);return n.forEachChild(pe,(s,a)=>{let l=ts(Or(i,new te(s)),a);r=r.updateImmediateChild(s,l)}),rD(i).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{let i=Or(t.visibleWrites,e);return rD(i).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function T3(t,e,n,r,o){v(r||o,"Either existingEventSnap or existingServerSnap must exist");let i=Ae(e,n);if(Sv(t.visibleWrites,i))return null;{let s=Or(t.visibleWrites,i);return kv(s)?o.getChild(n):ts(s,o.getChild(n))}}function S3(t,e,n,r){let o=Ae(e,n),i=$o(t.visibleWrites,o);if(i!=null)return i;if(r.isCompleteForChild(n)){let s=Or(t.visibleWrites,o);return ts(s,r.getNode().getImmediateChild(n))}else return null}function k3(t,e){return $o(t.visibleWrites,e)}function A3(t,e,n,r,o,i,s){let a,l=Or(t.visibleWrites,e),c=$o(l,K());if(c!=null)a=c;else if(n!=null)a=ts(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let d=[],u=s.getCompare(),f=i?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),p=f.getNext();for(;p&&d.length<o;)u(p,r)!==0&&d.push(p),p=f.getNext();return d}else return[]}function R3(){return{visibleWrites:Zt.empty(),allWrites:[],lastWriteId:-1}}function tf(t,e,n,r){return QD(t.writeTree,t.treePath,e,n,r)}function ry(t,e){return D3(t.writeTree,t.treePath,e)}function oD(t,e,n,r){return T3(t.writeTree,t.treePath,e,n,r)}function nf(t,e){return k3(t.writeTree,Ae(t.treePath,e))}function N3(t,e,n,r,o,i){return A3(t.writeTree,t.treePath,e,n,r,o,i)}function oy(t,e,n){return S3(t.writeTree,t.treePath,e,n)}function JD(t,e){return XD(Ae(t.treePath,e),t.writeTree)}function XD(t,e){return{treePath:t,writeTree:e}}var Av=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;v(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),v(r!==".priority","Only non-priority child changes can be tracked.");let o=this.changeMap.get(r);if(o){let i=o.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,rl(r,e.snapshotNode,o.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,nl(r,o.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,Xi(r,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,rl(r,e.snapshotNode,o.oldSnap));else throw Io("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var Rv=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},eT=new Rv,il=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new qn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return oy(this.writes_,e,r)}}getChildAfterChild(e,n,r){let o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Bo(this.viewCache_),i=N3(this.writes_,o,n,1,r,e);return i.length===0?null:i[0]}};function M3(t){return{filter:t}}function O3(t,e){v(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),v(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function P3(t,e,n,r,o){let i=new Av,s,a;if(n.type===_n.OVERWRITE){let c=n;c.source.fromUser?s=Nv(t,e,c.path,c.snap,r,o,i):(v(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!z(c.path),s=rf(t,e,c.path,c.snap,r,o,a,i))}else if(n.type===_n.MERGE){let c=n;c.source.fromUser?s=L3(t,e,c.path,c.children,r,o,i):(v(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),s=Mv(t,e,c.path,c.children,r,o,a,i))}else if(n.type===_n.ACK_USER_WRITE){let c=n;c.revert?s=U3(t,e,c.path,r,o,i):s=j3(t,e,c.path,c.affectedTree,r,o,i)}else if(n.type===_n.LISTEN_COMPLETE)s=V3(t,e,n.path,r,i);else throw Io("Unknown operation type: "+n.type);let l=i.getChanges();return F3(e,s,l),{viewCache:s,changes:l}}function F3(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let o=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=Tv(t);(n.length>0||!t.eventCache.isFullyInitialized()||o&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(WD(Tv(e)))}}function tT(t,e,n,r,o,i){let s=e.eventCache;if(nf(r,n)!=null)return e;{let a,l;if(z(n))if(v(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let c=Bo(e),d=c instanceof U?c:U.EMPTY_NODE,u=ry(r,d);a=t.filter.updateFullNode(e.eventCache.getNode(),u,i)}else{let c=tf(r,Bo(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,i)}else{let c=H(n);if(c===".priority"){v(Pr(n)===1,"Can't have a priority with additional path components");let d=s.getNode();l=e.serverCache.getNode();let u=oD(r,n,d,l);u!=null?a=t.filter.updatePriority(d,u):a=s.getNode()}else{let d=se(n),u;if(s.isCompleteForChild(c)){l=e.serverCache.getNode();let f=oD(r,n,s.getNode(),l);f!=null?u=s.getNode().getImmediateChild(c).updateChild(d,f):u=s.getNode().getImmediateChild(c)}else u=oy(r,c,e.serverCache);u!=null?a=t.filter.updateChild(s.getNode(),c,u,d,o,i):a=s.getNode()}}return Xa(e,a,s.isFullyInitialized()||z(n),t.filter.filtersNodes())}}function rf(t,e,n,r,o,i,s,a){let l=e.serverCache,c,d=s?t.filter:t.filter.getIndexedFilter();if(z(n))c=d.updateFullNode(l.getNode(),r,null);else if(d.filtersNodes()&&!l.isFiltered()){let p=l.getNode().updateChild(n,r);c=d.updateFullNode(l.getNode(),p,null)}else{let p=H(n);if(!l.isCompleteForPath(n)&&Pr(n)>1)return e;let m=se(n),b=l.getNode().getImmediateChild(p).updateChild(m,r);p===".priority"?c=d.updatePriority(l.getNode(),b):c=d.updateChild(l.getNode(),p,b,m,eT,null)}let u=YD(e,c,l.isFullyInitialized()||z(n),d.filtersNodes()),f=new il(o,u,i);return tT(t,u,n,o,f,a)}function Nv(t,e,n,r,o,i,s){let a=e.eventCache,l,c,d=new il(o,e,i);if(z(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,s),l=Xa(e,c,!0,t.filter.filtersNodes());else{let u=H(n);if(u===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=Xa(e,c,a.isFullyInitialized(),a.isFiltered());else{let f=se(n),p=a.getNode().getImmediateChild(u),m;if(z(f))m=r;else{let w=d.getCompleteChild(u);w!=null?LD(f)===".priority"&&w.getChild(VD(f)).isEmpty()?m=w:m=w.updateChild(f,r):m=U.EMPTY_NODE}if(p.equals(m))l=e;else{let w=t.filter.updateChild(a.getNode(),u,m,f,d,s);l=Xa(e,w,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function iD(t,e){return t.eventCache.isCompleteForChild(e)}function L3(t,e,n,r,o,i,s){let a=e;return r.foreach((l,c)=>{let d=Ae(n,l);iD(e,H(d))&&(a=Nv(t,a,d,c,o,i,s))}),r.foreach((l,c)=>{let d=Ae(n,l);iD(e,H(d))||(a=Nv(t,a,d,c,o,i,s))}),a}function sD(t,e,n){return n.foreach((r,o)=>{e=e.updateChild(r,o)}),e}function Mv(t,e,n,r,o,i,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;z(n)?c=r:c=new dt(null).setTree(n,r);let d=e.serverCache.getNode();return c.children.inorderTraversal((u,f)=>{if(d.hasChild(u)){let p=e.serverCache.getNode().getImmediateChild(u),m=sD(t,p,f);l=rf(t,l,new te(u),m,o,i,s,a)}}),c.children.inorderTraversal((u,f)=>{let p=!e.serverCache.isCompleteForChild(u)&&f.value===null;if(!d.hasChild(u)&&!p){let m=e.serverCache.getNode().getImmediateChild(u),w=sD(t,m,f);l=rf(t,l,new te(u),w,o,i,s,a)}}),l}function j3(t,e,n,r,o,i,s){if(nf(o,n)!=null)return e;let a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(z(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return rf(t,e,n,l.getNode().getChild(n),o,i,a,s);if(z(n)){let c=new dt(null);return l.getNode().forEachChild(qi,(d,u)=>{c=c.set(new te(d),u)}),Mv(t,e,n,c,o,i,a,s)}else return e}else{let c=new dt(null);return r.foreach((d,u)=>{let f=Ae(n,d);l.isCompleteForPath(f)&&(c=c.set(d,l.getNode().getChild(f)))}),Mv(t,e,n,c,o,i,a,s)}}function V3(t,e,n,r,o){let i=e.serverCache,s=YD(e,i.getNode(),i.isFullyInitialized()||z(n),i.isFiltered());return tT(t,s,n,r,eT,o)}function U3(t,e,n,r,o,i){let s;if(nf(r,n)!=null)return e;{let a=new il(r,e,o),l=e.eventCache.getNode(),c;if(z(n)||H(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=tf(r,Bo(e));else{let u=e.serverCache.getNode();v(u instanceof U,"serverChildren would be complete if leaf node"),d=ry(r,u)}d=d,c=t.filter.updateFullNode(l,d,i)}else{let d=H(n),u=oy(r,d,e.serverCache);u==null&&e.serverCache.isCompleteForChild(d)&&(u=l.getImmediateChild(d)),u!=null?c=t.filter.updateChild(l,d,u,se(n),a,i):e.eventCache.getNode().hasChild(d)?c=t.filter.updateChild(l,d,U.EMPTY_NODE,se(n),a,i):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=tf(r,Bo(e)),s.isLeafNode()&&(c=t.filter.updateFullNode(c,s,i)))}return s=e.serverCache.isFullyInitialized()||nf(r,K())!=null,Xa(e,c,s,t.filter.filtersNodes())}}var Ov=class{constructor(e,n){this.query_=e,this.eventRegistrations_=[];let r=this.query_._queryParams,o=new ol(r.getIndex()),i=f3(r);this.processor_=M3(i);let s=n.serverCache,a=n.eventCache,l=o.updateFullNode(U.EMPTY_NODE,s.getNode(),null),c=i.updateFullNode(U.EMPTY_NODE,a.getNode(),null),d=new qn(l,s.isFullyInitialized(),o.filtersNodes()),u=new qn(c,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=ff(u,d),this.eventGenerator_=new Dv(this.query_)}get query(){return this.query_}};function B3(t){return t.viewCache_.serverCache.getNode()}function H3(t,e){let n=Bo(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!z(e)&&!n.getImmediateChild(H(e)).isEmpty())?n.getChild(e):null}function aD(t){return t.eventRegistrations_.length===0}function $3(t,e){t.eventRegistrations_.push(e)}function lD(t,e,n){let r=[];if(n){v(e==null,"A cancel should cancel all event registrations.");let o=t.query._path;t.eventRegistrations_.forEach(i=>{let s=i.createCancelEvent(n,o);s&&r.push(s)})}if(e){let o=[];for(let i=0;i<t.eventRegistrations_.length;++i){let s=t.eventRegistrations_[i];if(!s.matches(e))o.push(s);else if(e.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(i+1));break}}t.eventRegistrations_=o}else t.eventRegistrations_=[];return r}function cD(t,e,n,r){e.type===_n.MERGE&&e.source.queryId!==null&&(v(Bo(t.viewCache_),"We should always have a full cache before handling merges"),v(Tv(t.viewCache_),"Missing event cache, even though we have a server cache"));let o=t.viewCache_,i=P3(t.processor_,o,e,n,r);return O3(t.processor_,i.viewCache),v(i.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,nT(t,i.changes,i.viewCache.eventCache.getNode(),null)}function z3(t,e){let n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(pe,(i,s)=>{r.push(Xi(i,s))}),n.isFullyInitialized()&&r.push(WD(n.getNode())),nT(t,r,n.getNode(),e)}function nT(t,e,n,r){let o=r?[r]:t.eventRegistrations_;return g3(t.eventGenerator_,e,n,o)}var of,Pv=class{constructor(){this.views=new Map}};function W3(t){v(!of,"__referenceConstructor has already been defined"),of=t}function G3(){return v(of,"Reference.ts has not been loaded"),of}function q3(t){return t.views.size===0}function iy(t,e,n,r){let o=e.source.queryId;if(o!==null){let i=t.views.get(o);return v(i!=null,"SyncTree gave us an op for an invalid query."),cD(i,e,n,r)}else{let i=[];for(let s of t.views.values())i=i.concat(cD(s,e,n,r));return i}}function Y3(t,e,n,r,o){let i=e._queryIdentifier,s=t.views.get(i);if(!s){let a=tf(n,o?r:null),l=!1;a?l=!0:r instanceof U?(a=ry(n,r),l=!1):(a=U.EMPTY_NODE,l=!1);let c=ff(new qn(a,l,!1),new qn(r,o,!1));return new Ov(e,c)}return s}function K3(t,e,n,r,o,i){let s=Y3(t,e,r,o,i);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),$3(s,n),z3(s,n)}function Z3(t,e,n,r){let o=e._queryIdentifier,i=[],s=[],a=Fr(t);if(o==="default")for(let[l,c]of t.views.entries())s=s.concat(lD(c,n,r)),aD(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||i.push(c.query));else{let l=t.views.get(o);l&&(s=s.concat(lD(l,n,r)),aD(l)&&(t.views.delete(o),l.query._queryParams.loadsAllData()||i.push(l.query)))}return a&&!Fr(t)&&i.push(new(G3())(e._repo,e._path)),{removed:i,events:s}}function rT(t){let e=[];for(let n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Yi(t,e){let n=null;for(let r of t.views.values())n=n||H3(r,e);return n}function oT(t,e){if(e._queryParams.loadsAllData())return pf(t);{let r=e._queryIdentifier;return t.views.get(r)}}function iT(t,e){return oT(t,e)!=null}function Fr(t){return pf(t)!=null}function pf(t){for(let e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var sf;function Q3(t){v(!sf,"__referenceConstructor has already been defined"),sf=t}function J3(){return v(sf,"Reference.ts has not been loaded"),sf}var X3=1,af=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new dt(null),this.pendingWriteTree_=R3(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function sT(t,e,n,r,o){return w3(t.pendingWriteTree_,e,n,r,o),o?dl(t,new es(qD(),e,n)):[]}function jo(t,e,n=!1){let r=_3(t.pendingWriteTree_,e);if(E3(t.pendingWriteTree_,e)){let i=new dt(null);return r.snap!=null?i=i.set(K(),!0):ct(r.children,s=>{i=i.set(new te(s),!0)}),dl(t,new xv(r.path,i,n))}else return[]}function hf(t,e,n){return dl(t,new es(ey(),e,n))}function ej(t,e,n){let r=dt.fromObject(n);return dl(t,new ef(ey(),e,r))}function tj(t,e){return dl(t,new Xu(ey(),e))}function nj(t,e,n){let r=ay(t,n);if(r){let o=ly(r),i=o.path,s=o.queryId,a=at(i,e),l=new Xu(ty(s),a);return cy(t,i,l)}else return[]}function Fv(t,e,n,r,o=!1){let i=e._path,s=t.syncPointTree_.get(i),a=[];if(s&&(e._queryIdentifier==="default"||iT(s,e))){let l=Z3(s,e,n,r);q3(s)&&(t.syncPointTree_=t.syncPointTree_.remove(i));let c=l.removed;if(a=l.events,!o){let d=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,u=t.syncPointTree_.findOnPath(i,(f,p)=>Fr(p));if(d&&!u){let f=t.syncPointTree_.subtree(i);if(!f.isEmpty()){let p=ij(f);for(let m=0;m<p.length;++m){let w=p[m],b=w.query,C=cT(t,w);t.listenProvider_.startListening(tl(b),lf(t,b),C.hashFn,C.onComplete)}}}!u&&c.length>0&&!r&&(d?t.listenProvider_.stopListening(tl(e),null):c.forEach(f=>{let p=t.queryToTagMap.get(mf(f));t.listenProvider_.stopListening(tl(f),p)}))}sj(t,c)}return a}function rj(t,e,n,r){let o=ay(t,r);if(o!=null){let i=ly(o),s=i.path,a=i.queryId,l=at(s,e),c=new es(ty(a),l,n);return cy(t,s,c)}else return[]}function oj(t,e,n,r){let o=ay(t,r);if(o){let i=ly(o),s=i.path,a=i.queryId,l=at(s,e),c=dt.fromObject(n),d=new ef(ty(a),l,c);return cy(t,s,d)}else return[]}function dD(t,e,n,r=!1){let o=e._path,i=null,s=!1;t.syncPointTree_.foreachOnPath(o,(f,p)=>{let m=at(f,o);i=i||Yi(p,m),s=s||Fr(p)});let a=t.syncPointTree_.get(o);a?(s=s||Fr(a),i=i||Yi(a,K())):(a=new Pv,t.syncPointTree_=t.syncPointTree_.set(o,a));let l;i!=null?l=!0:(l=!1,i=U.EMPTY_NODE,t.syncPointTree_.subtree(o).foreachChild((p,m)=>{let w=Yi(m,K());w&&(i=i.updateImmediateChild(p,w))}));let c=iT(a,e);if(!c&&!e._queryParams.loadsAllData()){let f=mf(e);v(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");let p=aj();t.queryToTagMap.set(f,p),t.tagToQueryMap.set(p,f)}let d=ny(t.pendingWriteTree_,o),u=K3(a,e,n,d,i,l);if(!c&&!s&&!r){let f=oT(a,e);u=u.concat(lj(t,e,f))}return u}function sy(t,e,n){let o=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(s,a)=>{let l=at(s,e),c=Yi(a,l);if(c)return c});return QD(o,e,i,n,!0)}function dl(t,e){return aT(e,t.syncPointTree_,null,ny(t.pendingWriteTree_,K()))}function aT(t,e,n,r){if(z(t.path))return lT(t,e,n,r);{let o=e.get(K());n==null&&o!=null&&(n=Yi(o,K()));let i=[],s=H(t.path),a=t.operationForChild(s),l=e.children.get(s);if(l&&a){let c=n?n.getImmediateChild(s):null,d=JD(r,s);i=i.concat(aT(a,l,c,d))}return o&&(i=i.concat(iy(o,t,r,n))),i}}function lT(t,e,n,r){let o=e.get(K());n==null&&o!=null&&(n=Yi(o,K()));let i=[];return e.children.inorderTraversal((s,a)=>{let l=n?n.getImmediateChild(s):null,c=JD(r,s),d=t.operationForChild(s);d&&(i=i.concat(lT(d,a,l,c)))}),o&&(i=i.concat(iy(o,t,r,n))),i}function cT(t,e){let n=e.query,r=lf(t,n);return{hashFn:()=>(B3(e)||U.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return r?nj(t,n._path,r):tj(t,n._path);{let i=I5(o,n);return Fv(t,n,null,i)}}}}function lf(t,e){let n=mf(e);return t.queryToTagMap.get(n)}function mf(t){return t._path.toString()+"$"+t._queryIdentifier}function ay(t,e){return t.tagToQueryMap.get(e)}function ly(t){let e=t.indexOf("$");return v(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new te(t.substr(0,e))}}function cy(t,e,n){let r=t.syncPointTree_.get(e);v(r,"Missing sync point for query tag that we're tracking");let o=ny(t.pendingWriteTree_,e);return iy(r,n,o,null)}function ij(t){return t.fold((e,n,r)=>{if(n&&Fr(n))return[pf(n)];{let o=[];return n&&(o=rT(n)),ct(r,(i,s)=>{o=o.concat(s)}),o}})}function tl(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(J3())(t._repo,t._path):t}function sj(t,e){for(let n=0;n<e.length;++n){let r=e[n];if(!r._queryParams.loadsAllData()){let o=mf(r),i=t.queryToTagMap.get(o);t.queryToTagMap.delete(o),t.tagToQueryMap.delete(i)}}}function aj(){return X3++}function lj(t,e,n){let r=e._path,o=lf(t,e),i=cT(t,n),s=t.listenProvider_.startListening(tl(e),o,i.hashFn,i.onComplete),a=t.syncPointTree_.subtree(r);if(o)v(!Fr(a.value),"If we're adding a query, it shouldn't be shadowed");else{let l=a.fold((c,d,u)=>{if(!z(c)&&d&&Fr(d))return[pf(d).query];{let f=[];return d&&(f=f.concat(rT(d).map(p=>p.query))),ct(u,(p,m)=>{f=f.concat(m)}),f}});for(let c=0;c<l.length;++c){let d=l[c];t.listenProvider_.stopListening(tl(d),lf(t,d))}}return s}var Lv=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},jv=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=Ae(this.path_,e);return new t(this.syncTree_,n)}node(){return sy(this.syncTree_,this.path_)}},cj=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},uD=function(t,e,n){if(!t||typeof t!="object")return t;if(v(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return dj(t[".sv"],e,n);if(typeof t[".sv"]=="object")return uj(t[".sv"],e);v(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},dj=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:v(!1,"Unexpected server value: "+t)}},uj=function(t,e,n){t.hasOwnProperty("increment")||v(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&v(!1,"Unexpected increment value: "+r);let o=e.node();if(v(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;let s=o.getValue();return typeof s!="number"?r:s+r},fj=function(t,e,n,r){return dy(e,new jv(n,t),r)},dT=function(t,e,n){return dy(t,new Lv(e),n)};function dy(t,e,n){let r=t.getPriority().val(),o=uD(r,e.getImmediateChild(".priority"),n),i;if(t.isLeafNode()){let s=t,a=uD(s.getValue(),e,n);return a!==s.getValue()||o!==s.getPriority().val()?new Qi(a,je(o)):t}else{let s=t;return i=s,o!==s.getPriority().val()&&(i=i.updatePriority(new Qi(o))),s.forEachChild(pe,(a,l)=>{let c=dy(l,e.getImmediateChild(a),n);c!==l&&(i=i.updateImmediateChild(a,c))}),i}}var sl=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function uy(t,e){let n=e instanceof te?e:new te(e),r=t,o=H(n);for(;o!==null;){let i=Co(r.node.children,o)||{children:{},childCount:0};r=new sl(o,r,i),n=se(n),o=H(n)}return r}function os(t){return t.node.value}function uT(t,e){t.node.value=e,Vv(t)}function fT(t){return t.node.childCount>0}function pj(t){return os(t)===void 0&&!fT(t)}function gf(t,e){ct(t.node.children,(n,r)=>{e(new sl(n,t,r))})}function pT(t,e,n,r){n&&!r&&e(t),gf(t,o=>{pT(o,e,!0,r)}),n&&r&&e(t)}function hj(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function ul(t){return new te(t.parent===null?t.name:ul(t.parent)+"/"+t.name)}function Vv(t){t.parent!==null&&mj(t.parent,t.name,t)}function mj(t,e,n){let r=pj(n),o=hn(t.node.children,e);r&&o?(delete t.node.children[e],t.node.childCount--,Vv(t)):!r&&!o&&(t.node.children[e]=n.node,t.node.childCount++,Vv(t))}var gj=/[\[\].#$\/\u0000-\u001F\u007F]/,bj=/[\[\].#$\u0000-\u001F\u007F]/,Kb=10*1024*1024,hT=function(t){return typeof t=="string"&&t.length!==0&&!gj.test(t)},mT=function(t){return typeof t=="string"&&t.length!==0&&!bj.test(t)},vj=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),mT(t)};var gT=function(t,e,n,r){r&&e===void 0||fy(uu(t,"value"),e,n)},fy=function(t,e,n){let r=n instanceof te?new cv(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Fo(r));if(typeof e=="function")throw new Error(t+"contains a function "+Fo(r)+" with contents = "+e.toString());if(yD(e))throw new Error(t+"contains "+e.toString()+" "+Fo(r));if(typeof e=="string"&&e.length>Kb/3&&Aa(e)>Kb)throw new Error(t+"contains a string greater than "+Kb+" utf8 bytes "+Fo(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,i=!1;if(ct(e,(s,a)=>{if(s===".value")o=!0;else if(s!==".priority"&&s!==".sv"&&(i=!0,!hT(s)))throw new Error(t+" contains an invalid key ("+s+") "+Fo(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);J5(r,s),fy(t,a,r),X5(r)}),o&&i)throw new Error(t+' contains ".value" child '+Fo(r)+" in addition to actual children.")}};var bT=function(t,e,n,r){if(!(r&&n===void 0)&&!mT(n))throw new Error(uu(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},yj=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),bT(t,e,n,r)},vT=function(t,e){if(H(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},wj=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!hT(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!vj(n))throw new Error(uu(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var Uv=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function py(t,e){let n=null;for(let r=0;r<e.length;r++){let o=e[r],i=o.getPath();n!==null&&!Qv(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(o)}n&&t.eventLists_.push(n)}function yT(t,e,n){py(t,n),wT(t,r=>Qv(r,e))}function Yn(t,e,n){py(t,n),wT(t,r=>Kt(r,e)||Kt(e,r))}function wT(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let o=t.eventLists_[r];if(o){let i=o.path;e(i)?(_j(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function _j(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();Vo&&We("event: "+n.toString()),rs(r)}}}var Ej="repo_interrupt",Ij=25,Bv=class{constructor(e,n,r,o){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Uv,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ju(),this.transactionQueueTree_=new sl,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function Cj(t,e,n){if(t.stats_=Zv(t.repoInfo_),t.forceRestClient_||T5())t.server_=new wv(t.repoInfo_,(r,o,i,s)=>{fD(t,r,o,i,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>pD(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ke(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Jv(t.repoInfo_,e,(r,o,i,s)=>{fD(t,r,o,i,s)},r=>{pD(t,r)},r=>{xj(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=k5(t.repoInfo_,()=>new Cv(t.stats_,t.server_)),t.infoData_=new _v,t.infoSyncTree_=new af({startListening:(r,o,i,s)=>{let a=[],l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=hf(t.infoSyncTree_,r._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),my(t,"connected",!1),t.serverSyncTree_=new af({startListening:(r,o,i,s)=>(t.server_.listen(r,i,o,(a,l)=>{let c=s(a,l);Yn(t.eventQueue_,r._path,c)}),[]),stopListening:(r,o)=>{t.server_.unlisten(r,o)}})}function _T(t){let n=t.infoData_.getNode(new te(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function hy(t){return cj({timestamp:_T(t)})}function fD(t,e,n,r,o){t.dataUpdateCount++;let i=new te(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(o)if(r){let l=ka(n,c=>je(c));s=oj(t.serverSyncTree_,i,l,o)}else{let l=je(n);s=rj(t.serverSyncTree_,i,l,o)}else if(r){let l=ka(n,c=>je(c));s=ej(t.serverSyncTree_,i,l)}else{let l=je(n);s=hf(t.serverSyncTree_,i,l)}let a=i;s.length>0&&(a=bf(t,i)),Yn(t.eventQueue_,a,s)}function pD(t,e){my(t,"connected",e),e===!1&&Tj(t)}function xj(t,e){ct(e,(n,r)=>{my(t,n,r)})}function my(t,e,n){let r=new te("/.info/"+e),o=je(n);t.infoData_.updateSnapshot(r,o);let i=hf(t.infoSyncTree_,r,o);Yn(t.eventQueue_,r,i)}function ET(t){return t.nextWriteId_++}function Dj(t,e,n,r,o){gy(t,"set",{path:e.toString(),value:n,priority:r});let i=hy(t),s=je(n,r),a=sy(t.serverSyncTree_,e),l=dT(s,a,i),c=ET(t),d=sT(t.serverSyncTree_,e,l,c,!0);py(t.eventQueue_,d),t.server_.put(e.toString(),s.val(!0),(f,p)=>{let m=f==="ok";m||lt("set at "+e+" failed: "+f);let w=jo(t.serverSyncTree_,c,!m);Yn(t.eventQueue_,e,w),Aj(t,o,f,p)});let u=TT(t,e);bf(t,u),Yn(t.eventQueue_,u,[])}function Tj(t){gy(t,"onDisconnectEvents");let e=hy(t),n=Ju();Ev(t.onDisconnect_,K(),(o,i)=>{let s=fj(o,i,t.serverSyncTree_,e);GD(n,o,s)});let r=[];Ev(n,K(),(o,i)=>{r=r.concat(hf(t.serverSyncTree_,o,i));let s=TT(t,o);bf(t,s)}),t.onDisconnect_=Ju(),Yn(t.eventQueue_,K(),r)}function Sj(t,e,n){let r;H(e._path)===".info"?r=dD(t.infoSyncTree_,e,n):r=dD(t.serverSyncTree_,e,n),yT(t.eventQueue_,e._path,r)}function hD(t,e,n){let r;H(e._path)===".info"?r=Fv(t.infoSyncTree_,e,n):r=Fv(t.serverSyncTree_,e,n),yT(t.eventQueue_,e._path,r)}function kj(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Ej)}function gy(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),We(n,...e)}function Aj(t,e,n,r){e&&rs(()=>{if(n==="ok")e(null);else{let o=(n||"error").toUpperCase(),i=o;r&&(i+=": "+r);let s=new Error(i);s.code=o,e(s)}})}function IT(t,e,n){return sy(t.serverSyncTree_,e,n)||U.EMPTY_NODE}function by(t,e=t.transactionQueueTree_){if(e||vf(t,e),os(e)){let n=xT(t,e);v(n.length>0,"Sending zero length transaction queue"),n.every(o=>o.status===0)&&Rj(t,ul(e),n)}else fT(e)&&gf(e,n=>{by(t,n)})}function Rj(t,e,n){let r=n.map(c=>c.currentWriteId),o=IT(t,e,r),i=o,s=o.hash();for(let c=0;c<n.length;c++){let d=n[c];v(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;let u=at(e,d.path);i=i.updateChild(u,d.currentOutputSnapshotRaw)}let a=i.val(!0),l=e;t.server_.put(l.toString(),a,c=>{gy(t,"transaction put response",{path:l.toString(),status:c});let d=[];if(c==="ok"){let u=[];for(let f=0;f<n.length;f++)n[f].status=2,d=d.concat(jo(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&u.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();vf(t,uy(t.transactionQueueTree_,e)),by(t,t.transactionQueueTree_),Yn(t.eventQueue_,e,d);for(let f=0;f<u.length;f++)rs(u[f])}else{if(c==="datastale")for(let u=0;u<n.length;u++)n[u].status===3?n[u].status=4:n[u].status=0;else{lt("transaction at "+l.toString()+" failed: "+c);for(let u=0;u<n.length;u++)n[u].status=4,n[u].abortReason=c}bf(t,e)}},s)}function bf(t,e){let n=CT(t,e),r=ul(n),o=xT(t,n);return Nj(t,o,r),r}function Nj(t,e,n){if(e.length===0)return;let r=[],o=[],s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let l=e[a],c=at(n,l.path),d=!1,u;if(v(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)d=!0,u=l.abortReason,o=o.concat(jo(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Ij)d=!0,u="maxretry",o=o.concat(jo(t.serverSyncTree_,l.currentWriteId,!0));else{let f=IT(t,l.path,s);l.currentInputSnapshot=f;let p=e[a].update(f.val());if(p!==void 0){fy("transaction failed: Data returned ",p,l.path);let m=je(p);typeof p=="object"&&p!=null&&hn(p,".priority")||(m=m.updatePriority(f.getPriority()));let b=l.currentWriteId,C=hy(t),oe=dT(m,f,C);l.currentOutputSnapshotRaw=m,l.currentOutputSnapshotResolved=oe,l.currentWriteId=ET(t),s.splice(s.indexOf(b),1),o=o.concat(sT(t.serverSyncTree_,l.path,oe,l.currentWriteId,l.applyLocally)),o=o.concat(jo(t.serverSyncTree_,b,!0))}else d=!0,u="nodata",o=o.concat(jo(t.serverSyncTree_,l.currentWriteId,!0))}Yn(t.eventQueue_,n,o),o=[],d&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(u==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(u),!1,null))))}vf(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)rs(r[a]);by(t,t.transactionQueueTree_)}function CT(t,e){let n,r=t.transactionQueueTree_;for(n=H(e);n!==null&&os(r)===void 0;)r=uy(r,n),e=se(e),n=H(e);return r}function xT(t,e){let n=[];return DT(t,e,n),n.sort((r,o)=>r.order-o.order),n}function DT(t,e,n){let r=os(e);if(r)for(let o=0;o<r.length;o++)n.push(r[o]);gf(e,o=>{DT(t,o,n)})}function vf(t,e){let n=os(e);if(n){let r=0;for(let o=0;o<n.length;o++)n[o].status!==2&&(n[r]=n[o],r++);n.length=r,uT(e,n.length>0?n:void 0)}gf(e,r=>{vf(t,r)})}function TT(t,e){let n=ul(CT(t,e)),r=uy(t.transactionQueueTree_,e);return hj(r,o=>{Zb(t,o)}),Zb(t,r),pT(r,o=>{Zb(t,o)}),n}function Zb(t,e){let n=os(e);if(n){let r=[],o=[],i=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(v(i===s-1,"All SENT items should be at beginning of queue."),i=s,n[s].status=3,n[s].abortReason="set"):(v(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),o=o.concat(jo(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));i===-1?uT(e,void 0):n.length=i+1,Yn(t.eventQueue_,ul(e),o);for(let s=0;s<r.length;s++)rs(r[s])}}function Mj(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let o=n[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function Oj(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):lt(`Invalid query segment '${n}' in query '${t}'`)}return e}var mD=function(t,e){let n=Pj(t),r=n.namespace;n.domain==="firebase.com"&&Gn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Gn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||v5();let o=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new zu(n.host,n.secure,r,o,e,"",r!==n.subdomain),path:new te(n.pathString)}},Pj=function(t){let e="",n="",r="",o="",i="",s=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let d=t.indexOf("/");d===-1&&(d=t.length);let u=t.indexOf("?");u===-1&&(u=t.length),e=t.substring(0,Math.min(d,u)),d<u&&(o=Mj(t.substring(d,u)));let f=Oj(t.substring(Math.min(t.length,u)));c=e.indexOf(":"),c>=0?(s=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;let p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{let m=e.indexOf(".");r=e.substring(0,m).toLowerCase(),n=e.substring(m+1),i=r}"ns"in f&&(i=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:o,namespace:i}};var gD="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Fj=function(){let t=0,e=[];return function(n){let r=n===t;t=n;let o,i=new Array(8);for(o=7;o>=0;o--)i[o]=gD.charAt(n%64),n=Math.floor(n/64);v(n===0,"Cannot push at time == 0");let s=i.join("");if(r){for(o=11;o>=0&&e[o]===63;o--)e[o]=0;e[o]++}else for(o=0;o<12;o++)e[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)s+=gD.charAt(e[o]);return v(s.length===20,"nextPushId: Length should be 20."),s}}();var cf=class{constructor(e,n,r,o){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=o}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ke(this.snapshot.exportVal())}},df=class{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var Hv=class{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return v(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var $v=class t{constructor(e,n,r,o){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=o}get key(){return z(this._path)?null:LD(this._path)}get ref(){return new Kn(this._repo,this._path)}get _queryIdentifier(){let e=Xx(this._queryParams),n=Kv(e);return n==="{}"?"default":n}get _queryObject(){return Xx(this._queryParams)}isEqual(e){if(e=ze(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=Qv(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return n&&r&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+Q5(this._path)}};var Kn=class t extends $v{constructor(e,n){super(e,n,new yv,!1)}get parent(){let e=VD(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},uf=class t{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let n=new te(e),r=Ho(this.ref,e);return new t(this._node.getChild(n),r,pe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,o)=>e(new t(o,Ho(this.ref,r),pe)))}hasChild(e){let n=new te(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function ST(t,e){return t=ze(t),t._checkNotDeleted("ref"),e!==void 0?Ho(t._root,e):t._root}function Ho(t,e){return t=ze(t),H(t._path)===null?yj("child","path",e,!1):bT("child","path",e,!1),new Kn(t._repo,Ae(t._path,e))}function kT(t,e){t=ze(t),vT("push",t._path),gT("push",e,t._path,!0);let n=_T(t._repo),r=Fj(n),o=Ho(t,r),i=Ho(t,r),s;return e!=null?s=vy(i,e).then(()=>i):s=Promise.resolve(i),o.then=s.then.bind(s),o.catch=s.then.bind(s,void 0),o}function vy(t,e){t=ze(t),vT("set",t._path),gT("set",e,t._path,!1);let n=new $t;return Dj(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}var zv=class t{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){let r=n._queryParams.getIndex();return new cf("value",this,new uf(e.snapshotNode,new Kn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new df(this,e,n):null}matches(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},Wv=class t{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new df(this,e,n):null}createEvent(e,n){v(e.childName!=null,"Child events should have a childName.");let r=Ho(new Kn(n._repo,n._path),e.childName),o=n._queryParams.getIndex();return new cf(e.type,this,new uf(e.snapshotNode,r,o),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof t?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function Lj(t,e,n,r,o){let i;if(typeof r=="object"&&(i=void 0,o=r),typeof r=="function"&&(i=r),o&&o.onlyOnce){let l=n,c=(d,u)=>{hD(t._repo,t,a),l(d,u)};c.userCallback=n.userCallback,c.context=n.context,n=c}let s=new Hv(n,i||void 0),a=e==="value"?new zv(s):new Wv(e,s);return Sj(t._repo,t,a),()=>hD(t._repo,t,a)}function AT(t,e,n,r){return Lj(t,"value",e,n,r)}W3(Kn);Q3(Kn);var jj="FIREBASE_DATABASE_EMULATOR_HOST",Gv={},Vj=!1;function Uj(t,e,n,r){let o=e.lastIndexOf(":"),i=e.substring(0,o),s=xr(i);t.repoInfo_=new zu(e,s,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function Bj(t,e,n,r,o){let i=r||t.options.databaseURL;i===void 0&&(t.options.projectId||Gn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),We("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=mD(i,o),a=s.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[jj]),c?(l=!0,i=`http://${c}?ns=${a.namespace}`,s=mD(i,o),a=s.repoInfo):l=!s.repoInfo.secure;let d=o&&l?new Ja(Ja.OWNER):new nv(t.name,t.options,e);wj("Invalid Firebase Database URL",s),z(s.path)||Gn("Database URL must point to the root of a Firebase Database (not including a child path).");let u=$j(a,t,d,new tv(t,n));return new qv(u,t)}function Hj(t,e){let n=Gv[e];(!n||n[t.key]!==t)&&Gn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),kj(t),delete n[t.key]}function $j(t,e,n,r){let o=Gv[e.name];o||(o={},Gv[e.name]=o);let i=o[t.toURLString()];return i&&Gn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new Bv(t,Vj,n,r),o[t.toURLString()]=i,i}var qv=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Cj(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Kn(this._repo,K())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Hj(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Gn("Cannot call "+e+" on a deleted database.")}};function RT(t=To(),e){let n=Ui(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){let r=rC("database");r&&NT(n,...r)}return n}function NT(t,e,n,r={}){t=ze(t),t._checkNotDeleted("useEmulator");let o=`${e}:${n}`,i=t._repoInternal;if(t._instanceStarted){if(o===t._repoInternal.repoInfo_.host&&mn(r,i.repoInfo_.emulatorOptions))return;Gn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Gn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Ja(Ja.OWNER);else if(r.mockUserToken){let a=typeof r.mockUserToken=="string"?r.mockUserToken:oC(r.mockUserToken,t.app.options.projectId);s=new Ja(a)}xr(e)&&(au(e),lu("Database",!0)),Uj(i,o,r,s)}function zj(t){m5(Tr),Gt(new Ye("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return Bj(r,o,i,n)},"PUBLIC").setMultipleInstances(!0)),ve(Fx,Lx,t),ve(Fx,Lx,"esm2017")}Jv.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Jv.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};zj();var Qt=class{constructor(e){return e}},MT="database",yy=class{constructor(){return Hi(MT)}};var wy=new x("angularfire2.database-instances");function Wj(t,e){let n=gu(MT,t,e);return n&&new Qt(n)}function Gj(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Qt(r)}}var qj={provide:yy,deps:[[new cn,wy]]},Yj={provide:Qt,useFactory:Wj,deps:[[new cn,wy],Ro]};function OT(t,...e){return ve("angularfire",ko.full,"rtdb"),tn([Yj,qj,{provide:wy,useFactory:Gj(t),multi:!0,deps:[ne,we,Ao,Oa,[new cn,Bu],[new cn,vu],...e]}])}var fl=vn(RT,!0);var PT=vn(AT,!0);var yf=vn(kT,!0,2);var Lr=vn(ST,!0,2);var FT=vn(vy,!0,2);var GT=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(T(Fn),T(dn))};static \u0275dir=le({type:t})}return t})(),xy=(()=>{class t extends GT{static \u0275fac=(()=>{let n;return function(o){return(n||(n=Pn(t)))(o||t)}})();static \u0275dir=le({type:t,features:[nt]})}return t})(),yl=new x("");var Kj={provide:yl,useExisting:pt(()=>Vr),multi:!0};function Zj(){let t=Rt()?Rt().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Qj=new x(""),Vr=(()=>{class t extends GT{_compositionMode;_composing=!1;constructor(n,r,o){super(n,r),this._compositionMode=o,this._compositionMode==null&&(this._compositionMode=!Zj())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(T(Fn),T(dn),T(Qj,8))};static \u0275dir=le({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&Ne("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},standalone:!1,features:[fn([Kj]),nt]})}return t})();function Dy(t){return t==null||Ty(t)===0}function Ty(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var wl=new x(""),Rf=new x(""),Jj=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,zo=class{static min(e){return Xj(e)}static max(e){return eV(e)}static required(e){return qT(e)}static requiredTrue(e){return tV(e)}static email(e){return nV(e)}static minLength(e){return rV(e)}static maxLength(e){return oV(e)}static pattern(e){return iV(e)}static nullValidator(e){return _f()}static compose(e){return XT(e)}static composeAsync(e){return eS(e)}};function Xj(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function eV(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function qT(t){return Dy(t.value)?{required:!0}:null}function tV(t){return t.value===!0?null:{required:!0}}function nV(t){return Dy(t.value)||Jj.test(t.value)?null:{email:!0}}function rV(t){return e=>{let n=e.value?.length??Ty(e.value);return n===null||n===0?null:n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}function oV(t){return e=>{let n=e.value?.length??Ty(e.value);return n!==null&&n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}function iV(t){if(!t)return _f;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Dy(r.value))return null;let o=r.value;return e.test(o)?null:{pattern:{requiredPattern:n,actualValue:o}}}}function _f(t){return null}function YT(t){return t!=null}function KT(t){return _r(t)?de(t):t}function ZT(t){let e={};return t.forEach(n=>{e=n!=null?y(y({},e),n):e}),Object.keys(e).length===0?null:e}function QT(t,e){return e.map(n=>n(t))}function sV(t){return!t.validate}function JT(t){return t.map(e=>sV(e)?e:n=>e.validate(n))}function XT(t){if(!t)return null;let e=t.filter(YT);return e.length==0?null:function(n){return ZT(QT(n,e))}}function Sy(t){return t!=null?XT(JT(t)):null}function eS(t){if(!t)return null;let e=t.filter(YT);return e.length==0?null:function(n){let r=QT(n,e).map(KT);return Lp(r).pipe(V(ZT))}}function ky(t){return t!=null?eS(JT(t)):null}function LT(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function tS(t){return t._rawValidators}function nS(t){return t._rawAsyncValidators}function Ey(t){return t?Array.isArray(t)?t:[t]:[]}function Ef(t,e){return Array.isArray(t)?t.includes(e):t===e}function jT(t,e){let n=Ey(e);return Ey(t).forEach(o=>{Ef(n,o)||n.push(o)}),n}function VT(t,e){return Ey(e).filter(n=>!Ef(t,n))}var If=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Sy(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ky(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Zn=class extends If{name;get formDirective(){return null}get path(){return null}},Wo=class extends If{_parent=null;name=null;valueAccessor=null},Cf=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},aV={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Ine=M(y({},aV),{"[class.ng-submitted]":"isSubmitted"}),cs=(()=>{class t extends Cf{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(T(Wo,2))};static \u0275dir=le({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&aa("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[nt]})}return t})(),ds=(()=>{class t extends Cf{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(T(Zn,10))};static \u0275dir=le({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&aa("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},standalone:!1,features:[nt]})}return t})();var pl="VALID",wf="INVALID",is="PENDING",hl="DISABLED",jr=class{},xf=class extends jr{value;source;constructor(e,n){super(),this.value=e,this.source=n}},gl=class extends jr{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},bl=class extends jr{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},ss=class extends jr{status;source;constructor(e,n){super(),this.status=e,this.source=n}},Df=class extends jr{source;constructor(e){super(),this.source=e}},Tf=class extends jr{source;constructor(e){super(),this.source=e}};function Ay(t){return(Nf(t)?t.validators:t)||null}function lV(t){return Array.isArray(t)?Sy(t):t||null}function Ry(t,e){return(Nf(e)?e.asyncValidators:t)||null}function cV(t){return Array.isArray(t)?ky(t):t||null}function Nf(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function rS(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new E(1e3,"");if(!r[n])throw new E(1001,"")}function oS(t,e,n){t._forEachChild((r,o)=>{if(n[o]===void 0)throw new E(1002,"")})}var as=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return At(this.statusReactive)}set status(e){At(()=>this.statusReactive.set(e))}_status=yo(()=>this.statusReactive());statusReactive=St(void 0);get valid(){return this.status===pl}get invalid(){return this.status===wf}get pending(){return this.status==is}get disabled(){return this.status===hl}get enabled(){return this.status!==hl}errors;get pristine(){return At(this.pristineReactive)}set pristine(e){At(()=>this.pristineReactive.set(e))}_pristine=yo(()=>this.pristineReactive());pristineReactive=St(!0);get dirty(){return!this.pristine}get touched(){return At(this.touchedReactive)}set touched(e){At(()=>this.touchedReactive.set(e))}_touched=yo(()=>this.touchedReactive());touchedReactive=St(!1);get untouched(){return!this.touched}_events=new Ce;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(jT(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(jT(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(VT(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(VT(e,this._rawAsyncValidators))}hasValidator(e){return Ef(this._rawValidators,e)}hasAsyncValidator(e){return Ef(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(M(y({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new bl(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new bl(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(M(y({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new gl(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new gl(!0,r))}markAsPending(e={}){this.status=is;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ss(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(M(y({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=hl,this.errors=null,this._forEachChild(o=>{o.disable(M(y({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new xf(this.value,r)),this._events.next(new ss(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(M(y({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=pl,this._forEachChild(r=>{r.enable(M(y({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(M(y({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===pl||this.status===is)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new xf(this.value,n)),this._events.next(new ss(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(M(y({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?hl:pl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=is,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:e!==!1};let r=KT(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,o)=>r&&r._find(o),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new ss(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new fe,this.statusChanges=new fe}_calculateStatus(){return this._allControlsDisabled()?hl:this.errors?wf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(is)?is:this._anyControlsHaveStatus(wf)?wf:pl}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),o=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),o&&this._events.next(new gl(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new bl(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Nf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=lV(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=cV(this._rawAsyncValidators)}},ls=class extends as{constructor(e,n,r){super(Ay(n),Ry(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){oS(this,!0,e),Object.keys(e).forEach(r=>{rS(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,o)=>{r.reset(e?e[o]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,o)=>((r.enabled||this.disabled)&&(n[o]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((o,i)=>{r=n(r,o,i)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Iy=class extends ls{};var _l=new x("",{providedIn:"root",factory:()=>Mf}),Mf="always";function iS(t,e){return[...e.path,t]}function Sf(t,e,n=Mf){Ny(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),uV(t,e),pV(t,e),fV(t,e),dV(t,e)}function UT(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Af(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function kf(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function dV(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Ny(t,e){let n=tS(t);e.validator!==null?t.setValidators(LT(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=nS(t);e.asyncValidator!==null?t.setAsyncValidators(LT(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let o=()=>t.updateValueAndValidity();kf(e._rawValidators,o),kf(e._rawAsyncValidators,o)}function Af(t,e){let n=!1;if(t!==null){if(e.validator!==null){let o=tS(t);if(Array.isArray(o)&&o.length>0){let i=o.filter(s=>s!==e.validator);i.length!==o.length&&(n=!0,t.setValidators(i))}}if(e.asyncValidator!==null){let o=nS(t);if(Array.isArray(o)&&o.length>0){let i=o.filter(s=>s!==e.asyncValidator);i.length!==o.length&&(n=!0,t.setAsyncValidators(i))}}}let r=()=>{};return kf(e._rawValidators,r),kf(e._rawAsyncValidators,r),n}function uV(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&sS(t,e)})}function fV(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&sS(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function sS(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function pV(t,e){let n=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function aS(t,e){t==null,Ny(t,e)}function hV(t,e){return Af(t,e)}function lS(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function mV(t){return Object.getPrototypeOf(t.constructor)===xy}function cS(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function dS(t,e){if(!e)return null;Array.isArray(e);let n,r,o;return e.forEach(i=>{i.constructor===Vr?n=i:mV(i)?r=i:o=i}),o||r||n||null}function gV(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var bV={provide:Zn,useExisting:pt(()=>El)},ml=Promise.resolve(),El=(()=>{class t extends Zn{callSetDisabledState;get submitted(){return At(this.submittedReactive)}_submitted=yo(()=>this.submittedReactive());submittedReactive=St(!1);_directives=new Set;form;ngSubmit=new fe;options;constructor(n,r,o){super(),this.callSetDisabledState=o,this.form=new ls({},Sy(n),ky(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){ml.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),Sf(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){ml.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){ml.then(()=>{let r=this._findContainer(n.path),o=new ls({});aS(o,n),r.registerControl(n.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){ml.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){ml.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),cS(this.form,this._directives),this.ngSubmit.emit(n),this.form._events.next(new Df(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1),this.form._events.next(new Tf(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||t)(T(wl,10),T(Rf,10),T(_l,8))};static \u0275dir=le({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){r&1&&Ne("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[fn([bV]),nt]})}return t})();function BT(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function HT(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var vl=class extends as{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(Ay(n),Ry(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Nf(n)&&(n.nonNullable||n.initialValueIsDefault)&&(HT(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){BT(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){BT(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){HT(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var vV=t=>t instanceof vl;var yV={provide:Wo,useExisting:pt(()=>Il)},$T=Promise.resolve(),Il=(()=>{class t extends Wo{_changeDetectorRef;callSetDisabledState;control=new vl;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new fe;constructor(n,r,o,i,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=dS(this,i)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),lS(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Sf(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){$T.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,o=r!==0&&jn(r);$T.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?iS(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(T(Zn,9),T(wl,10),T(Rf,10),T(yl,10),T(Er,8),T(_l,8))};static \u0275dir=le({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[fn([yV]),nt,Ut]})}return t})();var us=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=le({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})();var uS=new x("");var wV={provide:Zn,useExisting:pt(()=>My)},My=(()=>{class t extends Zn{callSetDisabledState;get submitted(){return At(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}_submitted=yo(()=>this._submittedReactive());_submittedReactive=St(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new fe;constructor(n,r,o){super(),this.callSetDisabledState=o,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Af(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return Sf(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){UT(n.control||null,n,!1),gV(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),cS(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new Df(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0,r={}){this.form.reset(n,r),this._submittedReactive.set(!1),r?.emitEvent!==!1&&this.form._events.next(new Tf(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,o=this.form.get(n.path);r!==o&&(UT(r||null,n),vV(o)&&(Sf(o,n,this.callSetDisabledState),n.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);aS(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&hV(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ny(this.form,this),this._oldForm&&Af(this._oldForm,this)}static \u0275fac=function(r){return new(r||t)(T(wl,10),T(Rf,10),T(_l,8))};static \u0275dir=le({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,o){r&1&&Ne("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[fn([wV]),nt,Ut]})}return t})();var _V={provide:Wo,useExisting:pt(()=>Oy)},Oy=(()=>{class t extends Wo{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(n){}model;update=new fe;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(n,r,o,i,s){super(),this._ngModelWarningConfig=s,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=dS(this,i)}ngOnChanges(n){this._added||this._setUpControl(),lS(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return iS(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||t)(T(Zn,13),T(wl,10),T(Rf,10),T(yl,10),T(uS,8))};static \u0275dir=le({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[fn([_V]),nt,Ut]})}return t})();var EV={provide:yl,useExisting:pt(()=>Of),multi:!0};function fS(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function IV(t){return t.split(":")[0]}var Of=(()=>{class t extends xy{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;appRefInjector=g(Ln).injector;appRefDestroyRef=this.appRefInjector.get(Tt);destroyRef=g(Tt);cdr=g(Er);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefDestroyRef.destroyed||(this._queuedWrite=!0,Nd({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(n){this.cdr.markForCheck(),this.value=n;let r=this._getOptionId(n),o=fS(r,n);this.setProperty("value",o)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=IV(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(o){return(n||(n=Pn(t)))(o||t)}})();static \u0275dir=le({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,o){r&1&&Ne("change",function(s){return o.onChange(s.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[fn([EV]),nt]})}return t})(),pS=(()=>{class t{_element;_renderer;_select;id;constructor(n,r,o){this._element=n,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(fS(this.id,n)),this._select._writeValueAfterRender())}set value(n){this._setElementValue(n),this._select&&this._select._writeValueAfterRender()}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||t)(T(dn),T(Fn),T(Of,9))};static \u0275dir=le({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),CV={provide:yl,useExisting:pt(()=>hS),multi:!0};function zT(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function xV(t){return t.split(":")[0]}var hS=(()=>{class t extends xy{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let o=n.map(i=>this._getOptionId(i));r=(i,s)=>{i._setSelected(o.indexOf(s.toString())>-1)}}else r=(o,i)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let o=[],i=r.selectedOptions;if(i!==void 0){let s=i;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);o.push(c)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);o.push(c)}}}this.value=o,n(o)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=xV(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(o){return(n||(n=Pn(t)))(o||t)}})();static \u0275dir=le({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,o){r&1&&Ne("change",function(s){return o.onChange(s.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[fn([CV]),nt]})}return t})(),mS=(()=>{class t{_element;_renderer;_select;id;_value;constructor(n,r,o){this._element=n,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(zT(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(zT(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(T(dn),T(Fn),T(hS,9))};static \u0275dir=le({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();var DV=(()=>{class t{_validator=_f;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):_f,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||t)};static \u0275dir=le({type:t,features:[Ut]})}return t})();var TV={provide:wl,useExisting:pt(()=>Go),multi:!0};var Go=(()=>{class t extends DV{required;inputName="required";normalizeInput=jn;createValidator=n=>qT;enabled(n){return n}static \u0275fac=(()=>{let n;return function(o){return(n||(n=Pn(t)))(o||t)}})();static \u0275dir=le({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,o){r&2&&Od("required",o._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[fn([TV]),nt]})}return t})();var gS=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Bt({type:t});static \u0275inj=_t({})}return t})(),Cy=class extends as{constructor(e,n,r){super(Ay(n),Ry(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let o=this._adjustIndex(e);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),n&&(this.controls.splice(o,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){oS(this,!1,e),e.forEach((r,o)=>{rS(this,!1,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function WT(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var bS=(()=>{class t{useNonNullable=!1;get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let o=this._reduceControls(n),i={};return WT(r)?i=r:r!==null&&(i.validators=r.validator,i.asyncValidators=r.asyncValidator),new ls(o,i)}record(n,r=null){let o=this._reduceControls(n);return new Iy(o,r)}control(n,r,o){let i={};return this.useNonNullable?(WT(r)?i=r:(i.validators=r,i.asyncValidators=o),new vl(n,M(y({},i),{nonNullable:!0}))):new vl(n,r,o)}array(n,r,o){let i=n.map(s=>this._createControl(s));return new Cy(i,r,o)}_reduceControls(n){let r={};return Object.keys(n).forEach(o=>{r[o]=this._createControl(n[o])}),r}_createControl(n){if(n instanceof vl)return n;if(n instanceof as)return n;if(Array.isArray(n)){let r=n[0],o=n.length>1?n[1]:null,i=n.length>2?n[2]:null;return this.control(r,o,i)}else return this.control(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Pf=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:_l,useValue:n.callSetDisabledState??Mf}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Bt({type:t});static \u0275inj=_t({imports:[gS]})}return t})(),Ff=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:uS,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:_l,useValue:n.callSetDisabledState??Mf}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Bt({type:t});static \u0275inj=_t({imports:[gS]})}return t})();var L="primary",jl=Symbol("RouteTitle"),Uy=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ko(t){return new Uy(t)}function xS(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let o={};for(let i=0;i<r.length;i++){let s=r[i],a=t[i];if(s[0]===":")o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:o}}function SV(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!En(t[n],e[n]))return!1;return!0}function En(t,e){let n=t?By(t):void 0,r=e?By(e):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let i=0;i<n.length;i++)if(o=n[i],!DS(t[o],e[o]))return!1;return!0}function By(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function DS(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((o,i)=>r[i]===o)}else return t===e}function TS(t){return t.length>0?t[t.length-1]:null}function Xn(t){return Fp(t)?t:_r(t)?de(Promise.resolve(t)):R(t)}var kV={exact:kS,subset:AS},SS={exact:AV,subset:RV,ignored:()=>!0};function vS(t,e,n){return kV[n.paths](t.root,e.root,n.matrixParams)&&SS[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function AV(t,e){return En(t,e)}function kS(t,e,n){if(!qo(t.segments,e.segments)||!Vf(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!kS(t.children[r],e.children[r],n))return!1;return!0}function RV(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>DS(t[n],e[n]))}function AS(t,e,n){return RS(t,e,e.segments,n)}function RS(t,e,n,r){if(t.segments.length>n.length){let o=t.segments.slice(0,n.length);return!(!qo(o,n)||e.hasChildren()||!Vf(o,n,r))}else if(t.segments.length===n.length){if(!qo(t.segments,n)||!Vf(t.segments,n,r))return!1;for(let o in e.children)if(!t.children[o]||!AS(t.children[o],e.children[o],r))return!1;return!0}else{let o=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!qo(t.segments,o)||!Vf(t.segments,o,r)||!t.children[L]?!1:RS(t.children[L],e,i,r)}}function Vf(t,e,n){return e.every((r,o)=>SS[n](t[o].parameters,r.parameters))}var Cn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Z([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ko(this.queryParams),this._queryParamMap}toString(){return OV.serialize(this)}},Z=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Uf(this)}},Ur=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ko(this.parameters),this._parameterMap}toString(){return MS(this)}};function NV(t,e){return qo(t,e)&&t.every((n,r)=>En(n.parameters,e[r].parameters))}function qo(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function MV(t,e){let n=[];return Object.entries(t.children).forEach(([r,o])=>{r===L&&(n=n.concat(e(o,r)))}),Object.entries(t.children).forEach(([r,o])=>{r!==L&&(n=n.concat(e(o,r)))}),n}var Vl=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:()=>new Zo,providedIn:"root"})}return t})(),Zo=class{parse(e){let n=new $y(e);return new Cn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Cl(e.root,!0)}`,r=LV(e.queryParams),o=typeof e.fragment=="string"?`#${PV(e.fragment)}`:"";return`${n}${r}${o}`}},OV=new Zo;function Uf(t){return t.segments.map(e=>MS(e)).join("/")}function Cl(t,e){if(!t.hasChildren())return Uf(t);if(e){let n=t.children[L]?Cl(t.children[L],!1):"",r=[];return Object.entries(t.children).forEach(([o,i])=>{o!==L&&r.push(`${o}:${Cl(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=MV(t,(r,o)=>o===L?[Cl(t.children[L],!1)]:[`${o}:${Cl(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[L]!=null?`${Uf(t)}/${n[0]}`:`${Uf(t)}/(${n.join("//")})`}}function NS(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Lf(t){return NS(t).replace(/%3B/gi,";")}function PV(t){return encodeURI(t)}function Hy(t){return NS(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bf(t){return decodeURIComponent(t)}function yS(t){return Bf(t.replace(/\+/g,"%20"))}function MS(t){return`${Hy(t.path)}${FV(t.parameters)}`}function FV(t){return Object.entries(t).map(([e,n])=>`;${Hy(e)}=${Hy(n)}`).join("")}function LV(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(o=>`${Lf(n)}=${Lf(o)}`).join("&"):`${Lf(n)}=${Lf(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var jV=/^[^\/()?;#]+/;function Fy(t){let e=t.match(jV);return e?e[0]:""}var VV=/^[^\/()?;=#]+/;function UV(t){let e=t.match(VV);return e?e[0]:""}var BV=/^[^=?&#]+/;function HV(t){let e=t.match(BV);return e?e[0]:""}var $V=/^[^&#]+/;function zV(t){let e=t.match($V);return e?e[0]:""}var $y=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Z([],{}):new Z([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[L]=new Z(e,n)),r}parseSegment(){let e=Fy(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new E(4009,!1);return this.capture(e),new Ur(Bf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=UV(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=Fy(this.remaining);o&&(r=o,this.capture(r))}e[Bf(n)]=Bf(r)}parseQueryParam(e){let n=HV(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=zV(this.remaining);s&&(r=s,this.capture(r))}let o=yS(n),i=yS(r);if(e.hasOwnProperty(o)){let s=e[o];Array.isArray(s)||(s=[s],e[o]=s),s.push(i)}else e[o]=i}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Fy(this.remaining),o=this.remaining[r.length];if(o!=="/"&&o!==")"&&o!==";")throw new E(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=L);let s=this.parseChildren();n[i]=Object.keys(s).length===1?s[L]:new Z([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new E(4011,!1)}};function OS(t){return t.segments.length>0?new Z([],{[L]:t}):t}function PS(t){let e={};for(let[r,o]of Object.entries(t.children)){let i=PS(o);if(r===L&&i.segments.length===0&&i.hasChildren())for(let[s,a]of Object.entries(i.children))e[s]=a;else(i.segments.length>0||i.hasChildren())&&(e[r]=i)}let n=new Z(t.segments,e);return WV(n)}function WV(t){if(t.numberOfChildren===1&&t.children[L]){let e=t.children[L];return new Z(t.segments.concat(e.segments),e.children)}return t}function gs(t){return t instanceof Cn}function FS(t,e,n=null,r=null){let o=LS(t);return jS(o,e,n,r)}function LS(t){let e;function n(i){let s={};for(let l of i.children){let c=n(l);s[l.outlet]=c}let a=new Z(i.url,s);return i===t&&(e=a),a}let r=n(t.root),o=OS(r);return e??o}function jS(t,e,n,r){let o=t;for(;o.parent;)o=o.parent;if(e.length===0)return Ly(o,o,o,n,r);let i=GV(e);if(i.toRoot())return Ly(o,o,new Z([],{}),n,r);let s=qV(i,o,t),a=s.processChildren?Dl(s.segmentGroup,s.index,i.commands):US(s.segmentGroup,s.index,i.commands);return Ly(o,s.segmentGroup,a,n,r)}function Hf(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function kl(t){return typeof t=="object"&&t!=null&&t.outlets}function Ly(t,e,n,r,o){let i={};r&&Object.entries(r).forEach(([l,c])=>{i[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let s;t===e?s=n:s=VS(t,e,n);let a=OS(PS(s));return new Cn(a,i,o)}function VS(t,e,n){let r={};return Object.entries(t.children).forEach(([o,i])=>{i===e?r[o]=n:r[o]=VS(i,e,n)}),new Z(t.segments,r)}var $f=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Hf(r[0]))throw new E(4003,!1);let o=r.find(kl);if(o&&o!==TS(r))throw new E(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function GV(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new $f(!0,0,t);let e=0,n=!1,r=t.reduce((o,i,s)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let a={};return Object.entries(i.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return typeof i!="string"?[...o,i]:s===0?(i.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?e++:a!=""&&o.push(a))}),o):[...o,i]},[]);return new $f(n,e,r)}var hs=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function qV(t,e,n){if(t.isAbsolute)return new hs(e,!0,0);if(!n)return new hs(e,!1,NaN);if(n.parent===null)return new hs(n,!0,0);let r=Hf(t.commands[0])?0:1,o=n.segments.length-1+r;return YV(n,o,t.numberOfDoubleDots)}function YV(t,e,n){let r=t,o=e,i=n;for(;i>o;){if(i-=o,r=r.parent,!r)throw new E(4005,!1);o=r.segments.length}return new hs(r,!1,o-i)}function KV(t){return kl(t[0])?t[0].outlets:{[L]:t}}function US(t,e,n){if(t??=new Z([],{}),t.segments.length===0&&t.hasChildren())return Dl(t,e,n);let r=ZV(t,e,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let i=new Z(t.segments.slice(0,r.pathIndex),{});return i.children[L]=new Z(t.segments.slice(r.pathIndex),t.children),Dl(i,0,o)}else return r.match&&o.length===0?new Z(t.segments,{}):r.match&&!t.hasChildren()?zy(t,e,n):r.match?Dl(t,0,o):zy(t,e,n)}function Dl(t,e,n){if(n.length===0)return new Z(t.segments,{});{let r=KV(n),o={};if(Object.keys(r).some(i=>i!==L)&&t.children[L]&&t.numberOfChildren===1&&t.children[L].segments.length===0){let i=Dl(t.children[L],e,n);return new Z(t.segments,i.children)}return Object.entries(r).forEach(([i,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[i]=US(t.children[i],e,s))}),Object.entries(t.children).forEach(([i,s])=>{r[i]===void 0&&(o[i]=s)}),new Z(t.segments,o)}}function ZV(t,e,n){let r=0,o=e,i={match:!1,pathIndex:0,commandIndex:0};for(;o<t.segments.length;){if(r>=n.length)return i;let s=t.segments[o],a=n[r];if(kl(a))break;let l=`${a}`,c=r<n.length-1?n[r+1]:null;if(o>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!_S(l,c,s))return i;r+=2}else{if(!_S(l,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}function zy(t,e,n){let r=t.segments.slice(0,e),o=0;for(;o<n.length;){let i=n[o];if(kl(i)){let l=QV(i.outlets);return new Z(r,l)}if(o===0&&Hf(n[0])){let l=t.segments[e];r.push(new Ur(l.path,wS(n[0]))),o++;continue}let s=kl(i)?i.outlets[L]:`${i}`,a=o<n.length-1?n[o+1]:null;s&&a&&Hf(a)?(r.push(new Ur(s,wS(a))),o+=2):(r.push(new Ur(s,{})),o++)}return new Z(r,{})}function QV(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=zy(new Z([],{}),0,r))}),e}function wS(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function _S(t,e,n){return t==n.path&&En(e,n.parameters)}var Tl="imperative",Oe=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Oe||{}),wt=class{id;url;constructor(e,n){this.id=e,this.url=n}},Qo=class extends wt{type=Oe.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",o=null){super(e,n),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Qn=class extends wt{urlAfterRedirects;type=Oe.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ke=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t}(Ke||{}),Al=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Al||{}),In=class extends wt{reason;code;type=Oe.NavigationCancel;constructor(e,n,r,o){super(e,n),this.reason=r,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Jn=class extends wt{reason;code;type=Oe.NavigationSkipped;constructor(e,n,r,o){super(e,n),this.reason=r,this.code=o}},bs=class extends wt{error;target;type=Oe.NavigationError;constructor(e,n,r,o){super(e,n),this.error=r,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Rl=class extends wt{urlAfterRedirects;state;type=Oe.RoutesRecognized;constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zf=class extends wt{urlAfterRedirects;state;type=Oe.GuardsCheckStart;constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wf=class extends wt{urlAfterRedirects;state;shouldActivate;type=Oe.GuardsCheckEnd;constructor(e,n,r,o,i){super(e,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Gf=class extends wt{urlAfterRedirects;state;type=Oe.ResolveStart;constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qf=class extends wt{urlAfterRedirects;state;type=Oe.ResolveEnd;constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yf=class{route;type=Oe.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Kf=class{route;type=Oe.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Zf=class{snapshot;type=Oe.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Qf=class{snapshot;type=Oe.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Jf=class{snapshot;type=Oe.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Xf=class{snapshot;type=Oe.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Nl=class{},vs=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function JV(t){return!(t instanceof Nl)&&!(t instanceof vs)}function XV(t,e){return t.providers&&!t._injector&&(t._injector=ia(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Jt(t){return t.outlet||L}function eU(t,e){let n=t.filter(r=>Jt(r)===e);return n.push(...t.filter(r=>Jt(r)!==e)),n}function _s(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var ep=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return _s(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Es(this.rootInjector)}},Es=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new ep(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(S(he))};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),tp=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Wy(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Wy(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Gy(e,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return Gy(e,this._root).map(n=>n.value)}};function Wy(t,e){if(t===e.value)return e;for(let n of e.children){let r=Wy(t,n);if(r)return r}return null}function Gy(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Gy(t,n);if(r.length)return r.unshift(e),r}return[]}var yt=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function ps(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Ml=class extends tp{snapshot;constructor(e,n){super(e),this.snapshot=n,ew(this,e)}toString(){return this.snapshot.toString()}};function BS(t){let e=tU(t),n=new xe([new Ur("",{})]),r=new xe({}),o=new xe({}),i=new xe({}),s=new xe(""),a=new Br(n,r,i,s,o,L,t,e.root);return a.snapshot=e.root,new Ml(new yt(a,[]),e)}function tU(t){let e={},n={},r={},o="",i=new Yo([],e,r,o,n,L,t,null,{});return new Ol("",new yt(i,[]))}var Br=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,o,i,s,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(V(c=>c[jl]))??R(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(V(e=>Ko(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(V(e=>Ko(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function np(t,e,n="emptyOnly"){let r,{routeConfig:o}=t;return e!==null&&(n==="always"||o?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:y(y({},e.params),t.params),data:y(y({},e.data),t.data),resolve:y(y(y(y({},t.data),e.data),o?.data),t._resolvedData)}:r={params:y({},t.params),data:y({},t.data),resolve:y(y({},t.data),t._resolvedData??{})},o&&$S(o)&&(r.resolve[jl]=o.title),r}var Yo=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[jl]}constructor(e,n,r,o,i,s,a,l,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ko(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ko(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Ol=class extends tp{url;constructor(e,n){super(n),this.url=e,ew(this,n)}toString(){return HS(this._root)}};function ew(t,e){e.value._routerState=t,e.children.forEach(n=>ew(t,n))}function HS(t){let e=t.children.length>0?` { ${t.children.map(HS).join(", ")} } `:"";return`${t.value}${e}`}function jy(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,En(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),En(e.params,n.params)||t.paramsSubject.next(n.params),SV(e.url,n.url)||t.urlSubject.next(n.url),En(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function qy(t,e){let n=En(t.params,e.params)&&NV(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||qy(t.parent,e.parent))}function $S(t){return typeof t.title=="string"||t.title===null}var zS=new x(""),Ul=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=L;activateEvents=new fe;deactivateEvents=new fe;attachEvents=new fe;detachEvents=new fe;routerOutletData=KE(void 0);parentContexts=g(Es);location=g(mo);changeDetector=g(Er);inputBinder=g(sp,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new E(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new E(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new E(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new E(4013,!1);this._activatedRoute=n;let o=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Yy(n,a,o.injector,this.routerOutletData);this.activated=o.createComponent(s,{index:o.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=le({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Ut]})}return t})(),Yy=class{route;childContexts;parent;outletData;constructor(e,n,r,o){this.route=e,this.childContexts=n,this.parent=r,this.outletData=o}get(e,n){return e===Br?this.route:e===Es?this.childContexts:e===zS?this.outletData:this.parent.get(e,n)}},sp=new x("");var tw=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=gt({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,o){r&1&&ge(0,"router-outlet")},dependencies:[Ul],encapsulation:2})}return t})();function nw(t){let e=t.children&&t.children.map(nw),n=e?M(y({},t),{children:e}):y({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==L&&(n.component=tw),n}function nU(t,e,n){let r=Pl(t,e._root,n?n._root:void 0);return new Ml(r,e)}function Pl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let o=rU(t,e,n);return new yt(r,o)}else{if(t.shouldAttach(e.value)){let i=t.retrieve(e.value);if(i!==null){let s=i.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Pl(t,a)),s}}let r=oU(e.value),o=e.children.map(i=>Pl(t,i));return new yt(r,o)}}function rU(t,e,n){return e.children.map(r=>{for(let o of n.children)if(t.shouldReuseRoute(r.value,o.value.snapshot))return Pl(t,r,o);return Pl(t,r)})}function oU(t){return new Br(new xe(t.url),new xe(t.params),new xe(t.queryParams),new xe(t.fragment),new xe(t.data),t.outlet,t.component,t)}var ys=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},WS="ngNavigationCancelingError";function rp(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=gs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=GS(!1,Ke.Redirect);return o.url=n,o.navigationBehaviorOptions=r,o}function GS(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[WS]=!0,n.cancellationCode=e,n}function iU(t){return qS(t)&&gs(t.url)}function qS(t){return!!t&&t[WS]}var sU=(t,e,n,r)=>V(o=>(new Ky(e,o.targetRouterState,o.currentRouterState,n,r).activate(t),o)),Ky=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,o,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),jy(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let o=ps(n);e.children.forEach(i=>{let s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(e,n,r){let o=e.value,i=n?n.value:null;if(o===i)if(o.component){let s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else i&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),o=r&&e.value.component?r.children:n,i=ps(e);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),o=r&&e.value.component?r.children:n,i=ps(e);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let o=ps(n);e.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new Xf(i.value.snapshot))}),e.children.length&&this.forwardEvent(new Qf(e.value.snapshot))}activateRoutes(e,n,r){let o=e.value,i=n?n.value:null;if(jy(o),o===i)if(o.component){let s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(o.component){let s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),jy(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},op=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ms=class{component;route;constructor(e,n){this.component=e,this.route=n}};function aU(t,e,n){let r=t._root,o=e?e._root:null;return xl(r,o,n,[r.value])}function lU(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Is(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!nh(t)?t:e.get(t):r}function xl(t,e,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=ps(e);return t.children.forEach(s=>{cU(s,i[s.value.outlet],n,r.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>Sl(a,n.getContext(s),o)),o}function cU(t,e,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){let l=dU(s,i,i.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new op(r)):(i.data=s.data,i._resolvedData=s._resolvedData),i.component?xl(t,e,a?a.children:null,r,o):xl(t,e,n,r,o),l&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new ms(a.outlet.component,s))}else s&&Sl(e,a,o),o.canActivateChecks.push(new op(r)),i.component?xl(t,null,a?a.children:null,r,o):xl(t,null,n,r,o);return o}function dU(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!qo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!qo(t.url,e.url)||!En(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qy(t,e)||!En(t.queryParams,e.queryParams);case"paramsChange":default:return!qy(t,e)}}function Sl(t,e,n){let r=ps(t),o=t.value;Object.entries(r).forEach(([i,s])=>{o.component?e?Sl(s,e.children.getContext(i),n):Sl(s,null,n):Sl(s,e,n)}),o.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ms(e.outlet.component,o)):n.canDeactivateChecks.push(new ms(null,o)):n.canDeactivateChecks.push(new ms(null,o))}function Bl(t){return typeof t=="function"}function uU(t){return typeof t=="boolean"}function fU(t){return t&&Bl(t.canLoad)}function pU(t){return t&&Bl(t.canActivate)}function hU(t){return t&&Bl(t.canActivateChild)}function mU(t){return t&&Bl(t.canDeactivate)}function gU(t){return t&&Bl(t.canMatch)}function YS(t){return t instanceof Dn||t?.name==="EmptyError"}var jf=Symbol("INITIAL_VALUE");function ws(){return Xe(t=>Tc(t.map(e=>e.pipe(Tn(1),Up(jf)))).pipe(V(e=>{for(let n of e)if(n!==!0){if(n===jf)return jf;if(n===!1||bU(n))return n}return!0}),Je(e=>e!==jf),Tn(1)))}function bU(t){return gs(t)||t instanceof ys}function vU(t,e){return De(n=>{let{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=n;return s.length===0&&i.length===0?R(M(y({},n),{guardsResult:!0})):yU(s,r,o,t).pipe(De(a=>a&&uU(a)?wU(r,i,t,e):R(a)),V(a=>M(y({},n),{guardsResult:a})))})}function yU(t,e,n,r){return de(t).pipe(De(o=>xU(o.component,o.route,n,e,r)),Sn(o=>o!==!0,!0))}function wU(t,e,n,r){return de(e).pipe(ir(o=>pi(EU(o.route.parent,r),_U(o.route,r),CU(t,o.path,n),IU(t,o.route,n))),Sn(o=>o!==!0,!0))}function _U(t,e){return t!==null&&e&&e(new Jf(t)),R(!0)}function EU(t,e){return t!==null&&e&&e(new Zf(t)),R(!0)}function IU(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return R(!0);let o=r.map(i=>Rs(()=>{let s=_s(e)??n,a=Is(i,s),l=pU(a)?a.canActivate(e,t):me(s,()=>a(e,t));return Xn(l).pipe(Sn())}));return R(o).pipe(ws())}function CU(t,e,n){let r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(s=>lU(s)).filter(s=>s!==null).map(s=>Rs(()=>{let a=s.guards.map(l=>{let c=_s(s.node)??n,d=Is(l,c),u=hU(d)?d.canActivateChild(r,t):me(c,()=>d(r,t));return Xn(u).pipe(Sn())});return R(a).pipe(ws())}));return R(i).pipe(ws())}function xU(t,e,n,r,o){let i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!i||i.length===0)return R(!0);let s=i.map(a=>{let l=_s(e)??o,c=Is(a,l),d=mU(c)?c.canDeactivate(t,e,n,r):me(l,()=>c(t,e,n,r));return Xn(d).pipe(Sn())});return R(s).pipe(ws())}function DU(t,e,n,r){let o=e.canLoad;if(o===void 0||o.length===0)return R(!0);let i=o.map(s=>{let a=Is(s,t),l=fU(a)?a.canLoad(e,n):me(t,()=>a(e,n));return Xn(l)});return R(i).pipe(ws(),KS(r))}function KS(t){return Sp(Re(e=>{if(typeof e!="boolean")throw rp(t,e)}),V(e=>e===!0))}function TU(t,e,n,r){let o=e.canMatch;if(!o||o.length===0)return R(!0);let i=o.map(s=>{let a=Is(s,t),l=gU(a)?a.canMatch(e,n):me(t,()=>a(e,n));return Xn(l)});return R(i).pipe(ws(),KS(r))}var Fl=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Ll=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function fs(t){return fi(new Fl(t))}function SU(t){return fi(new E(4e3,!1))}function kU(t){return fi(GS(!1,Ke.GuardRejected))}var Zy=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),o.numberOfChildren===0)return R(r);if(o.numberOfChildren>1||!o.children[L])return SU(`${e.redirectTo}`);o=o.children[L]}}applyRedirectCommands(e,n,r,o,i){return AU(n,o,i).pipe(V(s=>{if(s instanceof Cn)throw new Ll(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new Ll(a);return a}))}applyRedirectCreateUrlTree(e,n,r,o){let i=this.createSegmentGroup(e,n.root,r,o);return new Cn(i,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([o,i])=>{if(typeof i=="string"&&i[0]===":"){let a=i.substring(1);r[o]=n[a]}else r[o]=i}),r}createSegmentGroup(e,n,r,o){let i=this.createSegments(e,n.segments,r,o),s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,o)}),new Z(i,s)}createSegments(e,n,r,o){return n.map(i=>i.path[0]===":"?this.findPosParam(e,i,o):this.findOrReturn(i,r))}findPosParam(e,n,r){let o=r[n.path.substring(1)];if(!o)throw new E(4001,!1);return o}findOrReturn(e,n){let r=0;for(let o of n){if(o.path===e.path)return n.splice(r),o;r++}return e}};function AU(t,e,n){if(typeof t=="string")return R(t);let r=t,{queryParams:o,fragment:i,routeConfig:s,url:a,outlet:l,params:c,data:d,title:u}=e;return Xn(me(n,()=>r({params:c,data:d,queryParams:o,fragment:i,routeConfig:s,url:a,outlet:l,title:u})))}var Qy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function RU(t,e,n,r,o){let i=ZS(t,e,n);return i.matched?(r=XV(e,r),TU(r,e,n,o).pipe(V(s=>s===!0?i:y({},Qy)))):R(i)}function ZS(t,e,n){if(e.path==="**")return NU(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?y({},Qy):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let o=(e.matcher||xS)(n,t,e);if(!o)return y({},Qy);let i={};Object.entries(o.posParams??{}).forEach(([a,l])=>{i[a]=l.path});let s=o.consumed.length>0?y(y({},i),o.consumed[o.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function NU(t){return{matched:!0,parameters:t.length>0?TS(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function ES(t,e,n,r){return n.length>0&&PU(t,n,r)?{segmentGroup:new Z(e,OU(r,new Z(n,t.children))),slicedSegments:[]}:n.length===0&&FU(t,n,r)?{segmentGroup:new Z(t.segments,MU(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Z(t.segments,t.children),slicedSegments:n}}function MU(t,e,n,r){let o={};for(let i of n)if(ap(t,e,i)&&!r[Jt(i)]){let s=new Z([],{});o[Jt(i)]=s}return y(y({},r),o)}function OU(t,e){let n={};n[L]=e;for(let r of t)if(r.path===""&&Jt(r)!==L){let o=new Z([],{});n[Jt(r)]=o}return n}function PU(t,e,n){return n.some(r=>ap(t,e,r)&&Jt(r)!==L)}function FU(t,e,n){return n.some(r=>ap(t,e,r))}function ap(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function LU(t,e,n){return e.length===0&&!t.children[n]}var Jy=class{};function jU(t,e,n,r,o,i,s="emptyOnly"){return new Xy(t,e,n,r,o,s,i).recognize()}var VU=31,Xy=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,o,i,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Zy(this.urlSerializer,this.urlTree)}noMatchError(e){return new E(4002,`'${e.segmentGroup}'`)}recognize(){let e=ES(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(V(({children:n,rootSnapshot:r})=>{let o=new yt(r,n),i=new Ol("",o),s=FS(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),{state:i,tree:s}}))}match(e){let n=new Yo([],Object.freeze({}),Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),L,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,L,n).pipe(V(r=>({children:r,rootSnapshot:n})),or(r=>{if(r instanceof Ll)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Fl?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,o,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,i):this.processSegment(e,n,r,r.segments,o,!0,i).pipe(V(s=>s instanceof yt?[s]:[]))}processChildren(e,n,r,o){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return de(i).pipe(ir(s=>{let a=r.children[s],l=eU(n,s);return this.processSegmentGroup(e,l,a,s,o)}),Vp((s,a)=>(s.push(...a),s)),sr(null),jp(),De(s=>{if(s===null)return fs(r);let a=QS(s);return UU(a),R(a)}))}processSegment(e,n,r,o,i,s,a){return de(n).pipe(ir(l=>this.processSegmentAgainstRoute(l._injector??e,n,l,r,o,i,s,a).pipe(or(c=>{if(c instanceof Fl)return R(null);throw c}))),Sn(l=>!!l),or(l=>{if(YS(l))return LU(r,o,i)?R(new Jy):fs(r);throw l}))}processSegmentAgainstRoute(e,n,r,o,i,s,a,l){return Jt(r)!==s&&(s===L||!ap(o,i,r))?fs(o):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,o,r,i,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,o,n,r,i,s,l):fs(o)}expandSegmentAgainstRouteUsingRedirect(e,n,r,o,i,s,a){let{matched:l,parameters:c,consumedSegments:d,positionalParamSegments:u,remainingSegments:f}=ZS(n,o,i);if(!l)return fs(n);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>VU&&(this.allowRedirects=!1));let p=new Yo(i,c,Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,IS(o),Jt(o),o.component??o._loadedComponent??null,o,CS(o)),m=np(p,a,this.paramsInheritanceStrategy);return p.params=Object.freeze(m.params),p.data=Object.freeze(m.data),this.applyRedirects.applyRedirectCommands(d,o.redirectTo,u,p,e).pipe(Xe(b=>this.applyRedirects.lineralizeSegments(o,b)),De(b=>this.processSegment(e,r,n,b.concat(f),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,o,i,s){let a=RU(n,r,o,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Xe(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,o).pipe(Xe(({routes:c})=>{let d=r._loadedInjector??e,{parameters:u,consumedSegments:f,remainingSegments:p}=l,m=new Yo(f,u,Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,IS(r),Jt(r),r.component??r._loadedComponent??null,r,CS(r)),w=np(m,s,this.paramsInheritanceStrategy);m.params=Object.freeze(w.params),m.data=Object.freeze(w.data);let{segmentGroup:b,slicedSegments:C}=ES(n,f,p,c);if(C.length===0&&b.hasChildren())return this.processChildren(d,c,b,m).pipe(V(ae=>new yt(m,ae)));if(c.length===0&&C.length===0)return R(new yt(m,[]));let oe=Jt(r)===i;return this.processSegment(d,c,b,C,oe?L:i,!0,m).pipe(V(ae=>new yt(m,ae instanceof yt?[ae]:[])))}))):fs(n)))}getChildConfig(e,n,r){return n.children?R({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?R({routes:n._loadedRoutes,injector:n._loadedInjector}):DU(e,n,r,this.urlSerializer).pipe(De(o=>o?this.configLoader.loadChildren(e,n).pipe(Re(i=>{n._loadedRoutes=i.routes,n._loadedInjector=i.injector})):kU(n))):R({routes:[],injector:e})}};function UU(t){t.sort((e,n)=>e.value.outlet===L?-1:n.value.outlet===L?1:e.value.outlet.localeCompare(n.value.outlet))}function BU(t){let e=t.value.routeConfig;return e&&e.path===""}function QS(t){let e=[],n=new Set;for(let r of t){if(!BU(r)){e.push(r);continue}let o=e.find(i=>r.value.routeConfig===i.value.routeConfig);o!==void 0?(o.children.push(...r.children),n.add(o)):e.push(r)}for(let r of n){let o=QS(r.children);e.push(new yt(r.value,o))}return e.filter(r=>!n.has(r))}function IS(t){return t.data||{}}function CS(t){return t.resolve||{}}function HU(t,e,n,r,o,i){return De(s=>jU(t,e,n,r,s.extractedUrl,o,i).pipe(V(({state:a,tree:l})=>M(y({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function $U(t,e){return De(n=>{let{targetSnapshot:r,guards:{canActivateChecks:o}}=n;if(!o.length)return R(n);let i=new Set(o.map(l=>l.route)),s=new Set;for(let l of i)if(!s.has(l))for(let c of JS(l))s.add(c);let a=0;return de(s).pipe(ir(l=>i.has(l)?zU(l,r,t,e):(l.data=np(l,l.parent,t).resolve,R(void 0))),Re(()=>a++),hi(1),De(l=>a===s.size?R(n):Ze))})}function JS(t){let e=t.children.map(n=>JS(n)).flat();return[t,...e]}function zU(t,e,n,r){let o=t.routeConfig,i=t._resolve;return o?.title!==void 0&&!$S(o)&&(i[jl]=o.title),Rs(()=>(t.data=np(t,t.parent,n).resolve,WU(i,t,e,r).pipe(V(s=>(t._resolvedData=s,t.data=y(y({},t.data),s),null)))))}function WU(t,e,n,r){let o=By(t);if(o.length===0)return R({});let i={};return de(o).pipe(De(s=>GU(t[s],e,n,r).pipe(Sn(),Re(a=>{if(a instanceof ys)throw rp(new Zo,a);i[s]=a}))),hi(1),V(()=>i),or(s=>YS(s)?Ze:fi(s)))}function GU(t,e,n,r){let o=_s(e)??r,i=Is(t,o),s=i.resolve?i.resolve(e,n):me(o,()=>i(e,n));return Xn(s)}function Vy(t){return Xe(e=>{let n=t(e);return n?de(n).pipe(V(()=>e)):R(e)})}var rw=(()=>{class t{buildTitle(n){let r,o=n.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===L);return r}getResolvedTitleForRoute(n){return n.data[jl]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:()=>g(XS),providedIn:"root"})}return t})(),XS=(()=>{class t extends rw{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(S(KI))};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Hl=new x("",{providedIn:"root",factory:()=>({})}),$l=new x(""),ek=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=g(tg);loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return R(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let o=Xn(me(n,()=>r.loadComponent())).pipe(V(nk),Re(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),ar(()=>{this.componentLoaders.delete(r)})),i=new li(o,()=>new Ce).pipe(ai());return this.componentLoaders.set(r,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return R({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=tk(r,this.compiler,n,this.onLoadEndListener).pipe(ar(()=>{this.childrenLoaders.delete(r)})),s=new li(i,()=>new Ce).pipe(ai());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function tk(t,e,n,r){return Xn(me(n,()=>t.loadChildren())).pipe(V(nk),De(o=>o instanceof Ad||Array.isArray(o)?R(o):de(e.compileModuleAsync(o))),V(o=>{r&&r(t);let i,s,a=!1;return Array.isArray(o)?(s=o,a=!0):(i=o.create(n).injector,s=i.get($l,[],{optional:!0,self:!0}).flat()),{routes:s.map(nw),injector:i}}))}function qU(t){return t&&typeof t=="object"&&"default"in t}function nk(t){return qU(t)?t.default:t}var lp=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:()=>g(YU),providedIn:"root"})}return t})(),YU=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),rk=new x("");var ok=new x(""),ik=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Ce;transitionAbortWithErrorSubject=new Ce;configLoader=g(ek);environmentInjector=g(he);destroyRef=g(Tt);urlSerializer=g(Vl);rootContexts=g(Es);location=g(Ai);inputBindingEnabled=g(sp,{optional:!0})!==null;titleStrategy=g(rw);options=g(Hl,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=g(lp);createViewTransition=g(rk,{optional:!0});navigationErrorHandler=g(ok,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>R(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=o=>this.events.next(new Yf(o)),r=o=>this.events.next(new Kf(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(M(y({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))}setupNavigations(n){return this.transitions=new xe(null),this.transitions.pipe(Je(r=>r!==null),Xe(r=>{let o=!1;return R(r).pipe(Xe(i=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Ke.SupersededByNewNavigation),Ze;this.currentTransition=r,this.currentNavigation={id:i.id,initialUrl:i.rawUrl,extractedUrl:i.extractedUrl,targetBrowserUrl:typeof i.extras.browserUrl=="string"?this.urlSerializer.parse(i.extras.browserUrl):i.extras.browserUrl,trigger:i.source,extras:i.extras,previousNavigation:this.lastSuccessfulNavigation?M(y({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>i.abortController.abort()};let s=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=i.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!s&&a!=="reload"){let l="";return this.events.next(new Jn(i.id,this.urlSerializer.serialize(i.rawUrl),l,Al.IgnoredSameUrlNavigation)),i.resolve(!1),Ze}if(this.urlHandlingStrategy.shouldProcessUrl(i.rawUrl))return R(i).pipe(Xe(l=>(this.events.next(new Qo(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Ze:Promise.resolve(l))),HU(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Re(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=M(y({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let c=new Rl(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(i.currentRawUrl)){let{id:l,extractedUrl:c,source:d,restoredState:u,extras:f}=i,p=new Qo(l,this.urlSerializer.serialize(c),d,u);this.events.next(p);let m=BS(this.rootComponentType).snapshot;return this.currentTransition=r=M(y({},i),{targetSnapshot:m,urlAfterRedirects:c,extras:M(y({},f),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=c,R(r)}else{let l="";return this.events.next(new Jn(i.id,this.urlSerializer.serialize(i.extractedUrl),l,Al.IgnoredByUrlHandlingStrategy)),i.resolve(!1),Ze}}),Re(i=>{let s=new zf(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot);this.events.next(s)}),V(i=>(this.currentTransition=r=M(y({},i),{guards:aU(i.targetSnapshot,i.currentSnapshot,this.rootContexts)}),r)),vU(this.environmentInjector,i=>this.events.next(i)),Re(i=>{if(r.guardsResult=i.guardsResult,i.guardsResult&&typeof i.guardsResult!="boolean")throw rp(this.urlSerializer,i.guardsResult);let s=new Wf(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot,!!i.guardsResult);this.events.next(s)}),Je(i=>i.guardsResult?!0:(this.cancelNavigationTransition(i,"",Ke.GuardRejected),!1)),Vy(i=>{if(i.guards.canActivateChecks.length!==0)return R(i).pipe(Re(s=>{let a=new Gf(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Xe(s=>{let a=!1;return R(s).pipe($U(this.paramsInheritanceStrategy,this.environmentInjector),Re({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Ke.NoDataFromResolver)}}))}),Re(s=>{let a=new qf(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),Vy(i=>{let s=a=>{let l=[];if(a.routeConfig?.loadComponent&&!a.routeConfig._loadedComponent){let c=_s(a)??this.environmentInjector;l.push(this.configLoader.loadComponent(c,a.routeConfig).pipe(Re(d=>{a.component=d}),V(()=>{})))}for(let c of a.children)l.push(...s(c));return l};return Tc(s(i.targetSnapshot.root)).pipe(sr(null),Tn(1))}),Vy(()=>this.afterPreactivation()),Xe(()=>{let{currentSnapshot:i,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,i.root,s.root);return a?de(a).pipe(V(()=>r)):R(r)}),V(i=>{let s=nU(n.routeReuseStrategy,i.targetSnapshot,i.currentRouterState);return this.currentTransition=r=M(y({},i),{targetRouterState:s}),this.currentNavigation.targetRouterState=s,r}),Re(()=>{this.events.next(new Nl)}),sU(this.rootContexts,n.routeReuseStrategy,i=>this.events.next(i),this.inputBindingEnabled),Tn(1),kc(new P(i=>{let s=r.abortController.signal,a=()=>i.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(Je(()=>!o&&!r.targetRouterState),Re(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Ke.Aborted)}))),Re({next:i=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Qn(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects))),this.titleStrategy?.updateTitle(i.targetRouterState.snapshot),i.resolve(!0)},complete:()=>{o=!0}}),kc(this.transitionAbortWithErrorSubject.pipe(Re(i=>{throw i}))),ar(()=>{o||this.cancelNavigationTransition(r,"",Ke.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),or(i=>{if(this.destroyed)return r.resolve(!1),Ze;if(o=!0,qS(i))this.events.next(new In(r.id,this.urlSerializer.serialize(r.extractedUrl),i.message,i.cancellationCode)),iU(i)?this.events.next(new vs(i.url,i.navigationBehaviorOptions)):r.resolve(!1);else{let s=new bs(r.id,this.urlSerializer.serialize(r.extractedUrl),i,r.targetSnapshot??void 0);try{let a=me(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof ys){let{message:l,cancellationCode:c}=rp(this.urlSerializer,a);this.events.next(new In(r.id,this.urlSerializer.serialize(r.extractedUrl),l,c)),this.events.next(new vs(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),i}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Ze}))}))}cancelNavigationTransition(n,r,o){let i=new In(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(i),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function KU(t){return t!==Tl}var sk=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:()=>g(ZU),providedIn:"root"})}return t})(),ip=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},ZU=(()=>{class t extends ip{static \u0275fac=(()=>{let n;return function(o){return(n||(n=Pn(t)))(o||t)}})();static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ak=(()=>{class t{urlSerializer=g(Vl);options=g(Hl,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=g(Ai);urlHandlingStrategy=g(lp);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Cn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:o}){let i=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=o??i;return s instanceof Cn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:o}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,o),this.routerState=n):this.rawUrlTree=o}routerState=BS(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:()=>g(QU),providedIn:"root"})}return t})(),QU=(()=>{class t extends ak{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Qo?this.updateStateMemento():n instanceof Jn?this.commitTransition(r):n instanceof Rl?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Nl?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof In&&n.code!==Ke.SupersededByNewNavigation&&n.code!==Ke.Redirect?this.restoreHistory(r):n instanceof bs?this.restoreHistory(r,!0):n instanceof Qn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:o}){let{replaceUrl:i,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||i){let a=this.browserPageId,l=y(y({},s),this.generateNgRouterState(o,a));this.location.replaceState(n,"",l)}else{let a=y(y({},s),this.generateNgRouterState(o,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,i=this.currentPageId-o;i!==0?this.location.historyGo(i):this.getCurrentUrlTree()===n.finalUrl&&i===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(o){return(n||(n=Pn(t)))(o||t)}})();static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ow(t,e){t.events.pipe(Je(n=>n instanceof Qn||n instanceof In||n instanceof bs||n instanceof Jn),V(n=>n instanceof Qn||n instanceof Jn?0:(n instanceof In?n.code===Ke.Redirect||n.code===Ke.SupersededByNewNavigation:!1)?2:1),Je(n=>n!==2),Tn(1)).subscribe(()=>{e()})}var JU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},XU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},xn=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=g(qm);stateManager=g(ak);options=g(Hl,{optional:!0})||{};pendingTasks=g(sn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=g(ik);urlSerializer=g(Vl);location=g(Ai);urlHandlingStrategy=g(lp);injector=g(he);_events=new Ce;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=g(sk);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=g($l,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!g(sp,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ce;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,i=this.navigationTransitions.currentNavigation;if(o!==null&&i!==null){if(this.stateManager.handleRouterEvent(r,i),r instanceof In&&r.code!==Ke.Redirect&&r.code!==Ke.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Qn)this.navigated=!0;else if(r instanceof vs){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),l=y({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||KU(o.source)},s);this.scheduleNavigation(a,Tl,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}JV(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortWithErrorSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Tl,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,o)=>{this.navigateToSyncWithBrowser(n,o,r)})}navigateToSyncWithBrowser(n,r,o){let i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let l=y({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(i.state=l)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,i).catch(l=>{this.disposed||this.injector.get(mt)(l)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(nw),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=y(y({},this.currentUrlTree.queryParams),i);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=i||null}d!==null&&(d=this.removeEmptyProps(d));let u;try{let f=o?o.snapshot:this.routerState.snapshot.root;u=LS(f)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),u=this.currentUrlTree.root}return jS(u,n,d,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){let o=gs(n)?n:this.parseUrl(n),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,Tl,null,r)}navigate(n,r={skipLocationChange:!1}){return eB(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let o;if(r===!0?o=y({},JU):r===!1?o=y({},XU):o=r,gs(n))return vS(this.currentUrlTree,n,o);let i=this.parseUrl(n);return vS(this.currentUrlTree,i,o)}removeEmptyProps(n){return Object.entries(n).reduce((r,[o,i])=>(i!=null&&(r[o]=i),r),{})}scheduleNavigation(n,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((u,f)=>{a=u,l=f});let d=this.pendingTasks.add();return ow(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:i,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(u=>Promise.reject(u))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function eB(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new E(4008,!1)}var nB=new x("");function iw(t,...e){return tn([{provide:$l,multi:!0,useValue:t},[],{provide:Br,useFactory:rB,deps:[xn]},{provide:Md,multi:!0,useFactory:oB},e.map(n=>n.\u0275providers)])}function rB(t){return t.routerState.root}function oB(){let t=g(we);return e=>{let n=t.get(Ln);if(e!==n.components[0])return;let r=t.get(xn),o=t.get(iB);t.get(sB)===1&&r.initialNavigation(),t.get(aB,null,{optional:!0})?.setUpPreloading(),t.get(nB,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var iB=new x("",{factory:()=>new Ce}),sB=new x("",{providedIn:"root",factory:()=>1});var aB=new x("");var cp=class t{title=St("MalaKara");static \u0275fac=function(n){return new(n||t)};static \u0275cmp=gt({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){n&1&&ge(0,"router-outlet")},dependencies:[Ul],encapsulation:2})};var lk={production:!1,firebaseConfig:{apiKey:"AIzaSyDZoWzdNmzy79C8IyPBn_-3khU6EaQHaKc",authDomain:"malacara-acc1c.firebaseapp.com",projectId:"malacara-acc1c",storageBucket:"malacara-acc1c.firebasestorage.app",messagingSenderId:"936372579454",appId:"1:936372579454:web:9e0781dcc63f3ab5a0bc2f",databaseURL:"https://malacara-acc1c-default-rtdb.europe-west1.firebasedatabase.app/"}};var Cs=class t{constructor(e){this.db=e;this.auth.onAuthStateChanged(n=>{this.loggedIn.next(!!n)})}auth=Uu();loggedIn=new xe(!1);get isLoggedIn(){return this.loggedIn.asObservable()}register(e,n,r){return Lu(this.auth,e,n).then(o=>{let i=o.user.uid;return FT(Lr(this.db,`users/${i}`),{email:e,name:r||"",role:"manager",createdAt:new Date().toISOString()}).then(()=>o)})}login(e,n){return ju(this.auth,e,n)}logout(){return this.auth.signOut()}static \u0275fac=function(n){return new(n||t)(S(Qt))};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})};var xs=class t{constructor(e){this.db=e;this.partiesRef=Lr(this.db,"parties")}partiesRef;createParty(e){return h(this,null,function*(){let n=fl(),r=Lr(n,"parties");yield yf(r,e)})}getParties(){return new Promise((e,n)=>{let r=fl(),o=Lr(r,"parties");PT(o,i=>{let s=i.val();if(!s){e([]);return}let a=Object.values(s),l=new Date,c=a.filter(d=>{if(!d.date||typeof d.date!="string"||!d.startTime||typeof d.startTime!="string"||!d.endTime||typeof d.endTime!="string")return!1;let u=d.date.split("-").map(Number),f=d.startTime.split(":").map(Number),p=d.endTime.split(":").map(Number);if(u.length!==3||u.some(isNaN)||f.length!==2||f.some(isNaN)||p.length!==2||p.some(isNaN))return!1;let[m,w,b]=u,[C,oe]=f,[ae,J]=p,er=new Date(m,w-1,b,C,oe),Xt=new Date(m,w-1,b,ae,J);return Xt<=er&&Xt.setDate(Xt.getDate()+1),l<=Xt});e(c)},i=>{n(i)})})}static \u0275fac=function(n){return new(n||t)(S(Qt))};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})};function cB(t,e){if(t&1){let n=bo();I(0,"button",30),Ne("click",function(){Te(n);let o=Pd();return Se(o.addParty())}),k(1," Crear fiesta "),_()}}function dB(t,e){t&1&&(I(0,"div",31),k(1," No hay eventos disponibles por ahora. \xA1Pronto habr\xE1 novedades! "),_())}function uB(t,e){if(t&1&&(I(0,"div",34)(1,"div",35)(2,"div",36)(3,"div",37),ge(4,"img",38),_(),I(5,"div",39)(6,"div")(7,"div",40),k(8),Xm(9,"date"),_(),I(10,"h5",41),k(11),_(),I(12,"p",42)(13,"strong"),k(14,"Lugar:"),_(),k(15),_(),I(16,"p",42)(17,"strong"),k(18,"Hora:"),_(),k(19),_()(),I(20,"div",43)(21,"span",44),k(22),_(),I(23,"span",44),k(24),_()()()()()()),t&2){let n=e.$implicit;q(4),Le("alt",Jm(n.name))("src",n.photo||"https://via.placeholder.com/400x300?text=Evento",Dm),q(4),vo(eg(9,10,n.date,"EEE, d MMM")),q(3),vo(n.name),q(4),la(" ",n.place),q(4),Ld(" ",n.startTime," \u2013 ",n.endTime),q(3),vo(n.dressCode),q(2),vo(n.musicType)}}function fB(t,e){if(t&1&&(I(0,"div",32),un(1,uB,25,13,"div",33),_()),t&2){let n=Pd();q(),Le("ngForOf",n.parties)}}var dp=class t{constructor(e,n,r){this.authService=e;this.partyService=n;this.router=r;this.authService.isLoggedIn.subscribe(o=>this.isLoggedIn=o)}isLoggedIn=!1;parties=[];isLoading=!0;errorMessage="";ngOnInit(){this.partyService.getParties().then(e=>{this.parties=e,this.isLoading=!1}).catch(e=>{this.errorMessage="Error cargando fiestas",console.error(e),this.isLoading=!1})}getPartyStatus(e){let n=new Date,[r,o,i]=e.date.split("-").map(Number),[s,a]=e.startTime.split(":").map(Number),[l,c]=e.endTime.split(":").map(Number),d=new Date(r,o-1,i,s,a),u=new Date(r,o-1,i,l,c);return u<=d&&u.setDate(u.getDate()+1),n<d?"upcoming":n>=d&&n<=u?"ongoing":"ended"}addParty(){this.router.navigate(["/create-party"])}openContact(){this.router.navigate(["/contacto"])}static \u0275fac=function(n){return new(n||t)(T(Cs),T(xs),T(xn))};static \u0275cmp=gt({type:t,selectors:[["app-dashboard"]],decls:61,vars:3,consts:[[1,"hero","bg-dark","text-white","text-center","py-5","mb-5"],[1,"container"],[1,"display-4","fw-bold"],[1,"lead"],["class","btn btn-outline-light btn-lg mt-3 ms-3",3,"click",4,"ngIf"],[1,"why-us","py-5","mb-5","text-center"],[1,"mb-4"],[1,"row"],[1,"col-md-4","mb-4"],[1,"bi","bi-music-note-beamed","fs-1","text-danger"],[1,"mt-3"],[1,"bi","bi-star-fill","fs-1","text-warning"],[1,"bi","bi-person-hearts","fs-1","text-success"],[1,"events","py-5","mb-5"],["class","alert alert-warning text-center",4,"ngIf"],["class","row g-4",4,"ngIf"],[1,"map","py-5","mb-5"],[1,"mb-4","text-center"],[1,"map-responsive","rounded"],["src",Tm`https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d12725.398648228414!2d-5.474180765088075!3d37.12059541531309!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1ses!2ses!4v1753616587181!5m2!1ses!2ses`,"width","100%","height","350","loading","lazy","allowfullscreen","",2,"border","0"],[1,"vip","py-5","mb-5","text-center","bg-light"],[1,"mb-3"],[1,"btn","btn-outline-danger","mt-2",3,"click"],[1,"footer","py-4","text-center","text-muted"],["href","https://instagram.com","target","_blank",1,"text-muted","mx-2"],[1,"bi","bi-instagram","fs-4"],["href","https://facebook.com","target","_blank",1,"text-muted","mx-2"],[1,"bi","bi-facebook","fs-4"],["href","https://wa.me/34600000000","target","_blank",1,"text-muted","mx-2"],[1,"bi","bi-whatsapp","fs-4"],[1,"btn","btn-outline-light","btn-lg","mt-3","ms-3",3,"click"],[1,"alert","alert-warning","text-center"],[1,"row","g-4"],["class","col-md-6",4,"ngFor","ngForOf"],[1,"col-md-6"],[1,"card","event-card","h-100","shadow-sm","border-0"],[1,"row","g-0","h-100"],[1,"col-5","overflow-hidden","img-col"],[1,"img-fluid","h-100","object-cover",3,"src","alt"],[1,"col-7","d-flex","flex-column","p-3"],[1,"small","text-muted","mb-2"],[1,"mb-2"],[1,"mb-1"],[1,"mt-auto"],[1,"badge","bg-light","text-muted","me-1","small"]],template:function(n,r){n&1&&(I(0,"section",0)(1,"div",1)(2,"h1",2),k(3,"MalaCara \xB7 Mor\xF3n"),_(),I(4,"p",3),k(5,"La noche como nunca antes la viviste. Eventos exclusivos y un ambiente imparable."),_(),un(6,cB,2,0,"button",4),_()(),I(7,"section",5)(8,"div",1)(9,"h2",6),k(10,"\xBFPor qu\xE9 MalaCara?"),_(),I(11,"div",7)(12,"div",8),ge(13,"i",9),I(14,"h5",10),k(15,"Ambiente vibrante"),_(),I(16,"p"),k(17,"M\xFAsica, luces y gente con actitud hacen de cada fiesta un recuerdo inolvidable."),_()(),I(18,"div",8),ge(19,"i",11),I(20,"h5",10),k(21,"Eventos \xFAnicos"),_(),I(22,"p"),k(23,"Tem\xE1ticas originales, DJs invitados y experiencias que solo encontrar\xE1s aqu\xED."),_()(),I(24,"div",8),ge(25,"i",12),I(26,"h5",10),k(27,"Comunidad apasionada"),_(),I(28,"p"),k(29,"Conecta con personas que comparten tu energ\xEDa. \xA1Aqu\xED nadie pasa desapercibido!"),_()()()()(),I(30,"section",13)(31,"div",1)(32,"h2",6),k(33,"Pr\xF3ximos eventos"),_(),un(34,dB,2,0,"div",14)(35,fB,2,1,"div",15),_()(),I(36,"section",16)(37,"div",1)(38,"h2",17),k(39,"\xBFD\xF3nde encontrarnos?"),_(),I(40,"div",18),ge(41,"iframe",19),_()()(),I(42,"section",20)(43,"div",1)(44,"h2",21),k(45,"Zona VIP y eventos privados"),_(),I(46,"p"),k(47,"\xBFQuieres algo exclusivo? Ofrecemos espacios privados, botellas premium y atenci\xF3n personalizada para ti y tus amigos."),_(),I(48,"button",22),Ne("click",function(){return r.openContact()}),k(49,"Contacta con nosotros"),_()()(),I(50,"footer",23)(51,"div",1)(52,"div",21)(53,"a",24),ge(54,"i",25),_(),I(55,"a",26),ge(56,"i",27),_(),I(57,"a",28),ge(58,"i",29),_()(),I(59,"small"),k(60,"\xA9 2025 MalaCara Discoteca \xB7 Mor\xF3n de la Frontera"),_()()()),n&2&&(q(6),Le("ngIf",r.isLoggedIn),q(28),Le("ngIf",!r.parties.length),q(),Le("ngIf",r.parties.length))},dependencies:[Kd,mg,gg],styles:[".hero[_ngcontent-%COMP%]{background:url(/assets/hero-bg.jpg) center/cover no-repeat}.hero[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background-color:#e2400c;border:none}.img-col[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover}.event-card[_ngcontent-%COMP%]{border-radius:.5rem;overflow:hidden;display:flex;height:100%}.event-card[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:600}.map-responsive[_ngcontent-%COMP%]{position:relative;width:100%;padding-bottom:56.25%}.map-responsive[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}.vip[_ngcontent-%COMP%]{color:#212529}.vip[_ngcontent-%COMP%]   .btn-outline-danger[_ngcontent-%COMP%]{border-color:#e2400c;color:#e2400c}.vip[_ngcontent-%COMP%]   .btn-outline-danger[_ngcontent-%COMP%]:hover{background-color:#e2400c;color:#fff}"]})};var up=class t{constructor(e,n){this.authService=e;this.router=n}email="";password="";onLogin(){if(!this.email||!this.password){alert("Por favor completa email y contrase\xF1a");return}this.authService.login(this.email,this.password).then(()=>{alert("\xA1Login exitoso!"),this.router.navigate(["/dashboard"])}).catch(e=>alert("Error: "+e.message))}static \u0275fac=function(n){return new(n||t)(T(Cs),T(xn))};static \u0275cmp=gt({type:t,selectors:[["app-login"]],decls:15,vars:2,consts:[["loginForm","ngForm"],[1,"login-container","d-flex","justify-content-center","align-items-center"],[1,"login-card","p-4","rounded"],[1,"text-center","mb-4"],[1,"logo-face","mb-3"],[1,"text-light"],[3,"ngSubmit"],[1,"mb-3"],["type","email","placeholder","Correo electr\xF3nico","required","","name","email",1,"form-control",3,"ngModelChange","ngModel"],["type","password","placeholder","Contrase\xF1a","required","","name","password",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-login","w-100"]],template:function(n,r){if(n&1){let o=bo();I(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),k(4,":<"),_(),I(5,"h2",5),k(6,"Acceso Gerente"),_()(),I(7,"form",6,0),Ne("ngSubmit",function(){return Te(o),Se(r.onLogin())}),I(9,"div",7)(10,"input",8),ot("ngModelChange",function(s){return Te(o),vt(r.email,s)||(r.email=s),Se(s)}),_()(),I(11,"div",7)(12,"input",9),ot("ngModelChange",function(s){return Te(o),vt(r.password,s)||(r.password=s),Se(s)}),_()(),I(13,"button",10),k(14,"Iniciar sesi\xF3n"),_()()()()}n&2&&(q(10),rt("ngModel",r.email),q(2),rt("ngModel",r.password))},dependencies:[Zd,Pf,us,Vr,cs,ds,Go,Il,El],styles:[".login-container[_ngcontent-%COMP%]{height:100vh;background-color:#1c1c1c}.login-card[_ngcontent-%COMP%]{background-color:#2b2b2b;width:100%;max-width:400px;box-shadow:0 0 20px #e2400c4d;border:1px solid #e2400c}.logo-face[_ngcontent-%COMP%]{font-size:4rem;color:#000;background-color:#e2400c;display:inline-block;padding:.4rem 1rem;border-radius:10px;font-weight:700;font-family:monospace;transform:rotate(-5deg)}.btn-login[_ngcontent-%COMP%]{background-color:#e2400c;color:#fff;border:none;font-weight:700;transition:.3s}.btn-login[_ngcontent-%COMP%]:hover{background-color:#fff;color:#e2400c;border:1px solid #e2400c}.create-party-container[_ngcontent-%COMP%]{min-height:100vh;background-color:#2b2b2b;padding:20px;box-sizing:border-box;overflow-y:auto;color:#fff}"]})};function pB(t,e){t&1&&(I(0,"div",6)(1,"label"),k(2,"Vista previa:"),_(),I(3,"div",28),ge(4,"img",29),_()())}var fp=class t{constructor(e,n,r){this.partyService=e;this.router=n;this.http=r}party={name:"",place:"",date:"",startTime:"",endTime:"",ticketsAvailable:!0,dressCode:"",musicType:"",photo:""};selectedFile=null;cloudName="dp18ba4tj";unsignedUploadPreset="cookshare_unsigned";onFileChange(e){e.target.files&&e.target.files.length>0&&(this.selectedFile=e.target.files[0],console.log("Archivo seleccionado:",this.selectedFile))}onSubmit(){return h(this,null,function*(){try{if(this.selectedFile){let e=new FormData;e.append("file",this.selectedFile),e.append("unsignedUploadPreset ","cookshare_unsigned"),e.append("cloud_name","dp18ba4tj");let r=yield(yield fetch("https://api.cloudinary.com/v1_1/TU_CLOUD_NAME/image/upload",{method:"POST",body:e})).json();this.party.photo=r.secure_url}yield this.partyService.createParty(this.party),this.router.navigate(["/"])}catch(e){console.error("Error al crear fiesta:",e)}})}uploadToCloudinary(e){let n=`https://api.cloudinary.com/v1_1/${this.cloudName}/upload`,r=new FormData;return r.append("file",e),r.append("upload_preset",this.unsignedUploadPreset),new Promise((o,i)=>{this.http.post(n,r).subscribe({next:s=>o(s.secure_url),error:s=>i("Error al subir imagen: "+s.message)})})}static \u0275fac=function(n){return new(n||t)(T(xs),T(xn),T(iu))};static \u0275cmp=gt({type:t,selectors:[["app-create-party"]],decls:51,vars:12,consts:[["partyForm","ngForm"],[1,"create-party-container"],[1,"create-party-card"],[1,"logo-face"],[1,"title"],["enctype","multipart/form-data",3,"ngSubmit"],[1,"form-group"],["for","name"],["type","text","id","name","name","name","required","",3,"ngModelChange","ngModel"],["for","place"],["type","text","id","place","name","place","required","",3,"ngModelChange","ngModel"],["for","date"],["type","date","id","date","name","date","required","",3,"ngModelChange","ngModel"],["for","startTime"],["type","time","id","startTime","name","startTime","required","",3,"ngModelChange","ngModel"],["for","endTime"],["type","time","id","endTime","name","endTime","required","",3,"ngModelChange","ngModel"],["for","tickets"],["id","tickets","name","tickets",3,"ngModelChange","ngModel"],[3,"value"],["for","dressCode"],["type","text","id","dressCode","name","dressCode",3,"ngModelChange","ngModel"],["for","musicType"],["type","text","id","musicType","name","musicType",3,"ngModelChange","ngModel"],["for","photo"],["type","file","id","photo","name","photo","accept","image/*",3,"change"],["class","form-group",4,"ngIf"],["type","submit",1,"btn-login",3,"disabled"],[1,"preview-circle"],["ngSrc","imagePreview","alt","Preview"]],template:function(n,r){if(n&1){let o=bo();I(0,"div",1)(1,"div",2)(2,"h2",3),k(3,":("),_(),I(4,"h3",4),k(5,"Crear Fiesta"),_(),I(6,"form",5,0),Ne("ngSubmit",function(){return Te(o),Se(r.onSubmit())}),I(8,"div",6)(9,"label",7),k(10,"Nombre"),_(),I(11,"input",8),ot("ngModelChange",function(s){return Te(o),vt(r.party.name,s)||(r.party.name=s),Se(s)}),_()(),I(12,"div",6)(13,"label",9),k(14,"Lugar"),_(),I(15,"input",10),ot("ngModelChange",function(s){return Te(o),vt(r.party.place,s)||(r.party.place=s),Se(s)}),_()(),I(16,"div",6)(17,"label",11),k(18,"D\xEDa"),_(),I(19,"input",12),ot("ngModelChange",function(s){return Te(o),vt(r.party.date,s)||(r.party.date=s),Se(s)}),_()(),I(20,"div",6)(21,"label",13),k(22,"Hora de inicio"),_(),I(23,"input",14),ot("ngModelChange",function(s){return Te(o),vt(r.party.startTime,s)||(r.party.startTime=s),Se(s)}),_()(),I(24,"div",6)(25,"label",15),k(26,"Hora de fin"),_(),I(27,"input",16),ot("ngModelChange",function(s){return Te(o),vt(r.party.endTime,s)||(r.party.endTime=s),Se(s)}),_()(),I(28,"div",6)(29,"label",17),k(30,"Entradas disponibles"),_(),I(31,"select",18),ot("ngModelChange",function(s){return Te(o),vt(r.party.ticketsAvailable,s)||(r.party.ticketsAvailable=s),Se(s)}),I(32,"option",19),k(33,"S\xED"),_(),I(34,"option",19),k(35,"No"),_()()(),I(36,"div",6)(37,"label",20),k(38,"Estilo de ropa"),_(),I(39,"input",21),ot("ngModelChange",function(s){return Te(o),vt(r.party.dressCode,s)||(r.party.dressCode=s),Se(s)}),_()(),I(40,"div",6)(41,"label",22),k(42,"Tipo de m\xFAsica"),_(),I(43,"input",23),ot("ngModelChange",function(s){return Te(o),vt(r.party.musicType,s)||(r.party.musicType=s),Se(s)}),_()(),I(44,"div",6)(45,"label",24),k(46,"Foto de portada"),_(),I(47,"input",25),Ne("change",function(s){return Te(o),Se(r.onFileChange(s))}),_()(),un(48,pB,5,0,"div",26),I(49,"button",27),k(50,"Crear Fiesta"),_()()()()}if(n&2){let o=Qm(7);q(11),rt("ngModel",r.party.name),q(4),rt("ngModel",r.party.place),q(4),rt("ngModel",r.party.date),q(4),rt("ngModel",r.party.startTime),q(4),rt("ngModel",r.party.endTime),q(4),rt("ngModel",r.party.ticketsAvailable),q(),Le("value",!0),q(2),Le("value",!1),q(5),rt("ngModel",r.party.dressCode),q(4),rt("ngModel",r.party.musicType),q(5),Le("ngIf",r.imagePreview),q(),Le("disabled",o.invalid)}},dependencies:[Pf,us,pS,mS,Vr,Of,cs,ds,Go,Il,El,CI],styles:[".create-party-container[_ngcontent-%COMP%]{min-height:100vh;background-color:#1c1c1c;display:flex;justify-content:center;align-items:center;padding:1rem}.create-party-card[_ngcontent-%COMP%]{background-color:#2b2b2b;width:100%;max-width:400px;padding:2rem;box-shadow:0 0 20px #e2400c4d;border:1px solid #e2400c;border-radius:10px;color:#fff}.logo-face[_ngcontent-%COMP%]{font-size:4rem;color:#000;background-color:#e2400c;display:inline-block;padding:.4rem 1rem;border-radius:10px;font-weight:700;font-family:monospace;transform:rotate(-5deg);margin-bottom:1rem}.title[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem;color:#e2400c;font-weight:700;font-family:monospace}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem;display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:.3rem;font-weight:700;color:#e2400c;font-family:monospace}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background-color:#1c1c1c;border:1px solid #e2400c;color:#fff;padding:.5rem;border-radius:5px;font-family:monospace;transition:border-color .3s}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#ff4500}.btn-login[_ngcontent-%COMP%]{width:100%;background-color:#e2400c;color:#fff;border:none;font-weight:700;padding:.75rem;border-radius:5px;cursor:pointer;font-family:monospace;transition:background-color .3s,color .3s}.btn-login[_ngcontent-%COMP%]:disabled{background-color:#7a7a7a;cursor:not-allowed}.btn-login[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#fff;color:#e2400c;border:1px solid #e2400c}"]})};var pp=class t{constructor(e){this.db=e}crearContacto(e){let n=M(y({},e),{fecha:new Date().toISOString()}),r=Lr(this.db,"contactos");return yf(r,n)}static \u0275fac=function(n){return new(n||t)(S(Qt))};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})};function mB(t,e){t&1&&(I(0,"div",12),k(1," \xA1Tu mensaje ha sido enviado correctamente! "),_())}var hp=class t{constructor(e,n){this.fb=e;this.contactService=n;this.contactoForm=this.fb.group({correo:["",[zo.required,zo.email]],titulo:["",zo.required],descripcion:["",zo.required]})}contactoForm;enviado=!1;enviar(){this.contactoForm.invalid||this.contactService.crearContacto(this.contactoForm.value).then(()=>{this.enviado=!0,this.contactoForm.reset()})}static \u0275fac=function(n){return new(n||t)(T(bS),T(pp))};static \u0275cmp=gt({type:t,selectors:[["app-contact-form"]],decls:19,vars:3,consts:[[1,"container","my-5"],[1,"mb-4","text-center"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","correo",1,"form-label"],["type","email","id","correo","formControlName","correo","required","",1,"form-control"],["for","titulo",1,"form-label"],["type","text","id","titulo","formControlName","titulo","required","",1,"form-control"],["for","descripcion",1,"form-label"],["id","descripcion","rows","5","formControlName","descripcion","required","",1,"form-control"],["type","submit",1,"btn","btn-danger",3,"disabled"],["class","alert alert-success mt-3",4,"ngIf"],[1,"alert","alert-success","mt-3"]],template:function(n,r){n&1&&(I(0,"div",0)(1,"h2",1),k(2,"Cont\xE1ctanos"),_(),I(3,"form",2),Ne("ngSubmit",function(){return r.enviar()}),I(4,"div",3)(5,"label",4),k(6,"Correo electr\xF3nico"),_(),ge(7,"input",5),_(),I(8,"div",3)(9,"label",6),k(10,"T\xEDtulo de la consulta"),_(),ge(11,"input",7),_(),I(12,"div",3)(13,"label",8),k(14,"Descripci\xF3n"),_(),ge(15,"textarea",9),_(),I(16,"button",10),k(17,"Enviar"),_(),un(18,mB,2,0,"div",11),_()()),n&2&&(q(3),Le("formGroup",r.contactoForm),q(13),Le("disabled",r.contactoForm.invalid),q(2),Le("ngIf",r.enviado))},dependencies:[Ff,us,Vr,cs,ds,Go,My,Oy],styles:[".container[_ngcontent-%COMP%]{max-width:600px;background-color:#fff7f2;padding:2rem;border-radius:1rem;box-shadow:0 0 15px #e2400c4d}h2[_ngcontent-%COMP%]{color:#e2400c;font-weight:700;margin-bottom:1.5rem}label[_ngcontent-%COMP%]{font-weight:600;color:#333}input.form-control[_ngcontent-%COMP%], textarea.form-control[_ngcontent-%COMP%]{border:2px solid #e2400c;border-radius:.5rem;padding:.5rem 1rem;transition:border-color .3s ease}input.form-control[_ngcontent-%COMP%]:focus, textarea.form-control[_ngcontent-%COMP%]:focus{border-color:#b92a00;box-shadow:0 0 5px #e2400c;outline:none}button.btn-danger[_ngcontent-%COMP%]{background-color:#e2400c;border:none;padding:.6rem 1.5rem;border-radius:.5rem;font-weight:600;transition:background-color .3s ease}button.btn-danger[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#b92a00}button[_ngcontent-%COMP%]:disabled{background-color:#f7a891;cursor:not-allowed}.alert-success[_ngcontent-%COMP%]{background-color:#dff0d8;color:#3c763d;border-radius:.5rem;padding:1rem;margin-top:1.5rem;font-weight:600;text-align:center}"]})};var uk=[{path:"",component:dp},{path:"create-party",component:fp},{path:"admin-access-9821",component:up},{path:"contacto",component:hp},{path:"**",redirectTo:"",pathMatch:"full"}];xg(cp,{providers:[RC(()=>NC(lk.firebaseConfig)),OT(()=>fl()),Vc(Rg,Ff),iw(uk)]});
